---
id: multi_tenancy.md
title: تنفيذ الإيجار المتعدد
summary: >-
  في Milvus، يعني تعدد الاستئجار في Milvus مشاركة عدة عملاء أو فرق - يُشار إليهم
  بالمستأجرين - في نفس المجموعة مع الحفاظ على بيئات بيانات معزولة.
---
<h1 id="Implement-Multi-tenancy" class="common-anchor-header">تنفيذ الإيجار المتعدد<button data-href="#Implement-Multi-tenancy" class="anchor-icon" translate="no">
      <svg translate="no"
        aria-hidden="true"
        focusable="false"
        height="20"
        version="1.1"
        viewBox="0 0 16 16"
        width="16"
      >
        <path
          fill="#0092E4"
          fill-rule="evenodd"
          d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
        ></path>
      </svg>
    </button></h1><p>في Milvus، يعني تعدد الإيجارات في Milvus مشاركة عدة عملاء أو فرق - يشار إليهم <strong>بالمستأجرين -</strong>في نفس المجموعة مع الحفاظ على بيئات بيانات معزولة.</p>
<p>تدعم Milvus أربع استراتيجيات للإيجارات المتعددة، تقدم كل منها مفاضلة مختلفة بين قابلية التوسع وعزل البيانات والمرونة. يطلعك هذا الدليل على كل خيار، مما يساعدك على اختيار الاستراتيجية الأنسب لحالة الاستخدام الخاصة بك.</p>
<h2 id="Multi-tenancy-strategies" class="common-anchor-header">استراتيجيات الإيجار المتعدد<button data-href="#Multi-tenancy-strategies" class="anchor-icon" translate="no">
      <svg translate="no"
        aria-hidden="true"
        focusable="false"
        height="20"
        version="1.1"
        viewBox="0 0 16 16"
        width="16"
      >
        <path
          fill="#0092E4"
          fill-rule="evenodd"
          d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
        ></path>
      </svg>
    </button></h2><p>يدعم ميلفوس الإيجار المتعدد على أربعة مستويات: <strong>قاعدة البيانات</strong> <strong>والمجموعة</strong> <strong>والتقسيم</strong> <strong>ومفتاح التقسيم ومفتاح التقسيم</strong>.</p>
<h3 id="Database-level-multi-tenancy" class="common-anchor-header">الإيجار المتعدد على مستوى قاعدة البيانات</h3><p>من خلال الإيجار المتعدد على مستوى قاعدة البيانات، يتلقى كل مستأجر <a href="/docs/ar/manage_databases.md">قاعدة بيانات</a> مطابقة تحتوي على مجموعة واحدة أو أكثر.</p>
<p>
  
   <span class="img-wrapper"> <img translate="no" src="/docs/v2.5.x/assets/database-level-multi-tenancy.png" alt="Database Level Multi Tenancy" class="doc-image" id="database-level-multi-tenancy" />
   </span> <span class="img-wrapper"> <span>الإيجار المتعدد على مستوى قاعدة البيانات</span> </span></p>
<ul>
<li><p><strong>قابلية التوسع</strong>: تدعم استراتيجية الإيجار المتعدد على مستوى قاعدة البيانات 64 مستأجراً كحد أقصى افتراضياً.</p></li>
<li><p><strong>عزل البيانات</strong>: يتم فصل البيانات في كل قاعدة بيانات بشكل كامل، مما يوفر عزلاً للبيانات على مستوى المؤسسات مثاليًا للبيئات المنظمة أو العملاء الذين لديهم احتياجات امتثال صارمة.</p></li>
<li><p><strong>المرونة</strong>: يمكن أن تحتوي كل قاعدة بيانات على مجموعات بمخططات مختلفة، مما يوفر تنظيمًا مرنًا للغاية للبيانات ويسمح لكل مستأجر أن يكون لكل مستأجر مخطط بيانات خاص به.</p></li>
<li><p><strong>أخرى</strong>: تدعم هذه الاستراتيجية أيضًا نظام RBAC، مما يتيح التحكم الدقيق في وصول المستخدم لكل مستأجر. بالإضافة إلى ذلك، يمكنك تحميل البيانات أو إصدارها بمرونة لمستأجرين محددين لإدارة البيانات الساخنة والباردة بفعالية.</p></li>
</ul>
<h3 id="Collection-level-multi-tenancy" class="common-anchor-header">الإيجار المتعدد على مستوى المجموعة</h3><p>من خلال الإيجار المتعدد على مستوى المجموعة، يتم تعيين <a href="/docs/ar/manage-collections.md">مجموعة</a> لكل مستأجر، مما يوفر عزلاً قوياً للبيانات.</p>
<p>
  
   <span class="img-wrapper"> <img translate="no" src="/docs/v2.5.x/assets/collection-level-multi-tenancy.png" alt="Collection Level Multi Tenancy" class="doc-image" id="collection-level-multi-tenancy" />
   </span> <span class="img-wrapper"> <span>الإيجار المتعدد على مستوى المجموعة</span> </span></p>
<ul>
<li><p><strong>قابلية التوسع</strong>: نظرًا لأن المجموعة يمكن أن تستوعب ما يصل إلى 65,536 مجموعة بشكل افتراضي، يمكن لهذه الاستراتيجية أن تستوعب نفس عدد المستأجرين داخل المجموعة.</p></li>
<li><p><strong>عزل البيانات</strong>: يتم عزل المجموعات فعليًا عن بعضها البعض. توفر هذه الاستراتيجية عزلًا قويًا للبيانات.</p></li>
<li><p><strong>المرونة</strong>: تسمح هذه الاستراتيجية بأن يكون لكل مجموعة مخططها الخاص، مما يستوعب المستأجرين الذين لديهم مخططات بيانات مختلفة.</p></li>
<li><p><strong>أخرى</strong>: تدعم هذه الاستراتيجية أيضًا نظام RBAC، مما يسمح بالتحكم الدقيق في الوصول إلى المستأجرين. بالإضافة إلى ذلك، يمكنك تحميل البيانات أو إصدارها بمرونة لمستأجرين محددين لإدارة البيانات الساخنة والباردة بفعالية.</p></li>
</ul>
<h3 id="Partition-level-multi-tenancy" class="common-anchor-header">الإيجار المتعدد على مستوى القسم</h3><p>في الإيجار المتعدد على مستوى القسم، يتم تعيين كل مستأجر إلى <a href="/docs/ar/manage-partitions.md">قسم</a> تم إنشاؤه يدوياً ضمن مجموعة مشتركة.</p>
<p>
  
   <span class="img-wrapper"> <img translate="no" src="/docs/v2.5.x/assets/partition-level-multi-tenancy.png" alt="Partition Level Multi Tenancy" class="doc-image" id="partition-level-multi-tenancy" />
   </span> <span class="img-wrapper"> <span>الإيجار المتعدد على مستوى القسم</span> </span></p>
<ul>
<li><p><strong>قابلية التوسع</strong>: يمكن للمجموعة أن تستوعب ما يصل إلى 1,024 قسماً لكل مجموعة، مما يسمح بنفس عدد المستأجرين داخلها.</p></li>
<li><p><strong>عزل البيانات</strong>: يتم فصل بيانات كل مستأجر فعليًا عن طريق الأقسام.</p></li>
<li><p><strong>المرونة</strong>: تتطلب هذه الاستراتيجية مشاركة جميع المستأجرين نفس مخطط البيانات. ويجب إنشاء الأقسام يدوياً.</p></li>
<li><p><strong>أخرى</strong>: لا يتم دعم RBAC على مستوى الأقسام. يمكن الاستعلام عن المستأجرين إما بشكل فردي أو عبر أقسام متعددة، مما يجعل هذا النهج مناسبًا تمامًا للسيناريوهات التي تتضمن استعلامات مجمعة أو تحليلات عبر شرائح المستأجرين. بالإضافة إلى ذلك، يمكنك تحميل البيانات أو إصدارها بمرونة لمستأجرين محددين لإدارة البيانات الساخنة والباردة بفعالية.</p></li>
</ul>
<h3 id="Partition-key-level-multi-tenancy" class="common-anchor-header">الإيجار المتعدد على مستوى مفتاح التقسيم</h3><p>باستخدام هذه الاستراتيجية، يشترك جميع المستأجرين في مجموعة واحدة ومخطط واحد، ولكن يتم توجيه بيانات كل مستأجر تلقائيًا إلى 16 قسمًا معزولًا فعليًا استنادًا إلى قيمة <a href="/docs/ar/use-partition-key.md">مفتاح القسم</a>. على الرغم من أن كل قسم فعلي يمكن أن يحتوي على مستأجرين متعددين، إلا أن البيانات من مستأجرين مختلفين تظل منفصلة منطقياً.</p>
<p>
  
   <span class="img-wrapper"> <img translate="no" src="/docs/v2.5.x/assets/partition-key-level-multi-tenancy.png" alt="Partition Key Level Multi Tenancy" class="doc-image" id="partition-key-level-multi-tenancy" />
   </span> <span class="img-wrapper"> <span>مستوى مفتاح التقسيم متعدد المستأجرين</span> </span></p>
<ul>
<li><p><strong>قابلية التوسع</strong>: توفر استراتيجية مستوى مفتاح التقسيم الطريقة الأكثر قابلية للتوسع، حيث تدعم ملايين المستأجرين.</p></li>
<li><p><strong>عزل البيانات</strong>: توفر هذه الاستراتيجية عزلاً ضعيفًا نسبيًا للبيانات لأن المستأجرين المتعددين يمكنهم مشاركة قسم فعلي.</p></li>
<li><p><strong>المرونة</strong>: نظرًا لأن جميع المستأجرين يجب أن يتشاركوا نفس مخطط البيانات، فإن هذه الاستراتيجية توفر مرونة محدودة في البيانات.</p></li>
<li><p><strong>أخرى</strong>: لا يتم دعم RBAC على مستوى مفتاح القسم. يمكن الاستعلام عن المستأجرين إما بشكل فردي أو عبر أقسام متعددة، مما يجعل هذا النهج مناسبًا تمامًا للسيناريوهات التي تتضمن استعلامات أو تحليلات مجمعة عبر قطاعات المستأجرين.</p></li>
</ul>
<h2 id="Choosing-the-right-multi-tenancy-strategy" class="common-anchor-header">اختيار استراتيجية الإيجارات المتعددة المناسبة<button data-href="#Choosing-the-right-multi-tenancy-strategy" class="anchor-icon" translate="no">
      <svg translate="no"
        aria-hidden="true"
        focusable="false"
        height="20"
        version="1.1"
        viewBox="0 0 16 16"
        width="16"
      >
        <path
          fill="#0092E4"
          fill-rule="evenodd"
          d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
        ></path>
      </svg>
    </button></h2><p>يقدم الجدول أدناه مقارنة شاملة بين المستويات الأربعة لاستراتيجيات الإيجار المتعدد.</p>
<table>
   <tr>
     <th></th>
     <th><p><strong>مستوى قاعدة البيانات</strong></p></th>
     <th><p><strong>مستوى المجموعة</strong></p></th>
     <th><p><strong>مستوى التقسيم</strong></p></th>
     <th><p><strong>مستوى مفتاح التقسيم</strong></p></th>
   </tr>
   <tr>
     <td><p><strong>عزل البيانات</strong></p></td>
     <td><p>مادي</p></td>
     <td><p>فيزيائي</p></td>
     <td><p>فيزيائي</p></td>
     <td><p>مادي + منطقي</p></td>
   </tr>
   <tr>
     <td><p><strong>الحد الأقصى لعدد المستأجرين</strong></p></td>
     <td><p>افتراضيًا، 64. يمكنك زيادته عن طريق تعديل المعلمة <code translate="no">maxDatabaseNum</code> في ملف التكوين Milvus.yaml. </p></td>
     <td><p>افتراضياً، 65,536. يمكنك زيادته عن طريق تعديل المعلمة <code translate="no">maxCollectionNum</code> في ملف التكوين Milvus.yaml.</p></td>
     <td><p>حتى 1,024 لكل مجموعة. </p></td>
     <td><p>ملايين</p></td>
   </tr>
   <tr>
     <td><p><strong>مرونة مخطط البيانات</strong></p></td>
     <td><p>عالية</p></td>
     <td><p>متوسط</p></td>
     <td><p>منخفضة</p></td>
     <td><p>منخفضة</p></td>
   </tr>
   <tr>
     <td><p><strong>دعم RBAC</strong></p></td>
     <td><p>نعم</p></td>
     <td><p>نعم</p></td>
     <td><p>لا يوجد</p></td>
     <td><p>لا يوجد</p></td>
   </tr>
   <tr>
     <td><p><strong>أداء البحث</strong></p></td>
     <td><p>قوي</p></td>
     <td><p>قوي</p></td>
     <td><p>متوسط</p></td>
     <td><p>متوسط</p></td>
   </tr>
   <tr>
     <td><p><strong>دعم البحث عبر المستأجرين</strong></p></td>
     <td><p>لا يوجد</p></td>
     <td><p>لا يوجد</p></td>
     <td><p>نعم</p></td>
     <td><p>نعم</p></td>
   </tr>
   <tr>
     <td><p><strong>دعم المعالجة الفعالة للبيانات الساخنة والباردة</strong></p></td>
     <td><p>نعم</p></td>
     <td><p>نعم نعم</p></td>
     <td><p>نعم</p></td>
     <td><p>لا، غير مدعومة حالياً لاستراتيجية مستوى مفتاح التقسيم.</p></td>
   </tr>
</table>
<p>هناك العديد من العوامل التي يجب مراعاتها عند اختيار استراتيجية تعدد الإيجارات في ميلفوس.</p>
<ol>
<li><p><strong>قابلية التوسع:</strong> مفتاح التقسيم &gt; القسم &gt; القسم &gt; المجموعة &gt; قاعدة البيانات</p>
<p>إذا كنت تتوقع دعم عدد كبير جدًا من المستأجرين (ملايين أو أكثر)، فاستخدم استراتيجية مستوى مفتاح التقسيم.</p></li>
<li><p><strong>متطلبات عزل البيانات القوية</strong>: قاعدة البيانات = المجموعة &gt; المجموعة &gt; القسم &gt; مفتاح التقسيم &gt; مفتاح التقسيم</p>
<p>اختر استراتيجيات قاعدة البيانات أو المجموعة أو استراتيجيات مستوى القسم إذا كانت لديك متطلبات عزل بيانات مادية صارمة.</p></li>
<li><p><strong>مخطط بيانات مرن لبيانات كل مستأجر:</strong> قاعدة البيانات &gt; المجموعة &gt; المجموعة &gt; التقسيم = مفتاح التقسيم</p>
<p>توفر الاستراتيجيات على مستوى قاعدة البيانات وعلى مستوى المجموعة مرونة كاملة في مخططات البيانات. إذا كانت هياكل بيانات المستأجرين لديك مختلفة، فاختر الإيجار المتعدد على مستوى قاعدة البيانات أو على مستوى المجموعة.</p></li>
<li><p><strong>أخرى</strong></p>
<ol>
<li><p><strong>الأداء:</strong> يتم تحديد أداء البحث من خلال عوامل مختلفة، بما في ذلك الفهارس ومعلمات البحث وتكوينات الجهاز. يدعم ميلفوس أيضًا ضبط الأداء. يوصى باختبار الأداء الفعلي قبل تحديد استراتيجية تعدد الإيجار.</p></li>
<li><p><strong>المعالجة الفعالة للبيانات الساخنة والباردة</strong>: في الوقت الحالي، تدعم جميع الاستراتيجيات على مستوى قاعدة البيانات، وعلى مستوى المجموعة، وعلى مستوى الأقسام، معالجة البيانات الساخنة والباردة.</p></li>
<li><p><strong>عمليات البحث عبر المستأجرين</strong>: تدعم الاستراتيجيات على مستوى القسم ومستوى مفتاح القسم فقط الاستعلامات المشتركة بين المستأجرين.</p></li>
</ol></li>
</ol>
