---
id: metrics_dashboard.md
title: Panel de métricas de Milvus
summary: >-
  Este tema presenta las métricas de supervisión que se muestran en el panel de
  Milvus.
---

<h1 id="Milvus-Metrics-Dashboard" class="common-anchor-header">Panel de métricas de Milvus<button data-href="#Milvus-Metrics-Dashboard" class="anchor-icon" translate="no">
      <svg translate="no"
        aria-hidden="true"
        focusable="false"
        height="20"
        version="1.1"
        viewBox="0 0 16 16"
        width="16"
      >
        <path
          fill="#0092E4"
          fill-rule="evenodd"
          d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
        ></path>
      </svg>
    </button></h1><p>Milvus genera una lista de métricas detalladas de series temporales durante el tiempo de ejecución. Puede utilizar <a href="https://prometheus.io/">Prometheus</a> y <a href="https://grafana.com/">Grafana</a> para visualizar las métricas. Este tema presenta las métricas de supervisión que se muestran en el panel de Milvus de Grafana.</p>
<p>La unidad de tiempo en este tema es milisegundos. Y "percentil 99" en este tema se refiere al hecho de que el 99 por ciento de las estadísticas de tiempo se controlan dentro de un cierto valor.</p>
<p>Recomendamos leer la <a href="/docs/es/v2.5.x/monitor_overview.md">descripción general del marco de supervisión de Milvus</a> para comprender primero las métricas de Prometheus.</p>
<p><details><summary>Proxy</summary></p>
<table>
<thead>
<tr><th>Panel</th><th>Descripción del panel</th><th>PromQL (Lenguaje de consulta de Prometheus)</th><th>Las métricas Milvus utilizadas</th><th>Descripción de las métricas Milvus</th></tr>
</thead>
<tbody>
<tr><td>Tasa de recuento de vectores de búsqueda</td><td>El número medio de vectores consultados por segundo por cada proxy en los últimos dos minutos.</td><td><code translate="no">sum(increase(milvus_proxy_search_vectors_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (pod, node_id)</code></td><td><code translate="no">milvus_proxy_search_vectors_count</code></td><td>Número acumulado de vectores consultados.</td></tr>
<tr><td>Índice de recuento de vectores insertados</td><td>Número medio de vectores insertados por segundo por cada proxy en los últimos dos minutos.</td><td><code translate="no">sum(increase(milvus_proxy_insert_vectors_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (pod, node_id)</code></td><td><code translate="no">milvus_proxy_insert_vectors_count</code></td><td>Número acumulado de vectores insertados.</td></tr>
<tr><td>Latencia de búsqueda</td><td>La latencia media y el percentil 99 de la latencia de recepción de solicitudes de búsqueda y consulta por cada proxy en los últimos dos minutos.</td><td>p99: <br/> <code translate="no">histogram_quantile(0.99, sum by (le, query_type, pod, node_id) (rate(milvus_proxy_sq_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg: <br/> <code translate="no">sum(increase(milvus_proxy_sq_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, query_type) / sum(increase(milvus_proxy_sq_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, query_type)</code></td><td><code translate="no">milvus_proxy_sq_latency</code></td><td>Latencia de las solicitudes de búsqueda y consulta.</td></tr>
<tr><td>Latencia de búsqueda de colecciones</td><td>La latencia media y el percentil 99 de la latencia de recepción de solicitudes de búsqueda y consulta de una colección específica por cada proxy en los últimos dos minutos.</td><td>p99: <br/> <code translate="no">histogram_quantile(0.99, sum by (le, query_type, pod, node_id) (rate(milvus_proxy_collection_sq_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;, collection_name=~&quot;$collection&quot;}[2m])))</code> <br/> avg: <br/> <code translate="no">sum(increase(milvus_proxy_collection_sq_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;, collection_name=~&quot;$collection&quot;}[2m])) by (pod, node_id, query_type) / sum(increase(milvus_proxy_collection_sq_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;, collection_name=~&quot;$collection&quot;}[2m])) by (pod, node_id, query_type)</code></td><td><code translate="no">milvus_proxy_collection_sq_latency_sum</code></td><td>Latencia de las solicitudes de búsqueda y consulta a una colección específica</td></tr>
<tr><td>Latencia de mutación</td><td>La latencia media y el percentil 99 de la latencia de recepción de solicitudes de mutación por cada proxy en los últimos dos minutos.</td><td>p99: <br/> <code translate="no">histogram_quantile(0.99, sum by (le, msg_type, pod, node_id) (rate(milvus_proxy_mutation_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg: <br/> <code translate="no">sum(increase(milvus_proxy_mutation_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, msg_type) / sum(increase(milvus_proxy_mutation_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, msg_type)</code></td><td><code translate="no">milvus_proxy_mutation_latency_sum</code></td><td>Latencia de las solicitudes de mutación.</td></tr>
<tr><td>Latencia de mutación de la colección</td><td>La latencia media y el percentil 99 de la latencia de recepción de solicitudes de mutación a una colección específica por cada proxy en los últimos dos minutos.</td><td>p99: <br/> <code translate="no">histogram_quantile(0.99, sum by (le, query_type, pod, node_id) (rate(milvus_proxy_collection_sq_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;, collection_name=~&quot;$collection&quot;}[2m])))</code> <br/> avg: <br/> <code translate="no">sum(increase(milvus_proxy_collection_sq_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;, collection_name=~&quot;$collection&quot;}[2m])) by (pod, node_id, query_type) / sum(increase(milvus_proxy_collection_sq_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;, collection_name=~&quot;$collection&quot;}[2m])) by (pod, node_id, query_type)</code></td><td><code translate="no">milvus_proxy_collection_sq_latency_sum</code></td><td>Latencia de las solicitudes de mutación a una colección específica</td></tr>
<tr><td>Latencia de los resultados de búsqueda en espera</td><td>La latencia media y el percentil 99 de la latencia entre el envío de solicitudes de búsqueda y consulta y la recepción de resultados por proxy en los últimos dos minutos.</td><td>p99: <br/> <code translate="no">histogram_quantile(0.99, sum by (le, query_type, pod, node_id) (rate(milvus_proxy_sq_wait_result_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg: <br/> <code translate="no">sum(increase(milvus_proxy_sq_wait_result_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, query_type) / sum(increase(milvus_proxy_sq_wait_result_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, query_type)</code></td><td><code translate="no">milvus_proxy_sq_wait_result_latency</code></td><td>Latencia entre el envío de solicitudes de búsqueda y consulta y la recepción de resultados.</td></tr>
<tr><td>Reducir la latencia de los resultados de búsqueda</td><td>La latencia media y el percentil 99 de la latencia de agregación de resultados de búsqueda y consulta por proxy en los últimos dos minutos.</td><td>p99: <br/> <code translate="no">histogram_quantile(0.99, sum by (le, query_type, pod, node_id) (rate(milvus_proxy_sq_reduce_result_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg: <br/> <code translate="no">sum(increase(milvus_proxy_sq_reduce_result_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, query_type) / sum(increase(milvus_proxy_sq_reduce_result_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, query_type)</code></td><td><code translate="no">milvus_proxy_sq_reduce_result_latency</code></td><td>Latencia de la agregación de resultados de búsqueda y consulta devueltos por cada nodo de consulta.</td></tr>
<tr><td>Latencia de decodificación de resultados de búsqueda</td><td>La latencia media y el percentil 99 de la latencia de decodificación de resultados de búsqueda y consulta por proxy en los últimos dos minutos.</td><td>p99: <br/> <code translate="no">histogram_quantile(0.99, sum by (le, query_type, pod, node_id) (rate(milvus_proxy_sq_decode_result_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg: <br/> <code translate="no">sum(increase(milvus_proxy_sq_decode_result_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, query_type) / sum(increase(milvus_proxy_sq_decode_resultlatency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, query_type)</code></td><td><code translate="no">milvus_proxy_sq_decode_result_latency</code></td><td>Latencia de descodificación de cada resultado de búsqueda y consulta.</td></tr>
<tr><td>Msg Stream Object Num</td><td>El número medio, máximo y mínimo de objetos msgstream creados por cada proxy en su tema físico correspondiente en los últimos dos minutos.</td><td><code translate="no">avg(milvus_proxy_msgstream_obj_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id) max(milvus_proxy_msgstream_obj_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id) min(milvus_proxy_msgstream_obj_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_proxy_msgstream_obj_num</code></td><td>El número de objetos msgstream creados en cada tema físico.</td></tr>
<tr><td>Latencia de envío de mutaciones</td><td>La latencia media y el percentil 99 de la latencia de envío de solicitudes de inserción o eliminación por cada proxy en los últimos dos minutos.</td><td>p99: <br/> <code translate="no">histogram_quantile(0.99, sum by (le, msg_type, pod, node_id) (rate(milvus_proxy_mutation_send_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg: <br/> <code translate="no">sum(increase(milvus_proxy_mutation_send_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, msg_type) / sum(increase(milvus_proxy_mutation_send_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, msg_type)</code></td><td><code translate="no">milvus_proxy_mutation_send_latency</code></td><td>Latencia de envío de solicitudes de inserción o borrado.</td></tr>
<tr><td>Índice de aciertos de caché</td><td>La tasa media de aciertos en caché de las operaciones que incluyen <code translate="no">GeCollectionID</code>, <code translate="no">GetCollectionInfo</code>, y <code translate="no">GetCollectionSchema</code> por segundo en los últimos dos minutos.</td><td><code translate="no">sum(increase(milvus_proxy_cache_hit_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;, cache_state=&quot;hit&quot;}[2m])/120) by(cache_name, pod, node_id) / sum(increase(milvus_proxy_cache_hit_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by(cache_name, pod, node_id)</code></td><td><code translate="no">milvus_proxy_cache_hit_count</code></td><td>Las estadísticas de aciertos y fallos de cada operación de lectura de la caché.</td></tr>
<tr><td>Latencia de actualización de la caché</td><td>La latencia media y el percentil 99 de la latencia de actualización de la caché por proxy en los últimos dos minutos.</td><td>p99: <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_proxy_cache_update_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg: <br/> <code translate="no">sum(increase(milvus_proxy_cache_update_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id) / sum(increase(milvus_proxy_cache_update_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id)</code></td><td><code translate="no">milvus_proxy_cache_update_latency</code></td><td>La latencia de actualización de la caché cada vez.</td></tr>
<tr><td>Tiempo de sincronización</td><td>El número medio, máximo y mínimo de tiempo de época sincronizado por cada proxy en su canal físico correspondiente.</td><td><code translate="no">avg(milvus_proxy_sync_epoch_time{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id) max(milvus_proxy_sync_epoch_time{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id) min(milvus_proxy_sync_epoch_time{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_proxy_sync_epoch_time</code></td><td>El tiempo de época de cada canal físico (tiempo Unix, los milisegundos transcurridos desde el 1 de enero de 1970).    <br/>    Existe un <code translate="no">ChannelName</code> por defecto aparte de los canales físicos.</td></tr>
<tr><td>Aplicar latencia PK</td><td>La latencia media y el percentil 99 de la latencia de aplicación de clave primaria por cada proxy en los últimos dos minutos.</td><td>p99: <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_proxy_apply_pk_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg: <br/> <code translate="no">sum(increase(milvus_proxy_apply_pk_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id) / sum(increase(milvus_proxy_apply_pk_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id)</code></td><td><code translate="no">milvus_proxy_apply_pk_latency</code></td><td>La latencia de aplicación de clave primaria.</td></tr>
<tr><td>Latencia de aplicación de marca de tiempo</td><td>La latencia media y el percentil 99 de la latencia de aplicación de marca de hora por cada proxy en los últimos dos minutos.</td><td>p99: <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_proxy_apply_timestamp_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg: <br/> <code translate="no">sum(increase(milvus_proxy_apply_timestamp_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id) / sum(increase(milvus_proxy_apply_timestamp_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id)</code></td><td><code translate="no">milvus_proxy_apply_timestamp_latency</code></td><td>Latencia de aplicación de la marca de tiempo.</td></tr>
<tr><td>Tasa de éxito de solicitudes</td><td>El número de solicitudes recibidas con éxito por segundo por cada proxy, con un desglose detallado de cada tipo de solicitud. Los posibles tipos de solicitud son DescribeCollection, DescribeIndex, GetCollectionStatistics, HasCollection, Search, Query, ShowPartitions, Insert, etc.</td></tr>
<tr><td><code translate="no">sum(increase(milvus_proxy_req_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;, status=&quot;success&quot;}[2m])/120) by(function_name, pod, node_id)</code></td><td><code translate="no">milvus_proxy_req_count</code></td><td>El número de todos los tipos de solicitudes recibidas</td></tr>
<tr><td>Tasa de solicitudes fallidas</td><td>El número de peticiones fallidas recibidas por segundo por cada proxy, con un desglose detallado de cada tipo de petición. Los posibles tipos de solicitud son DescribeCollection, DescribeIndex, GetCollectionStatistics, HasCollection, Search, Query, ShowPartitions, Insert, etc.</td></tr>
<tr><td><code translate="no">sum(increase(milvus_proxy_req_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;, status=&quot;fail&quot;}[2m])/120) by(function_name, pod, node_id)</code></td><td><code translate="no">milvus_proxy_req_count</code></td><td>El número de todos los tipos de peticiones recibidas</td></tr>
<tr><td>Latencia de las peticiones</td><td>La latencia media y el percentil 99 de la latencia de todos los tipos de recepción de solicitudes por cada proxy</td><td>p99: <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id, function_name) (rate(milvus_proxy_req_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg: <br/> <code translate="no">sum(increase(milvus_proxy_req_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, function_name) / sum(increase(milvus_proxy_req_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, function_name)</code></td><td><code translate="no">milvus_proxy_req_latency</code></td><td>Latencia de todos los tipos de recepción de solicitudes</td></tr>
<tr><td>Tasa de bytes de solicitudes de inserción/borrado</td><td>El número de bytes de solicitudes de inserción y borrado recibidas por segundo por el proxy en los últimos dos minutos.</td><td><code translate="no">sum(increase(milvus_proxy_receive_bytes_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by(pod, node_id)</code></td><td><code translate="no">milvus_proxy_receive_bytes_count</code></td><td>El recuento de peticiones de inserción y borrado.</td></tr>
<tr><td>Tasa de bytes enviados</td><td>El número de bytes por segundo enviados de vuelta al cliente mientras cada proxy está respondiendo a peticiones de búsqueda y consulta en los últimos dos minutos.</td><td><code translate="no">sum(increase(milvus_proxy_send_bytes_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by(pod, node_id)</code></td><td><code translate="no">milvus_proxy_send_bytes_count</code></td><td>Número de bytes devueltos al cliente mientras cada proxy responde a solicitudes de búsqueda y consulta.</td></tr>
</tbody>
</table>
<p></details></p>
<p><details><summary>Coordinador raíz</summary></p>
<table>
<thead>
<tr><th>Panel</th><th>Descripción del panel</th><th>PromQL (lenguaje de consulta de Prometheus)</th><th>Las métricas Milvus utilizadas</th><th>Descripción de las métricas Milvus</th></tr>
</thead>
<tbody>
<tr><td>Número de nodo proxy</td><td>El número de proxies creados.</td><td><code translate="no">sum(milvus_rootcoord_proxy_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_rootcoord_proxy_num</code></td><td>El número de proxies.</td></tr>
<tr><td>Tiempo de sincronización</td><td>El número medio, máximo y mínimo de tiempo de época sincronizado por cada coordenada raíz en cada canal físico (PChannel).</td><td><code translate="no">avg(milvus_rootcoord_sync_epoch_time{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance) max(milvus_rootcoord_sync_epoch_time{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance) min(milvus_rootcoord_sync_epoch_time{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_rootcoord_sync_epoch_time</code></td><td>El tiempo de época de cada canal físico (tiempo Unix, los milisegundos transcurridos desde el 1 de enero de 1970).</td></tr>
<tr><td>Tasa de peticiones DDL</td><td>El estado y número de peticiones DDL por segundo en los últimos dos minutos.</td><td><code translate="no">sum(increase(milvus_rootcoord_ddl_req_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (status, function_name)</code></td><td><code translate="no">milvus_rootcoord_ddl_req_count</code></td><td>El número total de peticiones DDL incluyendo <code translate="no">CreateCollection</code>, <code translate="no">DescribeCollection</code>, <code translate="no">DescribeSegments</code>, <code translate="no">HasCollection</code>, <code translate="no">ShowCollections</code>, <code translate="no">ShowPartitions</code>, y <code translate="no">ShowSegments</code>.</td></tr>
<tr><td>Latencia de las peticiones DDL</td><td>La latencia media y el percentil 99 de la latencia de peticiones DDL en los últimos dos minutos.</td><td>p99: <br/> <code translate="no">histogram_quantile(0.99, sum by (le, function_name) (rate(milvus_rootcoord_ddl_req_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg: <br/> <code translate="no">sum(increase(milvus_rootcoord_ddl_req_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (function_name) / sum(increase(milvus_rootcoord_ddl_req_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (function_name)</code></td><td><code translate="no">milvus_rootcoord_ddl_req_latency</code></td><td>La latencia de todos los tipos de peticiones DDL.</td></tr>
<tr><td>Latencia de cronología de sincronización</td><td>La latencia media y el percentil 99 del tiempo utilizado por root coord para sincronizar todas las marcas de tiempo con PChannel en los últimos dos minutos.</td><td>p99: <br/> <code translate="no">histogram_quantile(0.99, sum by (le) (rate(milvus_rootcoord_sync_timetick_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg: <br/> <code translate="no">sum(increase(milvus_rootcoord_sync_timetick_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) / sum(increase(milvus_rootcoord_sync_timetick_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m]))</code></td><td><code translate="no">milvus_rootcoord_sync_timetick_latency</code></td><td>el tiempo utilizado por el coordenador raíz para sincronizar todas las marcas de tiempo con pchannel.</td></tr>
<tr><td>Tasa de asignación de ID</td><td>Número de ID asignados por root coord por segundo en los últimos dos minutos.</td><td><code translate="no">sum(increase(milvus_rootcoord_id_alloc_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120)</code></td><td><code translate="no">milvus_rootcoord_id_alloc_count</code></td><td>El número acumulado de IDs asignados por root coord.</td></tr>
<tr><td>Marca de tiempo</td><td>Fecha y hora más recientes de root coord.</td><td><code translate="no">milvus_rootcoord_timestamp{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}</code></td><td><code translate="no">milvus_rootcoord_timestamp</code></td><td>Fecha y hora más recientes de root coord.</td></tr>
<tr><td>Marca de hora guardada</td><td>Las marcas de tiempo preasignadas que root coord guarda en metaalmacenamiento.</td><td><code translate="no">milvus_rootcoord_timestamp_saved{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}</code></td><td><code translate="no">milvus_rootcoord_timestamp_saved</code></td><td>Las marcas de tiempo preasignadas que root coord guarda en metaalmacenamiento.     <br/>    Las marcas de tiempo se asignan 3 segundos antes. Y la marca de tiempo se actualiza y guarda en meta almacenamiento cada 50 milisegundos.</td></tr>
<tr><td>Número de colecciones</td><td>El número total de colecciones.</td><td><code translate="no">sum(milvus_rootcoord_collection_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_rootcoord_collection_num</code></td><td>El número total de colecciones existentes en Milvus actualmente.</td></tr>
<tr><td>Número de particiones</td><td>El número total de particiones.</td><td><code translate="no">sum(milvus_rootcoord_partition_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_rootcoord_partition_num</code></td><td>El número total de particiones existentes en Milvus actualmente.</td></tr>
<tr><td>Número de canales DML</td><td>El número total de canales DML.</td><td><code translate="no">sum(milvus_rootcoord_dml_channel_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_rootcoord_dml_channel_num</code></td><td>El número total de canales DML existentes en Milvus actualmente.</td></tr>
<tr><td>Número de Msgstream</td><td>El número total de msgstreams.</td><td><code translate="no">sum(milvus_rootcoord_msgstream_obj_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_rootcoord_msgstream_obj_num</code></td><td>El número total de msgstreams existentes en Milvus actualmente.</td></tr>
<tr><td>Número de credenciales</td><td>El número total de credenciales.</td><td><code translate="no">sum(milvus_rootcoord_credential_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_rootcoord_credential_num</code></td><td>El número total de credenciales en Milvus actualmente.</td></tr>
<tr><td>Tiempo de retardo</td><td>La suma del tiempo máximo de retardo de los gráficos de flujo en todos los DataNodes y QueryNodes.</td><td><code translate="no">sum(milvus_rootcoord_time_tick_delay{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_rootcoord_time_tick_delay</code></td><td>El tiempo máximo de retardo de los gráficos de flujo en cada DataNode y QueryNode.</td></tr>
</tbody>
</table>
<p></details></p>
<p><details><summary>Coordinador de consultas</summary></p>
<table>
<thead>
<tr><th>Panel</th><th>Descripción del panel</th><th>PromQL (lenguaje de consulta de Prometheus)</th><th>Las métricas Milvus utilizadas</th><th>Descripción de las métricas de Milvus</th></tr>
</thead>
<tbody>
<tr><td>Número de colecciones cargadas</td><td>El número de colecciones que están actualmente cargadas en memoria.</td><td><code translate="no">sum(milvus_querycoord_collection_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_querycoord_collection_num</code></td><td>El número de colecciones cargadas actualmente por Milvus.</td></tr>
<tr><td>Número de entidades cargadas</td><td>Número de entidades cargadas actualmente en memoria.</td><td><code translate="no">sum(milvus_querycoord_entity_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_querycoord_entitiy_num</code></td><td>El número de entidades cargadas actualmente por Milvus.</td></tr>
<tr><td>Tasa de solicitudes de carga</td><td>El número de solicitudes de carga por segundo en los últimos dos minutos.</td><td><code translate="no">sum(increase(milvus_querycoord_load_req_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])120) by (status)</code></td><td><code translate="no">milvus_querycoord_load_req_count</code></td><td>El número acumulado de peticiones de carga.</td></tr>
<tr><td>Tasa de solicitudes de liberación</td><td>Número de solicitudes de liberación por segundo en los últimos dos minutos.</td><td><code translate="no">sum(increase(milvus_querycoord_release_req_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (status)</code></td><td><code translate="no">milvus_querycoord_release_req_count</code></td><td>Número acumulado de solicitudes de liberación.</td></tr>
<tr><td>Latencia de las solicitudes de carga</td><td>La latencia media y el percentil 99 de latencia de solicitudes de carga en los últimos dos minutos.</td><td>p99: <br/> <code translate="no">histogram_quantile(0.99, sum by (le) (rate(milvus_querycoord_load_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg: <br/> <code translate="no">sum(increase(milvus_querycoord_load_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) / sum(increase(milvus_querycoord_load_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m]))</code></td><td><code translate="no">milvus_querycoord_load_latency</code></td><td>El tiempo utilizado para completar una solicitud de carga.</td></tr>
<tr><td>Latencia de solicitud de liberación</td><td>La latencia media y el percentil 99 de latencia de solicitud de liberación en los últimos dos minutos.</td><td>p99: <br/> <code translate="no">histogram_quantile(0.99, sum by (le) (rate(milvus_querycoord_release_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg: <br/> <code translate="no">sum(increase(milvus_querycoord_release_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) / sum(increase(milvus_querycoord_release_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m]))</code></td><td><code translate="no">milvus_querycoord_release_latency</code></td><td>El tiempo utilizado para completar una solicitud de liberación.</td></tr>
<tr><td>Tarea de subcarga</td><td>El número de tareas de subcarga.</td><td><code translate="no">sum(milvus_querycoord_child_task_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_querycoord_child_task_num</code></td><td>El número de subtareas de carga.    <br/>    Una coordenada de consulta divide una solicitud de carga en varias subtareas de carga.</td></tr>
<tr><td>Tarea de carga principal</td><td>Número de tareas de carga principales.</td><td><code translate="no">sum(milvus_querycoord_parent_task_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_querycoord_parent_task_num</code></td><td>Número de subtareas de carga.    <br/>    Cada solicitud de carga corresponde a una tarea padre en la cola de tareas.</td></tr>
<tr><td>Latencia de la subtarea de carga</td><td>La latencia media y el percentil 99 de la latencia de una tarea de subcarga en los últimos dos minutos.</td><td>p99: <br/> <code translate="no">histogram_quantile(0.99, sum by (le) (rate(milvus_querycoord_child_task_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg: <br/> <code translate="no">sum(increase(milvus_querycoord_child_task_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) / sum(increase(milvus_querycoord_child_task_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) namespace&quot;}[2m])))</code></td><td><code translate="no">milvus_querycoord_child_task_latency</code></td><td>La latencia para completar una tarea de subcarga.</td></tr>
<tr><td>Número de nodos de consulta</td><td>Número de nodos de consulta gestionados por el coordinador de consultas.</td><td><code translate="no">sum(milvus_querycoord_querynode_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_querycoord_querynode_num</code></td><td>Número de nodos de consulta gestionados por query coord.</td></tr>
</tbody>
</table>
<p></details></p>
<p><details><summary>Nodo de consulta</summary></p>
<table>
<thead>
<tr><th>Panel</th><th>Descripción del panel</th><th>PromQL (lenguaje de consulta de Prometheus)</th><th>Las métricas Milvus utilizadas</th><th>Descripción de las métricas de Milvus</th></tr>
</thead>
<tbody>
<tr><td>Número de colecciones cargadas</td><td>El número de colecciones cargadas en memoria por cada nodo de consulta.</td><td><code translate="no">sum(milvus_querynode_collection_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_querynode_collection_num</code></td><td>Número de colecciones cargadas por cada nodo de consulta.</td></tr>
<tr><td>Número de particiones cargadas</td><td>Número de particiones cargadas en memoria por cada nodo de consulta.</td><td><code translate="no">sum(milvus_querynode_partition_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_querynode_partition_num</code></td><td>El número de particiones cargadas por cada nodo de consulta.</td></tr>
<tr><td>Número de segmentos cargados</td><td>El número de segmentos cargados en memoria por cada nodo de consulta.</td><td><code translate="no">sum(milvus_querynode_segment_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_querynode_segment_num</code></td><td>El número de segmentos cargados por cada nodo de consulta.</td></tr>
<tr><td>Número de entidades consultables</td><td>Número de entidades consultables y buscables en cada nodo de consulta.</td><td><code translate="no">sum(milvus_querynode_entity_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_querynode_entity_num</code></td><td>El número de entidades consultables y buscables en cada nodo de consulta.</td></tr>
<tr><td>Canal virtual DML</td><td>Número de canales virtuales DML observados por cada nodo de consulta.</td><td><code translate="no">sum(milvus_querynode_dml_vchannel_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_querynode_dml_vchannel_num</code></td><td>Número de canales virtuales DML vigilados por cada nodo de consulta.</td></tr>
<tr><td>Canal virtual delta</td><td>Número de canales delta observados por cada nodo de consulta.</td><td><code translate="no">sum(milvus_querynode_delta_vchannel_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_querynode_delta_vchannel_num</code></td><td>Número de canales delta observados por cada nodo de consulta.</td></tr>
<tr><td>Número de consumidores</td><td>Número de consumidores en cada nodo de consulta.</td><td><code translate="no">sum(milvus_querynode_consumer_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_querynode_consumer_num</code></td><td>Número de consumidores en cada nodo de consulta.</td></tr>
<tr><td>Tasa de solicitudes de búsqueda</td><td>El número total de solicitudes de búsqueda y consulta recibidas por segundo por cada nodo de consulta y el número de solicitudes de búsqueda y consulta realizadas con éxito en los últimos dos minutos.</td><td><code translate="no">sum(increase(milvus_querynode_sq_req_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (query_type, status, pod, node_id)</code></td><td><code translate="no">milvus_querynode_sq_req_count</code></td><td>Número acumulado de solicitudes de búsqueda y consulta.</td></tr>
<tr><td>Latencia de las solicitudes de búsqueda</td><td>La latencia media y el percentil 99 del tiempo utilizado en las peticiones de búsqueda y consulta por cada nodo de consulta en los últimos dos minutos.    <br/>    Este panel muestra la latencia de las peticiones de búsqueda y consulta cuyo estado es &quot;éxito&quot; o &quot;total&quot;.</td><td>p99: <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_querynode_sq_req_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg: <br/> <code translate="no">sum(increase(milvus_querynode_sq_req_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id, query_type) / sum(increase(milvus_querynode_sq_req_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id, query_type)</code></td><td><code translate="no">milvus_querynode_sq_req_latency</code></td><td>La latencia de las peticiones de búsqueda del nodo de consulta.</td></tr>
<tr><td>Latencia de búsqueda en cola</td><td>La latencia media y el percentil 99 de la latencia de las solicitudes de búsqueda y consulta en cola en los últimos dos minutos.</td><td>p99: <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id, query_type) (rate(milvus_querynode_sq_queue_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg: <br/> <code translate="no">sum(increase(milvus_querynode_sq_queue_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id, query_type) / sum(increase(milvus_querynode_sq_queue_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id, query_type)</code></td><td><code translate="no">milvus_querynode_sq_queue_latency</code></td><td>La latencia de las peticiones de búsqueda y consulta recibidas por el nodo de consulta.</td></tr>
<tr><td>Latencia del segmento de búsqueda</td><td>La latencia media y el percentil 99 del tiempo que tarda cada nodo de consulta en buscar y consultar un segmento en los últimos dos minutos.    <br/>    El estado de un segmento puede ser cerrado o en crecimiento.</td><td>p99: <br/> <code translate="no">histogram_quantile(0.99, sum by (le, query_type, segment_state, pod, node_id) (rate(milvus_querynode_sq_segment_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg: <br/> <code translate="no">sum(increase(milvus_querynode_sq_segment_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id, query_type, segment_state) / sum(increase(milvus_querynode_sq_segment_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id, query_type, segment_state)</code></td><td><code translate="no">milvus_querynode_sq_segment_latency</code></td><td>Tiempo que tarda cada nodo de consulta en buscar y consultar cada segmento.</td></tr>
<tr><td>Latencia de solicitud Segcore</td><td>La latencia media y el percentil 99 del tiempo que cada nodo de consulta tarda en buscar y consultar en segcore en los últimos dos minutos.</td><td>p99: <br/> <code translate="no">histogram_quantile(0.99, sum by (le, query_type, pod, node_id) (rate(milvus_querynode_sq_core_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg: <br/> <code translate="no">sum(increase(milvus_querynode_sq_core_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id, query_type) / sum(increase(milvus_querynode_sq_core_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id, query_type)</code></td><td><code translate="no">milvus_querynode_sq_core_latency</code></td><td>El tiempo que tarda cada nodo de consulta en buscar y consultar en segcore.</td></tr>
<tr><td>Latencia de reducción de búsqueda</td><td>La latencia media y el percentil 99 del tiempo utilizado por cada nodo de consulta durante la etapa de reducción de una búsqueda o consulta en los últimos dos minutos.</td><td>p99: <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id, query_type) (rate(milvus_querynode_sq_reduce_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg: <br/> <code translate="no">sum(increase(milvus_querynode_sq_reduce_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id, query_type) / sum(increase(milvus_querynode_sq_reduce_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id, query_type)</code></td><td><code translate="no">milvus_querynode_sq_reduce_latency</code></td><td>Tiempo empleado por cada consulta durante la etapa de reducir.</td></tr>
<tr><td>Latencia del segmento de carga</td><td>La latencia media y el percentil 99 del tiempo que tarda cada nodo de consulta en cargar un segmento en los últimos dos minutos.</td><td>p99: <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_querynode_load_segment_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg: <br/> <code translate="no">sum(increase(milvus_querynode_load_segment_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_querynode_load_segment_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td><code translate="no">milvus_querynode_load_segment_latency_bucket</code></td><td>Tiempo que tarda cada nodo de consulta en cargar un segmento.</td></tr>
<tr><td>Número de diagramas de flujo</td><td>Número de diagramas de flujo en cada nodo de consulta.</td><td><code translate="no">sum(milvus_querynode_flowgraph_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_querynode_flowgraph_num</code></td><td>Número de diagramas de flujo en cada nodo de consulta.</td></tr>
<tr><td>Longitud de tareas de lectura sin resolver</td><td>La longitud de la cola de peticiones de lectura sin resolver en cada nodo de consulta.</td><td><code translate="no">sum(milvus_querynode_read_task_unsolved_len{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_querynode_read_task_unsolved_len</code></td><td>Longitud de la cola de peticiones de lectura sin resolver.</td></tr>
<tr><td>Longitud de tarea de lectura lista</td><td>Longitud de la cola de peticiones de lectura pendientes de ejecución en cada nodo de consulta.</td><td><code translate="no">sum(milvus_querynode_read_task_ready_len{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_querynode_read_task_ready_len</code></td><td>Longitud de la cola de peticiones de lectura por ejecutar.</td></tr>
<tr><td>Número de tareas de lectura paralelas</td><td>Número de peticiones de lectura concurrentes ejecutadas actualmente en cada nodo de consulta.</td><td><code translate="no">sum(milvus_querynode_read_task_concurrency{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_querynode_read_task_concurrency</code></td><td>El número de peticiones de lectura concurrentes ejecutadas actualmente.</td></tr>
<tr><td>Uso estimado de CPU</td><td>El uso de CPU por cada nodo de consulta estimado por el planificador.</td><td><code translate="no">sum(milvus_querynode_estimate_cpu_usage{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_querynode_estimate_cpu_usage</code></td><td>El uso de CPU por cada nodo de consulta estimado por el planificador.     <br/>    Cuando el valor es 100, significa que se utiliza toda una CPU virtual (vCPU).</td></tr>
<tr><td>Tamaño del grupo de búsqueda</td><td>El número medio y el percentil 99 del tamaño del grupo de búsqueda (es decir, el número total de peticiones de búsqueda originales en las peticiones de búsqueda combinadas ejecutadas por cada nodo de consulta) en los últimos dos minutos.</td><td>p99: <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_querynode_search_group_size_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg: <br/> <code translate="no">sum(increase(milvus_querynode_search_group_size_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_querynode_search_group_size_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td><code translate="no">milvus_querynode_load_segment_latency_bucket</code></td><td>El número de tareas de búsqueda originales entre las tareas de búsqueda combinadas de diferentes buckets (es decir, el tamaño del grupo de búsqueda).</td></tr>
<tr><td>Búsqueda NQ</td><td>El número medio y el percentil 99 del número de consultas (NQ) realizadas mientras cada nodo de consulta ejecuta peticiones de búsqueda en los últimos dos minutos.</td><td>p99: <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_querynode_search_group_size_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg: <br/> <code translate="no">sum(increase(milvus_querynode_search_group_size_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_querynode_search_group_size_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td>milvus_querynode_load_segment_latency_bucket</td><td>Número de consultas (NQ) de solicitudes de búsqueda.</td></tr>
<tr><td>Grupo de búsqueda NQ</td><td>El número medio y el percentil 99 de NQ de peticiones de búsqueda combinadas y ejecutadas por cada nodo de búsqueda en los últimos dos minutos.</td><td>p99: <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_querynode_search_group_nq_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg: <br/> <code translate="no">sum(increase(milvus_querynode_search_group_nq_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_querynode_search_group_nq_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td><code translate="no">milvus_querynode_load_segment_latency_bucket</code></td><td>El NQ de peticiones de búsqueda combinadas de diferentes buckets.</td></tr>
<tr><td>Búsqueda Top_K</td><td>El número medio y el percentil 99 de <code translate="no">Top_K</code> de solicitudes de búsqueda ejecutadas por cada nodo de consulta en los últimos dos minutos.</td><td>p99: <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_querynode_search_topk_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg: <br/> <code translate="no">sum(increase(milvus_querynode_search_topk_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_querynode_search_topk_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td><code translate="no">milvus_querynode_load_segment_latency_bucket</code></td><td>El <code translate="no">Top_K</code> de las peticiones de búsqueda.</td></tr>
<tr><td>Grupo de búsqueda Top_K</td><td>El número medio y el percentil 99 de <code translate="no">Top_K</code> de peticiones de búsqueda combinadas y ejecutadas por cada nodo de consulta en los últimos dos minutos.</td><td>p99: <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_querynode_search_group_topk_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg: <br/> <code translate="no">sum(increase(milvus_querynode_search_group_topk_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_querynode_search_group_topk_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td><code translate="no">milvus_querynode_load_segment_latency_bucket</code></td><td>El <code translate="no">Top_K</code> de peticiones de búsqueda combinadas de diferentes buckets .</td></tr>
<tr><td>Tasa de solicitudes de lectura desalojadas</td><td>Número de peticiones de lectura desalojadas por segundo por cada nodo de búsqueda en los últimos dos minutos.</td><td><code translate="no">sum(increase(milvus_querynode_read_evicted_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (pod, node_id)</code></td><td><code translate="no">milvus_querynode_sq_req_count</code></td><td>Número acumulado de solicitudes de lectura desalojadas por nodo de consulta debido a restricciones de tráfico.</td></tr>
</tbody>
</table>
<p></details></p>
<p><details><summary>Coordinador de datos</summary></p>
<table>
<thead>
<tr><th>Panel</th><th>Descripción del panel</th><th>PromQL (lenguaje de consulta de Prometheus)</th><th>Métricas Milvus utilizadas</th><th>Descripción de las métricas Milvus</th></tr>
</thead>
<tbody>
<tr><td>Número de nodos de datos</td><td>El número de nodos de datos gestionados por data coord.</td><td><code translate="no">sum(milvus_datacoord_datanode_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_datacoord_datanode_num</code></td><td>Número de nodos de datos gestionados por data coord.</td></tr>
<tr><td>Número de segmentos</td><td>Número de todos los tipos de segmentos registrados en los metadatos por el coordinador de datos.</td><td><code translate="no">sum(milvus_datacoord_segment_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (segment_state)</code></td><td><code translate="no">milvus_datacoord_segment_num</code></td><td>El número de todos los tipos de segmentos registrados en metadatos por data coord.    <br/>    Los tipos de segmento incluyen: abandonado, enjuagado, en crecimiento y sellado.</td></tr>
<tr><td>Número de colecciones</td><td>Número de colecciones registradas en metadatos por coordenada de datos.</td><td><code translate="no">sum(milvus_datacoord_collection_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_datacoord_collection_num</code></td><td>Número de colecciones registradas en los metadatos por coordenada de datos.</td></tr>
<tr><td>Filas almacenadas</td><td>Número acumulado de filas de datos válidos y vaciados en el código de datos.</td><td><code translate="no">sum(milvus_datacoord_stored_rows_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_datacoord_stored_rows_num</code></td><td>Número acumulado de filas de datos válidos y vaciados en la coordinación de datos.</td></tr>
<tr><td>Ritmo de filas almacenadas</td><td>Número medio de filas vaciadas por segundo en los últimos dos minutos.</td><td><code translate="no">sum(increase(milvus_datacoord_stored_rows_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (pod, node_id)</code></td><td><code translate="no">milvus_datacoord_stored_rows_count</code></td><td>Número acumulado de filas vaciadas por coordenada de datos.</td></tr>
<tr><td>Tiempo de sincronización</td><td>El número medio, máximo y mínimo de tiempo de época sincronizado por data coord en cada canal físico.</td><td><code translate="no">avg(milvus_datacoord_sync_epoch_time{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance) max(milvus_datacoord_sync_epoch_time{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance) min(milvus_datacoord_sync_epoch_time{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_datacoord_sync_epoch_time</code></td><td>El tiempo de época de cada canal físico (tiempo Unix, los milisegundos transcurridos desde el 1 de enero de 1970).</td></tr>
<tr><td>Tamaño del binlog almacenado</td><td>El tamaño total del binlog almacenado.</td><td><code translate="no">sum(milvus_datacoord_stored_binlog_size{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_datacoord_stored_binlog_size</code></td><td>El tamaño total del binlog almacenado en Milvus.</td></tr>
</tbody>
</table>
<p></details></p>
<p><details><summary>Nodo de datos</summary></p>
<table>
<thead>
<tr><th>Panel</th><th>Descripción del panel</th><th>PromQL (lenguaje de consulta de Prometheus)</th><th>Las métricas Milvus utilizadas</th><th>Descripción de las métricas Milvus</th></tr>
</thead>
<tbody>
<tr><td>Número del diagrama de flujo</td><td>Número de objetos del diagrama de flujo que corresponden a cada nodo de datos.</td><td><code translate="no">sum(milvus_datanode_flowgraph_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_datanode_flowgraph_num</code></td><td>Número de objetos del diagrama de flujo.     <br/>    Cada fragmento de una colección corresponde a un objeto del diagrama de flujo.</td></tr>
<tr><td>Tasa de consumo de filas de mensajes</td><td>Número de filas de mensajes de flujo consumidas por segundo por cada nodo de datos en los últimos dos minutos.</td><td><code translate="no">sum(increase(milvus_datanode_msg_rows_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (msg_type, pod, node_id)</code></td><td><code translate="no">milvus_datanode_msg_rows_count</code></td><td>Número de filas de mensajes de flujo consumidos.     <br/>    Actualmente, los mensajes de flujo contados por nodo de datos sólo incluyen mensajes de inserción y borrado.</td></tr>
<tr><td>Tasa de tamaño de datos de descarga</td><td>El tamaño de cada mensaje vaciado registrado por segundo por cada nodo de datos en los últimos dos minutos.</td><td><code translate="no">sum(increase(milvus_datanode_flushed_data_size{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (msg_type, pod, node_id)</code></td><td><code translate="no">milvus_datanode_flushed_data_size</code></td><td>El tamaño de cada mensaje vaciado.    <br/>    Actualmente, los mensajes de flujo contados por nodo de datos sólo incluyen mensajes de inserción y borrado.</td></tr>
<tr><td>Número de consumidores</td><td>Número de consumidores creados en cada nodo de datos.</td><td><code translate="no">sum(milvus_datanode_consumer_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_datanode_consumer_num</code></td><td>Número de consumidores creados en cada nodo de datos.     <br/>    Cada diagrama de flujo corresponde a un consumidor.</td></tr>
<tr><td>Número de productores</td><td>Número de productores creados en cada nodo de datos.</td><td><code translate="no">sum(milvus_datanode_producer_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_datanode_producer_num</code></td><td>Número de consumidores creados en cada nodo de datos.     <br/>    Cada fragmento de una colección corresponde a un productor de canal delta y a un productor de canal timetick.</td></tr>
<tr><td>Tiempo de sincronización</td><td>El número medio, máximo y mínimo de tiempo de época sincronizado por cada nodo de datos en todos los temas físicos.</td><td><code translate="no">avg(milvus_datanode_sync_epoch_time{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id) max(milvus_datanode_sync_epoch_time{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id) min(milvus_datanode_sync_epoch_time{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_datanode_sync_epoch_time</code></td><td>El tiempo de época (tiempo Unix, los milisegundos transcurridos desde el 1 de enero de 1970.) de cada tema físico en un nodo de datos.</td></tr>
<tr><td>Número de segmentos no vaciados</td><td>El número de segmentos no vaciados creados en cada nodo de datos.</td><td><code translate="no">sum(milvus_datanode_unflushed_segment_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_datanode_unflushed_segment_num</code></td><td>Número de segmentos no vaciados creados en cada nodo de datos.</td></tr>
<tr><td>Latencia del búfer de codificación</td><td>La latencia media y el percentil 99 del tiempo utilizado para codificar un búfer por cada nodo de datos en los últimos dos minutos.</td><td>p99: <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_datanode_encode_buffer_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg: <br/> <code translate="no">sum(increase(milvus_datanode_encode_buffer_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_datanode_encode_buffer_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td><code translate="no">milvus_datanode_encode_buffer_latency</code></td><td>El tiempo que tarda cada nodo de datos en codificar un búfer.</td></tr>
<tr><td>Latencia de almacenamiento de datos</td><td>La latencia media y el percentil 99 del tiempo utilizado para escribir un búfer en la capa de almacenamiento por cada nodo de datos en los últimos dos minutos.</td><td>p99: <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_datanode_save_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg: <br/> <code translate="no">sum(increase(milvus_datanode_save_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_datanode_save_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td><code translate="no">milvus_datanode_save_latency</code></td><td>Tiempo que tarda cada nodo de datos en escribir un búfer en la capa de almacenamiento.</td></tr>
<tr><td>Tasa de operaciones de descarga</td><td>Número de veces que cada nodo de datos vacía un búfer por segundo en los últimos dos minutos.</td><td><code translate="no">sum(increase(milvus_datanode_flush_buffer_op_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (status, pod, node_id)</code></td><td><code translate="no">milvus_datanode_flush_buffer_op_count</code></td><td>Número acumulado de veces que un nodo de datos descarga un búfer.</td></tr>
<tr><td>Tasa de operación de descarga automática</td><td>Número de veces que cada nodo de datos descarga automáticamente un búfer por segundo en los últimos dos minutos.</td><td><code translate="no">sum(increase(milvus_datanode_autoflush_buffer_op_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (status, pod, node_id)</code></td><td><code translate="no">milvus_datanode_autoflush_buffer_op_count</code></td><td>Número acumulado de veces que un nodo de datos descarga automáticamente un búfer.</td></tr>
<tr><td>Índice de solicitudes de descarga</td><td>Número de veces que cada nodo de datos recibe una solicitud de vaciado de búfer por segundo en los últimos dos minutos.</td><td><code translate="no">sum(increase(milvus_datanode_flush_req_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (status, pod, node_id)</code></td><td><code translate="no">milvus_datanode_flush_req_count</code></td><td>Número acumulado de veces que un nodo de datos recibe una solicitud de vaciado de un búfer.</td></tr>
<tr><td>Latencia de compactación</td><td>La latencia media y el percentil 99 del tiempo que cada nodo de datos tarda en ejecutar una tarea de compactación en los últimos dos minutos.</td><td>p99: <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_datanode_compaction_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg: <br/> <code translate="no">sum(increase(milvus_datanode_compaction_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_datanode_compaction_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td><code translate="no">milvus_datanode_compaction_latency</code></td><td>El tiempo que tarda cada nodo de datos en ejecutar una tarea de compactación.</td></tr>
</tbody>
</table>
<p></details></p>
<p><details><summary>Índice coordinador</summary></p>
<table>
<thead>
<tr><th>Panel</th><th>Descripción del panel</th><th>PromQL (lenguaje de consulta de Prometheus)</th><th>Las métricas Milvus utilizadas</th><th>Descripción de las métricas Milvus</th></tr>
</thead>
<tbody>
<tr><td>Tasa de peticiones de índice</td><td>Número medio de solicitudes de creación de índices recibidas por segundo en los últimos dos minutos.</td><td><code translate="no">sum(increase(milvus_indexcoord_indexreq_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (status)</code></td><td><code translate="no">milvus_indexcoord_indexreq_count</code></td><td>Número de solicitudes de creación de índices recibidas.</td></tr>
<tr><td>Recuento de tareas de indexación</td><td>Recuento de todas las tareas de indexación registradas en los metadatos del índice.</td><td><code translate="no">sum(milvus_indexcoord_indextask_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (index_task_status)</code></td><td><code translate="no">milvus_indexcoord_indextask_count</code></td><td>Recuento de todas las tareas de indexación registradas en los metadatos del índice.</td></tr>
<tr><td>Número de nodos de índice</td><td>Número de nodos de índice gestionados.</td><td><code translate="no">sum(milvus_indexcoord_indexnode_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_indexcoord_indexnode_num</code></td><td>Número de nodos de índice gestionados.</td></tr>
</tbody>
</table>
<p></details></p>
<p><details><summary>Nodo de índice</summary></p>
<table>
<thead>
<tr><th>Panel</th><th>Descripción del panel</th><th>PromQL (lenguaje de consulta de Prometheus)</th><th>Las métricas Milvus utilizadas</th><th>Descripción de las métricas Milvus</th></tr>
</thead>
<tbody>
<tr><td>Tasa de tareas de índice</td><td>Número medio de tareas de creación de índices recibidas por cada nodo de índice por segundo en los últimos dos minutos.</td><td><code translate="no">sum(increase(milvus_indexnode_index_task_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (status, pod, node_id)</code></td><td><code translate="no">milvus_indexnode_index_task_count</code></td><td>Número de tareas de creación de índices recibidas.</td></tr>
<tr><td>Latencia del campo de carga</td><td>La latencia media y el percentil 99 del tiempo utilizado por cada nodo de índice para cargar datos de campo de segmento cada vez en los últimos dos minutos.</td><td>p99: <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_indexnode_load_field_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg: <br/> <code translate="no">sum(increase(milvus_indexnode_load_field_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_indexnode_load_field_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td><code translate="no">milvus_indexnode_load_field_latency</code></td><td>El tiempo utilizado por el nodo de índice para cargar los datos del campo de segmento.</td></tr>
<tr><td>Latencia del campo de descodificación</td><td>La latencia media y el percentil 99 del tiempo utilizado por cada nodo de índice para codificar datos de campo cada vez en los últimos dos minutos.</td><td>p99: <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_indexnode_decode_field_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg: <br/> <code translate="no">sum(increase(milvus_indexnode_decode_field_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_indexnode_decode_field_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td><code translate="no">milvus_indexnode_decode_field_latency</code></td><td>El tiempo utilizado para descodificar los datos de campo.</td></tr>
<tr><td>Latencia del índice de construcción</td><td>La latencia media y el percentil 99 del tiempo utilizado por cada nodo de índice para construir índices en los últimos dos minutos.</td><td>p99: <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_indexnode_build_index_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg: <br/> <code translate="no">sum(increase(milvus_indexnode_build_index_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_indexnode_build_index_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td><code translate="no">milvus_indexnode_build_index_latency</code></td><td>El tiempo utilizado para construir índices.</td></tr>
<tr><td>Latencia del índice de codificación</td><td>La latencia media y el percentil 99 del tiempo utilizado por cada nodo de índice para codificar archivos de índice en los últimos dos minutos.</td><td>p99: <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_indexnode_encode_index_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg: <br/> <code translate="no">sum(increase(milvus_indexnode_encode_index_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_indexnode_encode_index_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td><code translate="no">milvus_indexnode_encode_index_latency</code></td><td>El tiempo utilizado para codificar archivos de índice.</td></tr>
<tr><td>Guardar latencia de índice</td><td>La latencia media y el percentil 99 del tiempo utilizado por cada nodo de índice para guardar archivos de índice en los últimos dos minutos.</td><td>p99: <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_indexnode_save_index_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg: <br/> <code translate="no">sum(increase(milvus_indexnode_save_index_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_indexnode_save_index_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td><code translate="no">milvus_indexnode_save_index_latency</code></td><td>El tiempo utilizado para guardar archivos de índice.</td></tr>
</tbody>
</table>
<p></details></p>
