---
id: manage-collections.md
title: Объяснение коллекций
summary: >-
  В Milvus вы можете создавать несколько коллекций для управления данными и
  вставлять данные в коллекции в виде сущностей. Коллекции и сущности похожи на
  таблицы и записи в реляционных базах данных. Эта страница поможет вам узнать о
  коллекции и связанных с ней понятиях.
---
<h1 id="Collection-Explained" class="common-anchor-header">Объяснение коллекций<button data-href="#Collection-Explained" class="anchor-icon" translate="no">
      <svg translate="no"
        aria-hidden="true"
        focusable="false"
        height="20"
        version="1.1"
        viewBox="0 0 16 16"
        width="16"
      >
        <path
          fill="#0092E4"
          fill-rule="evenodd"
          d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
        ></path>
      </svg>
    </button></h1><p>В Milvus вы можете создавать несколько коллекций для управления данными и вставлять данные в коллекции в виде сущностей. Коллекции и сущности похожи на таблицы и записи в реляционных базах данных. Эта страница поможет вам узнать о коллекции и связанных с ней понятиях.</p>
<h2 id="Collection" class="common-anchor-header">Коллекция<button data-href="#Collection" class="anchor-icon" translate="no">
      <svg translate="no"
        aria-hidden="true"
        focusable="false"
        height="20"
        version="1.1"
        viewBox="0 0 16 16"
        width="16"
      >
        <path
          fill="#0092E4"
          fill-rule="evenodd"
          d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
        ></path>
      </svg>
    </button></h2><p>Коллекция - это двумерная таблица с фиксированными столбцами и вариантами строк. Каждый столбец представляет собой поле, а каждая строка - сущность.</p>
<p>На следующей диаграмме показана коллекция с восемью столбцами и шестью сущностями.</p>
<p>
  
   <span class="img-wrapper"> <img translate="no" src="/docs/v2.5.x/assets/collection-explained.png" alt="Collection Explained" class="doc-image" id="collection-explained" />
   </span> <span class="img-wrapper"> <span>Объяснение коллекции</span> </span></p>
<h2 id="Schema-and-Fields" class="common-anchor-header">Схема и поля<button data-href="#Schema-and-Fields" class="anchor-icon" translate="no">
      <svg translate="no"
        aria-hidden="true"
        focusable="false"
        height="20"
        version="1.1"
        viewBox="0 0 16 16"
        width="16"
      >
        <path
          fill="#0092E4"
          fill-rule="evenodd"
          d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
        ></path>
      </svg>
    </button></h2><p>При описании объекта мы обычно упоминаем его атрибуты, такие как размер, вес и положение. Эти атрибуты можно использовать в качестве полей в коллекции. Каждое поле имеет различные ограничивающие свойства, такие как тип данных и размерность векторного поля. Вы можете сформировать схему коллекции, создав поля и определив их порядок. Возможные применимые типы данных см. в разделе <a href="/docs/ru/schema.md">Объяснение схемы</a>.</p>
<p>Вы должны включить все определенные схемой поля в вставляемые сущности. Чтобы сделать некоторые из них необязательными, можно включить динамическое поле. Подробности см. в разделе <a href="/docs/ru/enable-dynamic-field.md">Динамическое поле</a>.</p>
<ul>
<li><p><strong>Сделать их нулевыми или установить значения по умолчанию</strong></p>
<p>Подробнее о том, как сделать поле недействительным или установить значение по умолчанию, читайте в разделе <a href="/docs/ru/nullable-and-default.md">Недействительное и по умолчанию</a>.</p></li>
<li><p><strong>Включение динамического поля</strong></p>
<p>Подробнее о том, как включить и использовать динамическое поле, читайте в разделе <a href="/docs/ru/enable-dynamic-field.md">Динамическое поле</a>.</p></li>
</ul>
<h2 id="Primary-key-and-AutoId" class="common-anchor-header">Первичный ключ и AutoId<button data-href="#Primary-key-and-AutoId" class="anchor-icon" translate="no">
      <svg translate="no"
        aria-hidden="true"
        focusable="false"
        height="20"
        version="1.1"
        viewBox="0 0 16 16"
        width="16"
      >
        <path
          fill="#0092E4"
          fill-rule="evenodd"
          d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
        ></path>
      </svg>
    </button></h2><p>Подобно первичному полю в реляционной базе данных, коллекция имеет первичное поле, чтобы отличать сущность от других. Каждое значение в первичном поле глобально уникально и соответствует одной конкретной сущности.</p>
<p>Как показано на диаграмме выше, поле с именем <strong>id</strong> служит первичным полем, и первый ID <strong>0</strong> соответствует сущности под названием <em>"Смертность от коронавируса не важна</em>". Других сущностей с первичным полем 0 не существует.</p>
<p>Первичное поле может принимать только целые числа или строки. При вставке сущностей вы должны включать значения первичного поля по умолчанию. Однако если вы включили функцию <strong>AutoId</strong> при создании коллекции, Milvus будет генерировать эти значения при вставке данных. В этом случае исключите значения первичного поля из вставляемых сущностей.</p>
<p>Дополнительные сведения см. в разделе <a href="/docs/ru/primary-field.md">Первичное поле и AutoId</a>.</p>
<h2 id="Index" class="common-anchor-header">Индекс<button data-href="#Index" class="anchor-icon" translate="no">
      <svg translate="no"
        aria-hidden="true"
        focusable="false"
        height="20"
        version="1.1"
        viewBox="0 0 16 16"
        width="16"
      >
        <path
          fill="#0092E4"
          fill-rule="evenodd"
          d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
        ></path>
      </svg>
    </button></h2><p>Создание индексов по определенным полям повышает эффективность поиска. Рекомендуется создавать индексы для всех полей, на которые опирается ваш сервис, среди которых индексы для векторных полей являются обязательными.</p>
<h2 id="Entity" class="common-anchor-header">Сущность<button data-href="#Entity" class="anchor-icon" translate="no">
      <svg translate="no"
        aria-hidden="true"
        focusable="false"
        height="20"
        version="1.1"
        viewBox="0 0 16 16"
        width="16"
      >
        <path
          fill="#0092E4"
          fill-rule="evenodd"
          d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
        ></path>
      </svg>
    </button></h2><p>Сущности - это записи данных, которые имеют одинаковый набор полей в коллекции. Значения во всех полях одной строки составляют сущность.</p>
<p>Вы можете вставить в коллекцию столько сущностей, сколько вам нужно. Однако с увеличением количества сущностей увеличивается и объем занимаемой ими памяти, что влияет на производительность поиска.</p>
<p>Дополнительные сведения см. в разделе <a href="/docs/ru/schema.md">Объяснение схемы</a>.</p>
<h2 id="Load-and-Release" class="common-anchor-header">Загрузка и освобождение<button data-href="#Load-and-Release" class="anchor-icon" translate="no">
      <svg translate="no"
        aria-hidden="true"
        focusable="false"
        height="20"
        version="1.1"
        viewBox="0 0 16 16"
        width="16"
      >
        <path
          fill="#0092E4"
          fill-rule="evenodd"
          d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
        ></path>
      </svg>
    </button></h2><p>Загрузка коллекции - это необходимое условие для выполнения поиска и запросов по сходству в коллекциях. При загрузке коллекции Milvus загружает все индексные файлы и исходные данные в каждом поле в память для быстрого отклика на поиск и запросы.</p>
<p>Поиск и запросы занимают много памяти. Чтобы сократить расходы, рекомендуется освободить коллекции, которые в данный момент не используются.</p>
<p>Более подробную информацию см. в разделе <a href="/docs/ru/load-and-release.md">Загрузка и освобождение</a>.</p>
<h2 id="Search-and-Query" class="common-anchor-header">Поиск и запросы<button data-href="#Search-and-Query" class="anchor-icon" translate="no">
      <svg translate="no"
        aria-hidden="true"
        focusable="false"
        height="20"
        version="1.1"
        viewBox="0 0 16 16"
        width="16"
      >
        <path
          fill="#0092E4"
          fill-rule="evenodd"
          d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
        ></path>
      </svg>
    </button></h2><p>После создания индексов и загрузки коллекции можно начать поиск по сходству, подав один или несколько векторов запросов. Например, при получении векторного представления запроса, переданного в поисковом запросе, Milvus использует указанный тип метрики для измерения сходства между вектором запроса и векторами в целевой коллекции, а затем возвращает те, которые семантически схожи с запросом.</p>
<p>Вы также можете включить фильтрацию метаданных в поиск и запросы, чтобы улучшить релевантность результатов. Обратите внимание, что условия фильтрации метаданных являются обязательными в запросах и необязательными в поиске.</p>
<p>Подробные сведения о применимых типах метрик см. в разделе <a href="/docs/ru/metric.md">Типы метрик</a>.</p>
<p>Для получения дополнительной информации о поиске и запросах обратитесь к статьям в главе "Поиск и ранжирование", среди которых основными являются следующие:</p>
<ul>
<li><p><a href="/docs/ru/single-vector-search.md">Базовый поиск ANN</a></p></li>
<li><p><a href="/docs/ru/filtered-search.md">Фильтрованный поиск</a></p></li>
<li><p><a href="/docs/ru/range-search.md">Поиск по диапазону</a></p></li>
<li><p><a href="/docs/ru/grouping-search.md">Группировочный поиск</a></p></li>
<li><p><a href="/docs/ru/multi-vector-search.md">Гибридный поиск</a></p></li>
<li><p><a href="/docs/ru/with-iterators.md">Итератор поиска</a></p></li>
<li><p><a href="/docs/ru/get-and-scalar-query.md">Запрос</a></p></li>
<li><p><a href="/docs/ru/full-text-search.md">Полнотекстовый поиск</a></p></li>
<li><p><a href="/docs/ru/keyword-match.md">Сопоставление текста</a></p></li>
</ul>
<p>Кроме того, Milvus предлагает усовершенствования для повышения производительности и эффективности поиска. По умолчанию они отключены, и вы можете включить и использовать их в соответствии с требованиями вашего сервиса. К ним относятся</p>
<ul>
<li><p><a href="/docs/ru/use-partition-key.md">Использовать ключ раздела</a></p></li>
<li><p><a href="/docs/ru/mmap.md">Использовать mmap</a></p></li>
<li><p><a href="/docs/ru/clustering-compaction.md">Компактизация кластеризации</a></p></li>
</ul>
<h2 id="Partition" class="common-anchor-header">Раздел<button data-href="#Partition" class="anchor-icon" translate="no">
      <svg translate="no"
        aria-hidden="true"
        focusable="false"
        height="20"
        version="1.1"
        viewBox="0 0 16 16"
        width="16"
      >
        <path
          fill="#0092E4"
          fill-rule="evenodd"
          d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
        ></path>
      </svg>
    </button></h2><p>Разделы - это подмножества коллекции, которые имеют один и тот же набор полей с родительской коллекцией, и каждый из них содержит подмножество сущностей.</p>
<p>Распределяя сущности по разным разделам, вы можете создавать группы сущностей. Вы можете выполнять поиск и запросы в определенных разделах, чтобы Milvus игнорировал сущности в других разделах и повышал эффективность поиска.</p>
<p>Подробнее см. в разделе <a href="/docs/ru/manage-partitions.md">Управление разделами</a>.</p>
<h2 id="Shard" class="common-anchor-header">Осколки<button data-href="#Shard" class="anchor-icon" translate="no">
      <svg translate="no"
        aria-hidden="true"
        focusable="false"
        height="20"
        version="1.1"
        viewBox="0 0 16 16"
        width="16"
      >
        <path
          fill="#0092E4"
          fill-rule="evenodd"
          d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
        ></path>
      </svg>
    </button></h2><p>Осколки - это горизонтальные срезы коллекции. Каждый шард соответствует каналу ввода данных. По умолчанию каждая коллекция имеет один шард. При создании коллекции можно задать соответствующее количество шардов в зависимости от ожидаемой пропускной способности и объема данных, которые необходимо вставить в коллекцию.</p>
<p>Подробнее о том, как задать количество шардов, см. в разделе <a href="/docs/ru/create-collection.md">Создание коллекции</a>.</p>
<h2 id="Alias" class="common-anchor-header">Псевдоним<button data-href="#Alias" class="anchor-icon" translate="no">
      <svg translate="no"
        aria-hidden="true"
        focusable="false"
        height="20"
        version="1.1"
        viewBox="0 0 16 16"
        width="16"
      >
        <path
          fill="#0092E4"
          fill-rule="evenodd"
          d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
        ></path>
      </svg>
    </button></h2><p>Вы можете создавать псевдонимы для своих коллекций. Коллекция может иметь несколько псевдонимов, но коллекции не могут иметь общий псевдоним. При получении запроса на коллекцию Milvus находит коллекцию по указанному имени. Если коллекции по указанному имени не существует, Milvus продолжает поиск по указанному имени в качестве псевдонима. Вы можете использовать псевдонимы коллекций, чтобы адаптировать свой код к различным сценариям.</p>
<p>Для получения дополнительной информации см. раздел <a href="/docs/ru/manage-aliases.md">Управление псевдонимами</a>.</p>
<h2 id="Function" class="common-anchor-header">Функция<button data-href="#Function" class="anchor-icon" translate="no">
      <svg translate="no"
        aria-hidden="true"
        focusable="false"
        height="20"
        version="1.1"
        viewBox="0 0 16 16"
        width="16"
      >
        <path
          fill="#0092E4"
          fill-rule="evenodd"
          d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
        ></path>
      </svg>
    </button></h2><p>Вы можете задать функции для Milvus, чтобы получить поля при создании коллекции. Например, функция полнотекстового поиска использует определенную пользователем функцию для получения разреженного векторного поля из определенного поля varchar. Дополнительные сведения о полнотекстовом поиске см. в разделе <a href="/docs/ru/full-text-search.md">Полнотекстовый поиск</a>.</p>
<h2 id="Consistency-Level" class="common-anchor-header">Уровень согласованности<button data-href="#Consistency-Level" class="anchor-icon" translate="no">
      <svg translate="no"
        aria-hidden="true"
        focusable="false"
        height="20"
        version="1.1"
        viewBox="0 0 16 16"
        width="16"
      >
        <path
          fill="#0092E4"
          fill-rule="evenodd"
          d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
        ></path>
      </svg>
    </button></h2><p>Распределенные системы баз данных обычно используют уровень согласованности для определения однородности данных на узлах данных и репликах. Вы можете установить отдельные уровни согласованности при создании коллекции или проведении поиска по сходству в коллекции. Применимые уровни согласованности: <strong>Strong</strong>, <strong>Bounded Staleness</strong>, <strong>Session</strong> и <strong>Eventually</strong>.</p>
<p>Подробные сведения об этих уровнях согласованности см. в разделе <a href="/docs/ru/tune_consistency.md">Уровень согласованности</a>.</p>
