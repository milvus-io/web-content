{"codeList":["helm repo add grafana https://grafana.github.io/helm-charts\nhelm repo update\n","loki:\n  commonConfig:\n    replication_factor: 1\n  auth_enabled: false\n\nminio:\n  enabled: true\n","loki:\n  commonConfig:\n    replication_factor: 1\n  auth_enabled: false\n  storage:\n    bucketNames:\n      chunks: loki-chunks\n      ruler: loki-ruler\n      admin: loki-admin\n    type: 's3'\n    s3:\n      endpoint: s3.us-west-2.amazonaws.com\n      region: us-west-2\n      secretAccessKey: <accessKey>\n      accessKeyId: <keyId>\n","kubectl create ns loki\nhelm install --values loki.yaml loki grafana/loki -n loki\n","config:\n  clients:\n    - url: http://loki-gateway/loki/api/v1/push\n","helm install  --values promtail.yaml promtail grafana/promtail -n loki\n","kubectl create ns monitoring\nhelm install my-grafana grafana/grafana --namespace monitoring\n","kubectl get secret --namespace monitoring my-grafana -o jsonpath=\"{.data.admin-password}\" | base64 --decode ; echo\n","export POD_NAME=$(kubectl get pods --namespace monitoring -l \"app.kubernetes.io/name=grafana,app.kubernetes.io/instance=my-grafana\" -o jsonpath=\"{.items[0].metadata.name}\")\nkubectl --namespace monitoring port-forward $POD_NAME 3000\n"],"headingContent":"Configure Grafana Loki","anchorList":[{"label":"配置 Grafana Loki","href":"Configure-Grafana-Loki","type":1,"isActive":false},{"label":"先決條件","href":"Prerequisites","type":2,"isActive":false},{"label":"部署 Loki","href":"Deploy-Loki","type":2,"isActive":false},{"label":"1.新增 Grafana 的 Helm 圖表儲存庫","href":"1-Add-Grafanas-Helm-Chart-Repository","type":3,"isActive":false},{"label":"2.為 Loki 設定物件儲存","href":"2-Configure-Object-Storage-for-Loki","type":3,"isActive":false},{"label":"3.安裝 Loki","href":"3-Install-Loki","type":3,"isActive":false},{"label":"部署 Promtail","href":"Deploy-Promtail","type":2,"isActive":false},{"label":"1.建立 Promtail 組態","href":"1-Create-Promtail-Configuration","type":3,"isActive":false},{"label":"2.安裝 Promtail","href":"2-Install-Promtail","type":3,"isActive":false},{"label":"使用 Grafana 查詢日誌","href":"Query-Logs-with-Grafana","type":2,"isActive":false},{"label":"1.部署 Grafana","href":"1-Deploy-Grafana","type":3,"isActive":false},{"label":"2.在 Grafana 中將 Loki 新增為資料來源","href":"2-Add-Loki-as-a-Data-Source-in-Grafana","type":3,"isActive":false},{"label":"3.查詢 Milvus 日誌","href":"3-Query-Milvus-Logs","type":3,"isActive":false}]}