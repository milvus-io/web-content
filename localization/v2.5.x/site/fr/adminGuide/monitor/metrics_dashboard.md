---
id: metrics_dashboard.md
title: Tableau de bord des mesures de Milvus
summary: >-
  Cette rubrique présente les mesures de surveillance affichées dans le tableau
  de bord Milvus.
---

<h1 id="Milvus-Metrics-Dashboard" class="common-anchor-header">Tableau de bord des mesures de Milvus<button data-href="#Milvus-Metrics-Dashboard" class="anchor-icon" translate="no">
      <svg translate="no"
        aria-hidden="true"
        focusable="false"
        height="20"
        version="1.1"
        viewBox="0 0 16 16"
        width="16"
      >
        <path
          fill="#0092E4"
          fill-rule="evenodd"
          d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
        ></path>
      </svg>
    </button></h1><p>Milvus produit une liste de métriques détaillées de séries temporelles pendant l'exécution. Vous pouvez utiliser <a href="https://prometheus.io/">Prometheus</a> et <a href="https://grafana.com/">Grafana</a> pour visualiser les métriques. Cette rubrique présente les métriques de surveillance affichées dans le tableau de bord Grafana Milvus.</p>
<p>L'unité de temps utilisée dans cette rubrique est la milliseconde. Et "99ème percentile" dans cette rubrique fait référence au fait que 99 pour cent des statistiques de temps sont contrôlées dans une certaine valeur.</p>
<p>Nous vous recommandons de lire l'<a href="/docs/fr/v2.5.x/monitor_overview.md">aperçu du cadre de surveillance Milvus</a> pour comprendre d'abord les métriques Prometheus.</p>
<p><details><summary>Proxy</summary></p>
<table>
<thead>
<tr><th>Panel</th><th>Description du panneau</th><th>PromQL (langage de requête Prometheus)</th><th>Les métriques Milvus utilisées</th><th>Description des métriques Milvus</th></tr>
</thead>
<tbody>
<tr><td>Taux de comptage des vecteurs de recherche</td><td>Nombre moyen de vecteurs interrogés par seconde par chaque proxy au cours des deux dernières minutes.</td><td><code translate="no">sum(increase(milvus_proxy_search_vectors_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (pod, node_id)</code></td><td><code translate="no">milvus_proxy_search_vectors_count</code></td><td>Nombre cumulé de vecteurs interrogés.</td></tr>
<tr><td>Taux de comptage des vecteurs d'insertion</td><td>Nombre moyen de vecteurs insérés par seconde par chaque proxy au cours des deux dernières minutes.</td><td><code translate="no">sum(increase(milvus_proxy_insert_vectors_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (pod, node_id)</code></td><td><code translate="no">milvus_proxy_insert_vectors_count</code></td><td>Nombre cumulé de vecteurs insérés.</td></tr>
<tr><td>Temps de latence de la recherche</td><td>Temps de latence moyen et 99e percentile du temps de latence pour la réception des demandes de recherche et d'interrogation par chaque mandataire au cours des deux dernières minutes.</td><td>p99 : <br/> <code translate="no">histogram_quantile(0.99, sum by (le, query_type, pod, node_id) (rate(milvus_proxy_sq_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg : <br/> <code translate="no">sum(increase(milvus_proxy_sq_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, query_type) / sum(increase(milvus_proxy_sq_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, query_type)</code></td><td><code translate="no">milvus_proxy_sq_latency</code></td><td>Temps de latence des demandes de recherche et d'interrogation.</td></tr>
<tr><td>Temps de latence de la recherche dans la collection</td><td>Temps de latence moyen et 99e percentile de la latence de réception des demandes de recherche et d'interrogation d'une collection spécifique par chaque proxy au cours des deux dernières minutes.</td><td>p99 : <br/> <code translate="no">histogram_quantile(0.99, sum by (le, query_type, pod, node_id) (rate(milvus_proxy_collection_sq_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;, collection_name=~&quot;$collection&quot;}[2m])))</code> <br/> avg : <br/> <code translate="no">sum(increase(milvus_proxy_collection_sq_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;, collection_name=~&quot;$collection&quot;}[2m])) by (pod, node_id, query_type) / sum(increase(milvus_proxy_collection_sq_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;, collection_name=~&quot;$collection&quot;}[2m])) by (pod, node_id, query_type)</code></td><td><code translate="no">milvus_proxy_collection_sq_latency_sum</code></td><td>Temps de latence des demandes de recherche et d'interrogation d'une collection spécifique</td></tr>
<tr><td>Latence de mutation</td><td>Temps de latence moyen et 99e percentile du temps de latence pour la réception de demandes de mutation par chaque proxy au cours des deux dernières minutes.</td><td>p99 : <br/> <code translate="no">histogram_quantile(0.99, sum by (le, msg_type, pod, node_id) (rate(milvus_proxy_mutation_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg : <br/> <code translate="no">sum(increase(milvus_proxy_mutation_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, msg_type) / sum(increase(milvus_proxy_mutation_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, msg_type)</code></td><td><code translate="no">milvus_proxy_mutation_latency_sum</code></td><td>Temps de latence des demandes de mutation.</td></tr>
<tr><td>Temps de latence de la mutation de la collection</td><td>Temps de latence moyen et 99e percentile de la latence de réception des demandes de mutation vers une collection spécifique par chaque proxy au cours des deux dernières minutes.</td><td>p99 : <br/> <code translate="no">histogram_quantile(0.99, sum by (le, query_type, pod, node_id) (rate(milvus_proxy_collection_sq_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;, collection_name=~&quot;$collection&quot;}[2m])))</code> <br/> avg : <br/> <code translate="no">sum(increase(milvus_proxy_collection_sq_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;, collection_name=~&quot;$collection&quot;}[2m])) by (pod, node_id, query_type) / sum(increase(milvus_proxy_collection_sq_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;, collection_name=~&quot;$collection&quot;}[2m])) by (pod, node_id, query_type)</code></td><td><code translate="no">milvus_proxy_collection_sq_latency_sum</code></td><td>Temps de latence des demandes de mutation vers une collection spécifique</td></tr>
<tr><td>Temps d'attente des résultats de recherche</td><td>Temps de latence moyen et 99e centile du temps de latence entre l'envoi de demandes de recherche et de requête et la réception des résultats par proxy au cours des deux dernières minutes.</td><td>p99 : <br/> <code translate="no">histogram_quantile(0.99, sum by (le, query_type, pod, node_id) (rate(milvus_proxy_sq_wait_result_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg : <br/> <code translate="no">sum(increase(milvus_proxy_sq_wait_result_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, query_type) / sum(increase(milvus_proxy_sq_wait_result_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, query_type)</code></td><td><code translate="no">milvus_proxy_sq_wait_result_latency</code></td><td>Temps de latence entre l'envoi de demandes de recherche et de requête et la réception des résultats.</td></tr>
<tr><td>Réduire la latence des résultats de recherche</td><td>Temps de latence moyen et 99e percentile du temps de latence pour l'agrégation des résultats de recherche et de requête par proxy au cours des deux dernières minutes.</td><td>p99 : <br/> <code translate="no">histogram_quantile(0.99, sum by (le, query_type, pod, node_id) (rate(milvus_proxy_sq_reduce_result_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg : <br/> <code translate="no">sum(increase(milvus_proxy_sq_reduce_result_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, query_type) / sum(increase(milvus_proxy_sq_reduce_result_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, query_type)</code></td><td><code translate="no">milvus_proxy_sq_reduce_result_latency</code></td><td>Temps de latence de l'agrégation des résultats de recherche et d'interrogation renvoyés par chaque nœud d'interrogation.</td></tr>
<tr><td>Temps de latence du décodage des résultats de recherche</td><td>Temps de latence moyen et 99e centile du temps de latence du décodage des résultats de recherche et d'interrogation par proxy au cours des deux dernières minutes.</td><td>p99 : <br/> <code translate="no">histogram_quantile(0.99, sum by (le, query_type, pod, node_id) (rate(milvus_proxy_sq_decode_result_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg : <br/> <code translate="no">sum(increase(milvus_proxy_sq_decode_result_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, query_type) / sum(increase(milvus_proxy_sq_decode_resultlatency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, query_type)</code></td><td><code translate="no">milvus_proxy_sq_decode_result_latency</code></td><td>Temps de latence du décodage de chaque résultat de recherche et de requête.</td></tr>
<tr><td>Msg Stream Object Num</td><td>Nombre moyen, maximum et minimum d'objets msgstream créés par chaque proxy sur le sujet physique correspondant au cours des deux dernières minutes.</td><td><code translate="no">avg(milvus_proxy_msgstream_obj_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id) max(milvus_proxy_msgstream_obj_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id) min(milvus_proxy_msgstream_obj_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_proxy_msgstream_obj_num</code></td><td>Le nombre d'objets msgstream créés sur chaque sujet physique.</td></tr>
<tr><td>Latence d'envoi des mutations</td><td>Temps de latence moyen et 99e centile du temps de latence de l'envoi de demandes d'insertion ou de suppression par chaque proxy au cours des deux dernières minutes.</td><td>p99 : <br/> <code translate="no">histogram_quantile(0.99, sum by (le, msg_type, pod, node_id) (rate(milvus_proxy_mutation_send_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg : <br/> <code translate="no">sum(increase(milvus_proxy_mutation_send_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, msg_type) / sum(increase(milvus_proxy_mutation_send_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, msg_type)</code></td><td><code translate="no">milvus_proxy_mutation_send_latency</code></td><td>Temps de latence pour l'envoi de demandes d'insertion ou de suppression.</td></tr>
<tr><td>Taux de réussite du cache</td><td>Le taux moyen de réussite des opérations dans le cache, y compris <code translate="no">GeCollectionID</code>, <code translate="no">GetCollectionInfo</code>, et <code translate="no">GetCollectionSchema</code> par seconde au cours des deux dernières minutes.</td><td><code translate="no">sum(increase(milvus_proxy_cache_hit_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;, cache_state=&quot;hit&quot;}[2m])/120) by(cache_name, pod, node_id) / sum(increase(milvus_proxy_cache_hit_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by(cache_name, pod, node_id)</code></td><td><code translate="no">milvus_proxy_cache_hit_count</code></td><td>Statistiques des taux de réussite et d'échec de chaque opération de lecture du cache.</td></tr>
<tr><td>Latence de mise à jour de la mémoire cache</td><td>La latence moyenne et le 99e percentile de la latence de mise à jour du cache par proxy au cours des deux dernières minutes.</td><td>p99 : <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_proxy_cache_update_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg : <br/> <code translate="no">sum(increase(milvus_proxy_cache_update_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id) / sum(increase(milvus_proxy_cache_update_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id)</code></td><td><code translate="no">milvus_proxy_cache_update_latency</code></td><td>Temps de latence de la mise à jour du cache à chaque fois.</td></tr>
<tr><td>Temps de synchronisation</td><td>Le nombre moyen, maximum et minimum d'heures d'horloge synchronisées par chaque proxy dans le canal physique correspondant.</td><td><code translate="no">avg(milvus_proxy_sync_epoch_time{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id) max(milvus_proxy_sync_epoch_time{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id) min(milvus_proxy_sync_epoch_time{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_proxy_sync_epoch_time</code></td><td>L'heure d'origine de chaque canal physique (heure Unix, millisecondes écoulées depuis le 1er janvier 1970).    <br/>    Il y a un <code translate="no">ChannelName</code> par défaut en dehors des canaux physiques.</td></tr>
<tr><td>Appliquer la latence PK</td><td>La latence moyenne et le 99ème percentile de la latence de l'application de la clé primaire par chaque proxy au cours des deux dernières minutes.</td><td>p99 : <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_proxy_apply_pk_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg : <br/> <code translate="no">sum(increase(milvus_proxy_apply_pk_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id) / sum(increase(milvus_proxy_apply_pk_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id)</code></td><td><code translate="no">milvus_proxy_apply_pk_latency</code></td><td>Le temps de latence de l'application de la clé primaire.</td></tr>
<tr><td>Temps de latence de l'horodatage de l'application</td><td>Le temps de latence moyen et le 99ème percentile du temps de latence de l'application de l'horodatage par chaque proxy au cours des deux dernières minutes.</td><td>p99 : <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_proxy_apply_timestamp_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg : <br/> <code translate="no">sum(increase(milvus_proxy_apply_timestamp_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id) / sum(increase(milvus_proxy_apply_timestamp_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id)</code></td><td><code translate="no">milvus_proxy_apply_timestamp_latency</code></td><td>Le temps de latence de l'application de l'horodatage.</td></tr>
<tr><td>Taux de réussite des demandes</td><td>Le nombre de requêtes réussies reçues par seconde par chaque proxy, avec une ventilation détaillée de chaque type de requête. Les types de demandes possibles sont DescribeCollection, DescribeIndex, GetCollectionStatistics, HasCollection, Search, Query, ShowPartitions, Insert, etc.</td></tr>
<tr><td><code translate="no">sum(increase(milvus_proxy_req_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;, status=&quot;success&quot;}[2m])/120) by(function_name, pod, node_id)</code></td><td><code translate="no">milvus_proxy_req_count</code></td><td>Nombre de tous les types de demandes reçues</td></tr>
<tr><td>Taux d'échec des demandes</td><td>Le nombre de demandes échouées reçues par seconde par chaque proxy, avec une ventilation détaillée de chaque type de demande. Les types de demandes possibles sont DescribeCollection, DescribeIndex, GetCollectionStatistics, HasCollection, Search, Query, ShowPartitions, Insert, etc.</td></tr>
<tr><td><code translate="no">sum(increase(milvus_proxy_req_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;, status=&quot;fail&quot;}[2m])/120) by(function_name, pod, node_id)</code></td><td><code translate="no">milvus_proxy_req_count</code></td><td>Nombre de tous les types de demandes reçues</td></tr>
<tr><td>Temps de latence des requêtes</td><td>La latence moyenne et le 99e percentile de la latence de tous les types de requêtes reçues par chaque proxy.</td><td>p99 : <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id, function_name) (rate(milvus_proxy_req_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg : <br/> <code translate="no">sum(increase(milvus_proxy_req_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, function_name) / sum(increase(milvus_proxy_req_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, function_name)</code></td><td><code translate="no">milvus_proxy_req_latency</code></td><td>Le temps de latence de tous les types de demandes de réception</td></tr>
<tr><td>Taux d'octets des demandes d'insertion/suppression</td><td>Nombre d'octets de demandes d'insertion et de suppression reçus par seconde par le proxy au cours des deux dernières minutes.</td><td><code translate="no">sum(increase(milvus_proxy_receive_bytes_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by(pod, node_id)</code></td><td><code translate="no">milvus_proxy_receive_bytes_count</code></td><td>Le nombre de demandes d'insertion et de suppression.</td></tr>
<tr><td>Taux d'envoi d'octets</td><td>Nombre d'octets par seconde renvoyés au client pendant que chaque proxy répond aux demandes de recherche et de requête au cours des deux dernières minutes.</td><td><code translate="no">sum(increase(milvus_proxy_send_bytes_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by(pod, node_id)</code></td><td><code translate="no">milvus_proxy_send_bytes_count</code></td><td>Nombre d'octets renvoyés au client pendant que chaque proxy répond aux demandes de recherche et d'interrogation.</td></tr>
</tbody>
</table>
<p></details></p>
<p><details><summary>Coordinateur racine</summary></p>
<table>
<thead>
<tr><th>Panneau</th><th>Description du panel</th><th>PromQL (langage de requête Prometheus)</th><th>Les métriques Milvus utilisées</th><th>Description des métriques Milvus</th></tr>
</thead>
<tbody>
<tr><td>Proxy Node Num</td><td>Nombre de proxies créés.</td><td><code translate="no">sum(milvus_rootcoord_proxy_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_rootcoord_proxy_num</code></td><td>Le nombre de proxies.</td></tr>
<tr><td>Sync Time</td><td>Le nombre moyen, maximum et minimum de temps d'époque synchronisés par chaque coordonnée racine dans chaque canal physique (PChannel).</td><td><code translate="no">avg(milvus_rootcoord_sync_epoch_time{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance) max(milvus_rootcoord_sync_epoch_time{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance) min(milvus_rootcoord_sync_epoch_time{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_rootcoord_sync_epoch_time</code></td><td>L'heure de référence de chaque canal physique (heure Unix, millisecondes écoulées depuis le 1er janvier 1970).</td></tr>
<tr><td>Taux de requêtes DDL</td><td>L'état et le nombre de requêtes DDL par seconde au cours des deux dernières minutes.</td><td><code translate="no">sum(increase(milvus_rootcoord_ddl_req_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (status, function_name)</code></td><td><code translate="no">milvus_rootcoord_ddl_req_count</code></td><td>Le nombre total de requêtes DDL, y compris <code translate="no">CreateCollection</code>, <code translate="no">DescribeCollection</code>, <code translate="no">DescribeSegments</code>, <code translate="no">HasCollection</code>, <code translate="no">ShowCollections</code>, <code translate="no">ShowPartitions</code>, et <code translate="no">ShowSegments</code>.</td></tr>
<tr><td>Temps de latence des requêtes DDL</td><td>La latence moyenne et le 99e percentile de la latence des requêtes DDL au cours des deux dernières minutes.</td><td>p99 : <br/> <code translate="no">histogram_quantile(0.99, sum by (le, function_name) (rate(milvus_rootcoord_ddl_req_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg : <br/> <code translate="no">sum(increase(milvus_rootcoord_ddl_req_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (function_name) / sum(increase(milvus_rootcoord_ddl_req_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (function_name)</code></td><td><code translate="no">milvus_rootcoord_ddl_req_latency</code></td><td>Le temps de latence de tous les types de requêtes DDL.</td></tr>
<tr><td>Sync Timetick Latency (Temps de latence de la synchronisation)</td><td>La latence moyenne et le 99ème percentile du temps utilisé par root coord pour synchroniser tous les horodatages avec PChannel au cours des deux dernières minutes.</td><td>p99 : <br/> <code translate="no">histogram_quantile(0.99, sum by (le) (rate(milvus_rootcoord_sync_timetick_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg : <br/> <code translate="no">sum(increase(milvus_rootcoord_sync_timetick_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) / sum(increase(milvus_rootcoord_sync_timetick_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m]))</code></td><td><code translate="no">milvus_rootcoord_sync_timetick_latency</code></td><td>le temps utilisé par le coordonnateur principal pour synchroniser tous les horodatages avec le canal PC.</td></tr>
<tr><td>ID Alloc Rate</td><td>Le nombre d'identifiants attribués par le coordinateur racine par seconde au cours des deux dernières minutes.</td><td><code translate="no">sum(increase(milvus_rootcoord_id_alloc_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120)</code></td><td><code translate="no">milvus_rootcoord_id_alloc_count</code></td><td>Le nombre cumulé d'identifiants attribués par le coordinateur racine.</td></tr>
<tr><td>Horodatage</td><td>L'horodatage le plus récent du coordonnateur racine.</td><td><code translate="no">milvus_rootcoord_timestamp{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}</code></td><td><code translate="no">milvus_rootcoord_timestamp</code></td><td>Dernier horodatage de la coordonnée racine.</td></tr>
<tr><td>Horodatage sauvegardé</td><td>Les horodatages pré-assignés que la racine de la coordination enregistre dans le méta stockage.</td><td><code translate="no">milvus_rootcoord_timestamp_saved{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}</code></td><td><code translate="no">milvus_rootcoord_timestamp_saved</code></td><td>Les horodatages pré-assignés que le coordonnateur racine enregistre dans le méta-mémoire.     <br/>    Les horodatages sont attribués 3 secondes plus tôt. L'horodatage est mis à jour et enregistré dans le méta-magasin toutes les 50 millisecondes.</td></tr>
<tr><td>Collection Num</td><td>Le nombre total de collections.</td><td><code translate="no">sum(milvus_rootcoord_collection_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_rootcoord_collection_num</code></td><td>Le nombre total de collections existant actuellement dans Milvus.</td></tr>
<tr><td>Partition Num</td><td>Le nombre total de partitions.</td><td><code translate="no">sum(milvus_rootcoord_partition_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_rootcoord_partition_num</code></td><td>Le nombre total de partitions existant actuellement dans Milvus.</td></tr>
<tr><td>Canal DML Num</td><td>Le nombre total de canaux DML.</td><td><code translate="no">sum(milvus_rootcoord_dml_channel_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_rootcoord_dml_channel_num</code></td><td>Le nombre total de canaux DML existant actuellement dans Milvus.</td></tr>
<tr><td>Msgstream Num</td><td>Nombre total de flux de messages.</td><td><code translate="no">sum(milvus_rootcoord_msgstream_obj_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_rootcoord_msgstream_obj_num</code></td><td>Le nombre total de flux de messages dans Milvus actuellement.</td></tr>
<tr><td>Credential Num</td><td>Nombre total d'informations d'identification.</td><td><code translate="no">sum(milvus_rootcoord_credential_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_rootcoord_credential_num</code></td><td>Le nombre total d'informations d'identification dans Milvus actuellement.</td></tr>
<tr><td>Time Tick Delay</td><td>Somme des délais maximums des graphiques de flux sur tous les DataNodes et QueryNodes.</td><td><code translate="no">sum(milvus_rootcoord_time_tick_delay{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_rootcoord_time_tick_delay</code></td><td>Le délai maximum des graphiques de flux sur chaque DataNode et QueryNode.</td></tr>
</tbody>
</table>
<p></details></p>
<p><details><summary>Coordinateur de requête</summary></p>
<table>
<thead>
<tr><th>Panneau</th><th>Description du panneau</th><th>PromQL (langage de requête Prometheus)</th><th>Les métriques Milvus utilisées</th><th>Description des métriques Milvus</th></tr>
</thead>
<tbody>
<tr><td>Collection Loaded Num</td><td>Nombre de collections actuellement chargées en mémoire.</td><td><code translate="no">sum(milvus_querycoord_collection_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_querycoord_collection_num</code></td><td>Nombre de collections actuellement chargées par Milvus.</td></tr>
<tr><td>Entité chargée Num</td><td>Nombre d'entités actuellement chargées en mémoire.</td><td><code translate="no">sum(milvus_querycoord_entity_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_querycoord_entitiy_num</code></td><td>Nombre d'entités actuellement chargées par Milvus.</td></tr>
<tr><td>Taux de demande de chargement</td><td>Nombre de demandes de chargement par seconde au cours des deux dernières minutes.</td><td><code translate="no">sum(increase(milvus_querycoord_load_req_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])120) by (status)</code></td><td><code translate="no">milvus_querycoord_load_req_count</code></td><td>Nombre cumulé de demandes de chargement.</td></tr>
<tr><td>Taux de demande de libération</td><td>Nombre de demandes de libération par seconde au cours des deux dernières minutes.</td><td><code translate="no">sum(increase(milvus_querycoord_release_req_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (status)</code></td><td><code translate="no">milvus_querycoord_release_req_count</code></td><td>Nombre cumulé de demandes de libération.</td></tr>
<tr><td>Temps de latence des demandes de chargement</td><td>La latence moyenne et le 99e percentile de la latence des demandes de chargement au cours des deux dernières minutes.</td><td>p99 : <br/> <code translate="no">histogram_quantile(0.99, sum by (le) (rate(milvus_querycoord_load_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg : <br/> <code translate="no">sum(increase(milvus_querycoord_load_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) / sum(increase(milvus_querycoord_load_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m]))</code></td><td><code translate="no">milvus_querycoord_load_latency</code></td><td>Temps nécessaire à l'exécution d'une demande de chargement.</td></tr>
<tr><td>Latence de la demande de libération</td><td>Le temps de latence moyen et le 99ème percentile du temps de latence des demandes de libération au cours des deux dernières minutes.</td><td>p99 : <br/> <code translate="no">histogram_quantile(0.99, sum by (le) (rate(milvus_querycoord_release_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> moyenne : <br/> <code translate="no">sum(increase(milvus_querycoord_release_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) / sum(increase(milvus_querycoord_release_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m]))</code></td><td><code translate="no">milvus_querycoord_release_latency</code></td><td>Le temps nécessaire à l'exécution d'une demande de libération.</td></tr>
<tr><td>Sub-Load Task</td><td>Nombre de tâches de sous-charge.</td><td><code translate="no">sum(milvus_querycoord_child_task_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_querycoord_child_task_num</code></td><td>Nombre de tâches de sous-charge.    <br/>    Une coordonnée de requête divise une demande de charge en plusieurs tâches de charge secondaires.</td></tr>
<tr><td>Tâche de charge principale</td><td>Nombre de tâches de chargement parent.</td><td><code translate="no">sum(milvus_querycoord_parent_task_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_querycoord_parent_task_num</code></td><td>Nombre de sous-tâches de charge.    <br/>    Chaque demande de charge correspond à une tâche parent dans la file d'attente des tâches.</td></tr>
<tr><td>Latence de la tâche de sous-charge</td><td>La latence moyenne et le 99e percentile de la latence d'une tâche de sous-charge au cours des deux dernières minutes.</td><td>p99 : <br/> <code translate="no">histogram_quantile(0.99, sum by (le) (rate(milvus_querycoord_child_task_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg : <br/> <code translate="no">sum(increase(milvus_querycoord_child_task_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) / sum(increase(milvus_querycoord_child_task_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) namespace&quot;}[2m])))</code></td><td><code translate="no">milvus_querycoord_child_task_latency</code></td><td>Temps d'attente pour terminer une tâche de sous-charge.</td></tr>
<tr><td>Query Node Num</td><td>Nombre de nœuds de requête gérés par query coord.</td><td><code translate="no">sum(milvus_querycoord_querynode_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_querycoord_querynode_num</code></td><td>Nombre de nœuds de requête gérés par la coordination des requêtes.</td></tr>
</tbody>
</table>
<p></details></p>
<p><details><summary>Nœud de requête</summary></p>
<table>
<thead>
<tr><th>Panneau</th><th>Description du panneau</th><th>PromQL (langage de requête Prometheus)</th><th>Les métriques Milvus utilisées</th><th>Description des métriques Milvus</th></tr>
</thead>
<tbody>
<tr><td>Collection Loaded Num</td><td>Nombre de collections chargées en mémoire par chaque nœud de requête.</td><td><code translate="no">sum(milvus_querynode_collection_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_querynode_collection_num</code></td><td>Nombre de collections chargées par chaque nœud de requête.</td></tr>
<tr><td>Partition chargée Num</td><td>Nombre de partitions chargées en mémoire par chaque nœud d'interrogation.</td><td><code translate="no">sum(milvus_querynode_partition_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_querynode_partition_num</code></td><td>Nombre de partitions chargées par chaque nœud d'interrogation.</td></tr>
<tr><td>Segment chargé Num</td><td>Nombre de segments chargés en mémoire par chaque nœud d'interrogation.</td><td><code translate="no">sum(milvus_querynode_segment_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_querynode_segment_num</code></td><td>Nombre de segments chargés par chaque nœud d'interrogation.</td></tr>
<tr><td>Entité interrogeable Num</td><td>Nombre d'entités interrogeables et consultables sur chaque nœud d'interrogation.</td><td><code translate="no">sum(milvus_querynode_entity_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_querynode_entity_num</code></td><td>Nombre d'entités interrogeables et consultables sur chaque nœud d'interrogation.</td></tr>
<tr><td>Canal virtuel DML</td><td>Nombre de canaux virtuels DML surveillés par chaque nœud d'interrogation.</td><td><code translate="no">sum(milvus_querynode_dml_vchannel_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_querynode_dml_vchannel_num</code></td><td>Nombre de canaux virtuels DML surveillés par chaque nœud d'interrogation.</td></tr>
<tr><td>Canal virtuel Delta</td><td>Nombre de canaux delta surveillés par chaque nœud d'interrogation.</td><td><code translate="no">sum(milvus_querynode_delta_vchannel_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_querynode_delta_vchannel_num</code></td><td>Nombre de canaux delta surveillés par chaque nœud de requête.</td></tr>
<tr><td>Consumer Num</td><td>Nombre de consommateurs dans chaque noeud de requête.</td><td><code translate="no">sum(milvus_querynode_consumer_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_querynode_consumer_num</code></td><td>Nombre de consommateurs dans chaque nœud de requête.</td></tr>
<tr><td>Taux de requêtes de recherche</td><td>Nombre total de demandes de recherche et d'interrogation reçues par seconde par chaque nœud d'interrogation et nombre de demandes de recherche et d'interrogation réussies au cours des deux dernières minutes.</td><td><code translate="no">sum(increase(milvus_querynode_sq_req_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (query_type, status, pod, node_id)</code></td><td><code translate="no">milvus_querynode_sq_req_count</code></td><td>Nombre cumulé de demandes de recherche et d'interrogation.</td></tr>
<tr><td>Temps de latence des requêtes de recherche</td><td>La latence moyenne et le 99e percentile du temps utilisé pour les requêtes de recherche et d'interrogation par chaque nœud d'interrogation au cours des deux dernières minutes.    <br/>    Ce panneau affiche la latence des requêtes de recherche et d'interrogation dont l'état est &quot;succès&quot; ou &quot;total&quot;.</td><td>p99 : <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_querynode_sq_req_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg : <br/> <code translate="no">sum(increase(milvus_querynode_sq_req_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id, query_type) / sum(increase(milvus_querynode_sq_req_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id, query_type)</code></td><td><code translate="no">milvus_querynode_sq_req_latency</code></td><td>Temps de latence de la demande de recherche du nœud d'interrogation.</td></tr>
<tr><td>Temps de latence de la recherche dans la file d'attente</td><td>Temps de latence moyen et 99e centile du temps de latence des requêtes de recherche et d'interrogation en file d'attente au cours des deux dernières minutes.</td><td>p99 : <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id, query_type) (rate(milvus_querynode_sq_queue_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg : <br/> <code translate="no">sum(increase(milvus_querynode_sq_queue_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id, query_type) / sum(increase(milvus_querynode_sq_queue_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id, query_type)</code></td><td><code translate="no">milvus_querynode_sq_queue_latency</code></td><td>Temps de latence des requêtes de recherche et d'interrogation reçues par le nœud d'interrogation.</td></tr>
<tr><td>Temps de latence du segment de recherche</td><td>La latence moyenne et le 99e percentile du temps nécessaire à chaque nœud de requête pour rechercher et interroger un segment au cours des deux dernières minutes.    <br/>    L'état d'un segment peut être scellé ou en croissance.</td><td>p99 : <br/> <code translate="no">histogram_quantile(0.99, sum by (le, query_type, segment_state, pod, node_id) (rate(milvus_querynode_sq_segment_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg : <br/> <code translate="no">sum(increase(milvus_querynode_sq_segment_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id, query_type, segment_state) / sum(increase(milvus_querynode_sq_segment_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id, query_type, segment_state)</code></td><td><code translate="no">milvus_querynode_sq_segment_latency</code></td><td>Temps nécessaire à chaque nœud de requête pour rechercher et interroger chaque segment.</td></tr>
<tr><td>Temps de latence des requêtes Segcore</td><td>Temps de latence moyen et 99e percentile du temps nécessaire à chaque nœud de requête pour effectuer une recherche et une requête dans le segcore au cours des deux dernières minutes.</td><td>p99 : <br/> <code translate="no">histogram_quantile(0.99, sum by (le, query_type, pod, node_id) (rate(milvus_querynode_sq_core_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg : <br/> <code translate="no">sum(increase(milvus_querynode_sq_core_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id, query_type) / sum(increase(milvus_querynode_sq_core_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id, query_type)</code></td><td><code translate="no">milvus_querynode_sq_core_latency</code></td><td>Temps nécessaire à chaque nœud de requête pour effectuer une recherche et une requête dans segcore.</td></tr>
<tr><td>Temps de latence de la réduction de la recherche</td><td>Temps de latence moyen et 99e percentile du temps utilisé par chaque nœud de requête pendant l'étape de réduction d'une recherche ou d'une requête au cours des deux dernières minutes.</td><td>p99 : <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id, query_type) (rate(milvus_querynode_sq_reduce_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg : <br/> <code translate="no">sum(increase(milvus_querynode_sq_reduce_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id, query_type) / sum(increase(milvus_querynode_sq_reduce_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id, query_type)</code></td><td><code translate="no">milvus_querynode_sq_reduce_latency</code></td><td>Le temps que chaque requête passe pendant l'étape de réduction.</td></tr>
<tr><td>Temps de latence du segment de charge</td><td>Temps de latence moyen et 99e percentile du temps nécessaire à chaque nœud de requête pour charger un segment au cours des deux dernières minutes.</td><td>p99 : <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_querynode_load_segment_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg : <br/> <code translate="no">sum(increase(milvus_querynode_load_segment_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_querynode_load_segment_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td><code translate="no">milvus_querynode_load_segment_latency_bucket</code></td><td>Temps nécessaire à chaque nœud de requête pour charger un segment.</td></tr>
<tr><td>Flowgraph Num</td><td>Nombre d'organigrammes dans chaque nœud de requête.</td><td><code translate="no">sum(milvus_querynode_flowgraph_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_querynode_flowgraph_num</code></td><td>Le nombre de diagrammes de flux dans chaque nœud d'interrogation.</td></tr>
<tr><td>Longueur des tâches de lecture non résolues</td><td>Longueur de la file d'attente des demandes de lecture non résolues dans chaque nœud d'interrogation.</td><td><code translate="no">sum(milvus_querynode_read_task_unsolved_len{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_querynode_read_task_unsolved_len</code></td><td>Longueur de la file d'attente des demandes de lecture non résolues.</td></tr>
<tr><td>Longueur de la tâche de lecture prête</td><td>Longueur de la file d'attente des demandes de lecture à exécuter dans chaque nœud d'interrogation.</td><td><code translate="no">sum(milvus_querynode_read_task_ready_len{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_querynode_read_task_ready_len</code></td><td>Longueur de la file d'attente des demandes de lecture à exécuter.</td></tr>
<tr><td>Tâche de lecture parallèle (Parallel Read Task Num)</td><td>Nombre de requêtes de lecture simultanées actuellement exécutées dans chaque noeud de requête.</td><td><code translate="no">sum(milvus_querynode_read_task_concurrency{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_querynode_read_task_concurrency</code></td><td>Le nombre de requêtes de lecture simultanées actuellement exécutées.</td></tr>
<tr><td>Estimate CPU Usage</td><td>L'utilisation du CPU par chaque noeud de requête estimée par le planificateur.</td><td><code translate="no">sum(milvus_querynode_estimate_cpu_usage{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_querynode_estimate_cpu_usage</code></td><td>L'utilisation du CPU par chaque noeud de requête estimée par le planificateur.     <br/>    Lorsque la valeur est de 100, cela signifie qu'un CPU virtuel (vCPU) entier est utilisé.</td></tr>
<tr><td>Taille du groupe de recherche</td><td>Le nombre moyen et le 99e centile de la taille du groupe de recherche (c'est-à-dire le nombre total de requêtes de recherche originales dans les requêtes de recherche combinées exécutées par chaque nœud de requête) au cours des deux dernières minutes.</td><td>p99 : <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_querynode_search_group_size_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg : <br/> <code translate="no">sum(increase(milvus_querynode_search_group_size_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_querynode_search_group_size_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td><code translate="no">milvus_querynode_load_segment_latency_bucket</code></td><td>Le nombre de tâches de recherche originales parmi les tâches de recherche combinées de différents ensembles (c.-à-d. la taille du groupe de recherche).</td></tr>
<tr><td>Recherche NQ</td><td>Le nombre moyen et le 99e percentile du nombre de requêtes (NQ) effectuées lorsque chaque nœud de requête exécute des requêtes de recherche au cours des deux dernières minutes.</td><td>p99 : <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_querynode_search_group_size_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg : <br/> <code translate="no">sum(increase(milvus_querynode_search_group_size_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_querynode_search_group_size_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td>Milvus_querynode_load_segment_latency_bucket</td><td>Le nombre de requêtes (NQ) des demandes de recherche.</td></tr>
<tr><td>Groupe de recherche NQ</td><td>Le nombre moyen et le 99e centile du NQ des requêtes de recherche combinées et exécutées par chaque nœud de requête au cours des deux dernières minutes.</td><td>p99 : <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_querynode_search_group_nq_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg : <br/> <code translate="no">sum(increase(milvus_querynode_search_group_nq_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_querynode_search_group_nq_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td><code translate="no">milvus_querynode_load_segment_latency_bucket</code></td><td>Le NQ des requêtes de recherche combinées à partir de différentes catégories.</td></tr>
<tr><td>Recherche Top_K</td><td>Nombre moyen et 99e percentile de <code translate="no">Top_K</code> des demandes de recherche exécutées par chaque nœud d'interrogation au cours des deux dernières minutes.</td><td>p99 : <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_querynode_search_topk_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg : <br/> <code translate="no">sum(increase(milvus_querynode_search_topk_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_querynode_search_topk_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td><code translate="no">milvus_querynode_load_segment_latency_bucket</code></td><td>Le <code translate="no">Top_K</code> des demandes de recherche.</td></tr>
<tr><td>Groupe de recherche Top_K</td><td>Nombre moyen et 99e centile des <code translate="no">Top_K</code> demandes de recherche combinées et exécutées par chaque nœud d'interrogation au cours des deux dernières minutes.</td><td>p99 : <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_querynode_search_group_topk_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg : <br/> <code translate="no">sum(increase(milvus_querynode_search_group_topk_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_querynode_search_group_topk_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td><code translate="no">milvus_querynode_load_segment_latency_bucket</code></td><td>Le <code translate="no">Top_K</code> des requêtes de recherche combinées à partir de différents ensembles.</td></tr>
<tr><td>Taux de requêtes de lecture évincées</td><td>Nombre de demandes de lecture expulsées par seconde par chaque nœud d'interrogation au cours des deux dernières minutes.</td><td><code translate="no">sum(increase(milvus_querynode_read_evicted_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (pod, node_id)</code></td><td><code translate="no">milvus_querynode_sq_req_count</code></td><td>Le nombre cumulé de requêtes de lecture évincées par le nœud d'interrogation en raison d'une restriction du trafic.</td></tr>
</tbody>
</table>
<p></details></p>
<p><details><summary>Coordinateur de données</summary></p>
<table>
<thead>
<tr><th>Panneau</th><th>Description du panel</th><th>PromQL (langage de requête Prometheus)</th><th>Les métriques Milvus utilisées</th><th>Description des métriques Milvus</th></tr>
</thead>
<tbody>
<tr><td>Data Node Num</td><td>Nombre de nœuds de données gérés par le coordinateur des données.</td><td><code translate="no">sum(milvus_datacoord_datanode_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_datacoord_datanode_num</code></td><td>Nombre de nœuds de données gérés par la coordinatrice des données.</td></tr>
<tr><td>Segment Num</td><td>Nombre de tous les types de segments enregistrés dans les métadonnées par la coordination des données.</td><td><code translate="no">sum(milvus_datacoord_segment_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (segment_state)</code></td><td><code translate="no">milvus_datacoord_segment_num</code></td><td>Nombre de tous les types de segments enregistrés dans les métadonnées par la coordonnatrice des données.    <br/>    Les types de segments sont les suivants : dropped, flushed, flushing, growing et sealed.</td></tr>
<tr><td>Collection Num</td><td>Nombre de collections enregistrées dans les métadonnées par la coordonnatrice des données.</td><td><code translate="no">sum(milvus_datacoord_collection_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_datacoord_collection_num</code></td><td>Nombre de collections enregistrées dans les métadonnées par la coordonnatrice des données.</td></tr>
<tr><td>Lignes stockées</td><td>Nombre cumulé de lignes de données valides et effacées dans la coordonnée des données.</td><td><code translate="no">sum(milvus_datacoord_stored_rows_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_datacoord_stored_rows_num</code></td><td>Nombre cumulé de lignes de données valides et effacées dans la coordonnée des données.</td></tr>
<tr><td>Taux de lignes stockées</td><td>Nombre moyen de lignes extraites par seconde au cours des deux dernières minutes.</td><td><code translate="no">sum(increase(milvus_datacoord_stored_rows_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (pod, node_id)</code></td><td><code translate="no">milvus_datacoord_stored_rows_count</code></td><td>Le nombre cumulé de lignes extraites par la coordonnée des données.</td></tr>
<tr><td>Temps de synchronisation</td><td>Le nombre moyen, maximum et minimum de temps de synchronisation par coordonnée de données dans chaque canal physique.</td><td><code translate="no">avg(milvus_datacoord_sync_epoch_time{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance) max(milvus_datacoord_sync_epoch_time{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance) min(milvus_datacoord_sync_epoch_time{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_datacoord_sync_epoch_time</code></td><td>L'heure de référence de chaque canal physique (heure Unix, millisecondes écoulées depuis le 1er janvier 1970).</td></tr>
<tr><td>Taille du journal stocké</td><td>Taille totale du journal stocké.</td><td><code translate="no">sum(milvus_datacoord_stored_binlog_size{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_datacoord_stored_binlog_size</code></td><td>Taille totale du journal stocké dans Milvus.</td></tr>
</tbody>
</table>
<p></details></p>
<p><details><summary>Nœud de données</summary></p>
<table>
<thead>
<tr><th>Panneau</th><th>Description du panneau</th><th>PromQL (langage de requête Prometheus)</th><th>Les métriques Milvus utilisées</th><th>Description des métriques Milvus</th></tr>
</thead>
<tbody>
<tr><td>Flowgraph Num</td><td>Nombre d'objets de l'organigramme correspondant à chaque nœud de données.</td><td><code translate="no">sum(milvus_datanode_flowgraph_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_datanode_flowgraph_num</code></td><td>Nombre d'objets de graphe de flux.     <br/>    Chaque tesson d'une collection correspond à un objet de graphe de flux.</td></tr>
<tr><td>Msg Rows Consume Rate</td><td>Nombre de lignes de messages en continu consommées par seconde par chaque nœud de données au cours des deux dernières minutes.</td><td><code translate="no">sum(increase(milvus_datanode_msg_rows_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (msg_type, pod, node_id)</code></td><td><code translate="no">milvus_datanode_msg_rows_count</code></td><td>Nombre de lignes de messages en continu consommées.     <br/>    Actuellement, les messages en continu comptabilisés par nœud de données ne comprennent que les messages d'insertion et de suppression.</td></tr>
<tr><td>Taux de taille des données de vidange</td><td>La taille de chaque message de vidange enregistrée par seconde par chaque nœud de données au cours des deux dernières minutes.</td><td><code translate="no">sum(increase(milvus_datanode_flushed_data_size{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (msg_type, pod, node_id)</code></td><td><code translate="no">milvus_datanode_flushed_data_size</code></td><td>La taille de chaque message envoyé.    <br/>    Actuellement, les messages en continu comptabilisés par nœud de données ne comprennent que les messages d'insertion et de suppression.</td></tr>
<tr><td>Consumer Num</td><td>Nombre de consommateurs créés sur chaque nœud de données.</td><td><code translate="no">sum(milvus_datanode_consumer_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_datanode_consumer_num</code></td><td>Nombre de consommateurs créés sur chaque nœud de données.     <br/>    Chaque organigramme correspond à un consommateur.</td></tr>
<tr><td>Producer Num</td><td>Nombre de producteurs créés sur chaque nœud de données.</td><td><code translate="no">sum(milvus_datanode_producer_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_datanode_producer_num</code></td><td>Nombre de consommateurs créés sur chaque nœud de données.     <br/>    Chaque tesson d'une collection correspond à un producteur de canal delta et à un producteur de canal timetick.</td></tr>
<tr><td>Sync Time</td><td>Nombre moyen, maximum et minimum de temps d'époque synchronisés par chaque nœud de données dans tous les thèmes physiques.</td><td><code translate="no">avg(milvus_datanode_sync_epoch_time{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id) max(milvus_datanode_sync_epoch_time{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id) min(milvus_datanode_sync_epoch_time{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_datanode_sync_epoch_time</code></td><td>L'heure d'origine (heure Unix, millisecondes écoulées depuis le 1er janvier 1970) de chaque sujet physique sur un noeud de données.</td></tr>
<tr><td>Unflushed Segment Num</td><td>Nombre de segments non vidés créés sur chaque noeud de données.</td><td><code translate="no">sum(milvus_datanode_unflushed_segment_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_datanode_unflushed_segment_num</code></td><td>Nombre de segments non vidés créés sur chaque nœud de données.</td></tr>
<tr><td>Encode Buffer Latency</td><td>La latence moyenne et le 99e percentile du temps utilisé pour encoder un tampon par chaque nœud de données au cours des deux dernières minutes.</td><td>p99 : <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_datanode_encode_buffer_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg : <br/> <code translate="no">sum(increase(milvus_datanode_encode_buffer_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_datanode_encode_buffer_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td><code translate="no">milvus_datanode_encode_buffer_latency</code></td><td>Temps nécessaire à chaque nœud de données pour encoder une mémoire tampon.</td></tr>
<tr><td>Sauvegarde de la latence des données</td><td>Temps de latence moyen et 99e percentile du temps utilisé pour écrire un tampon dans la couche de stockage par chaque nœud de données au cours des deux dernières minutes.</td><td>p99 : <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_datanode_save_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg : <br/> <code translate="no">sum(increase(milvus_datanode_save_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_datanode_save_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td><code translate="no">milvus_datanode_save_latency</code></td><td>Temps nécessaire à chaque nœud de données pour écrire un tampon dans la couche de stockage.</td></tr>
<tr><td>Taux d'opération de rinçage</td><td>Nombre de fois où chaque nœud de données vide une mémoire tampon par seconde au cours des deux dernières minutes.</td><td><code translate="no">sum(increase(milvus_datanode_flush_buffer_op_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (status, pod, node_id)</code></td><td><code translate="no">milvus_datanode_flush_buffer_op_count</code></td><td>Nombre cumulé de fois qu'un nœud de données vide une mémoire tampon.</td></tr>
<tr><td>Taux d'opération de vidange automatique</td><td>Nombre de fois où chaque nœud de données a procédé à une vidange automatique de la mémoire tampon par seconde au cours des deux dernières minutes.</td><td><code translate="no">sum(increase(milvus_datanode_autoflush_buffer_op_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (status, pod, node_id)</code></td><td><code translate="no">milvus_datanode_autoflush_buffer_op_count</code></td><td>Nombre cumulé de fois qu'un nœud de données vide automatiquement une mémoire tampon.</td></tr>
<tr><td>Taux de demande de vidange</td><td>Nombre de fois où chaque nœud de données reçoit une demande de vidange de la mémoire tampon par seconde au cours des deux dernières minutes.</td><td><code translate="no">sum(increase(milvus_datanode_flush_req_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (status, pod, node_id)</code></td><td><code translate="no">milvus_datanode_flush_req_count</code></td><td>Nombre cumulé de fois où un noeud de données reçoit une demande de vidange de la part d'une coordonnée.</td></tr>
<tr><td>Latence de compactage</td><td>La latence moyenne et le percentile 99 du temps nécessaire à chaque nœud de données pour exécuter une tâche de compactage au cours des deux dernières minutes.</td><td>p99 : <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_datanode_compaction_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg : <br/> <code translate="no">sum(increase(milvus_datanode_compaction_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_datanode_compaction_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td><code translate="no">milvus_datanode_compaction_latency</code></td><td>Le temps nécessaire à chaque nœud de données pour exécuter une tâche de compactage.</td></tr>
</tbody>
</table>
<p></details></p>
<p><details><summary>Coordinateur de l'index</summary></p>
<table>
<thead>
<tr><th>Panneau</th><th>Description du panel</th><th>PromQL (langage de requête Prometheus)</th><th>Les métriques Milvus utilisées</th><th>Description des métriques Milvus</th></tr>
</thead>
<tbody>
<tr><td>Taux de demande d'index</td><td>Nombre moyen de demandes de construction d'index reçues par seconde au cours des deux dernières minutes.</td><td><code translate="no">sum(increase(milvus_indexcoord_indexreq_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (status)</code></td><td><code translate="no">milvus_indexcoord_indexreq_count</code></td><td>Nombre de demandes de construction d'index reçues.</td></tr>
<tr><td>Nombre de tâches d'indexation</td><td>Nombre de tâches d'indexation enregistrées dans les métadonnées d'index.</td><td><code translate="no">sum(milvus_indexcoord_indextask_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (index_task_status)</code></td><td><code translate="no">milvus_indexcoord_indextask_count</code></td><td>Nombre de tâches d'indexation enregistrées dans les métadonnées d'index.</td></tr>
<tr><td>Index Node Num</td><td>Nombre de nœuds d'index gérés.</td><td><code translate="no">sum(milvus_indexcoord_indexnode_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_indexcoord_indexnode_num</code></td><td>Nombre de nœuds d'index gérés.</td></tr>
</tbody>
</table>
<p></details></p>
<p><details><summary>Nœud d'index</summary></p>
<table>
<thead>
<tr><th>Panneau</th><th>Description du panneau</th><th>PromQL (langage de requête Prometheus)</th><th>Les métriques Milvus utilisées</th><th>Description des métriques Milvus</th></tr>
</thead>
<tbody>
<tr><td>Taux de tâches d'indexation</td><td>Nombre moyen de tâches de construction d'index reçues par chaque nœud d'index par seconde au cours des deux dernières minutes.</td><td><code translate="no">sum(increase(milvus_indexnode_index_task_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (status, pod, node_id)</code></td><td><code translate="no">milvus_indexnode_index_task_count</code></td><td>Nombre de tâches de construction d'index reçues.</td></tr>
<tr><td>Latence du champ de charge</td><td>La latence moyenne et le 99e percentile du temps utilisé par chaque nœud d'index pour charger les données de champ de segment à chaque fois au cours des deux dernières minutes.</td><td>p99 : <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_indexnode_load_field_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg : <br/> <code translate="no">sum(increase(milvus_indexnode_load_field_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_indexnode_load_field_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td><code translate="no">milvus_indexnode_load_field_latency</code></td><td>Temps utilisé par le nœud d'index pour charger les données du champ de segment.</td></tr>
<tr><td>Temps de latence du champ de décodage</td><td>Temps de latence moyen et 99e percentile du temps utilisé par chaque nœud d'index pour encoder les données de champ à chaque fois au cours des deux dernières minutes.</td><td>p99 : <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_indexnode_decode_field_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg : <br/> <code translate="no">sum(increase(milvus_indexnode_decode_field_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_indexnode_decode_field_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td><code translate="no">milvus_indexnode_decode_field_latency</code></td><td>Le temps utilisé pour décoder les données de champ.</td></tr>
<tr><td>Temps de latence de l'index de construction</td><td>Temps de latence moyen et 99e percentile du temps utilisé par chaque nœud d'index pour construire les index au cours des deux dernières minutes.</td><td>p99 : <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_indexnode_build_index_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg : <br/> <code translate="no">sum(increase(milvus_indexnode_build_index_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_indexnode_build_index_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td><code translate="no">milvus_indexnode_build_index_latency</code></td><td>Le temps utilisé pour construire les index.</td></tr>
<tr><td>Temps de latence de l'index d'encodage</td><td>Temps de latence moyen et 99e percentile du temps utilisé par chaque nœud d'index pour encoder les fichiers d'index au cours des deux dernières minutes.</td><td>p99 : <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_indexnode_encode_index_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg : <br/> <code translate="no">sum(increase(milvus_indexnode_encode_index_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_indexnode_encode_index_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td><code translate="no">milvus_indexnode_encode_index_latency</code></td><td>Le temps utilisé pour encoder les fichiers d'index.</td></tr>
<tr><td>Sauvegarder la latence de l'index</td><td>Temps de latence moyen et 99e percentile du temps utilisé par chaque nœud d'index pour enregistrer les fichiers d'index au cours des deux dernières minutes.</td><td>p99 : <br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_indexnode_save_index_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg : <br/> <code translate="no">sum(increase(milvus_indexnode_save_index_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_indexnode_save_index_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td><code translate="no">milvus_indexnode_save_index_latency</code></td><td>Temps utilisé pour enregistrer les fichiers d'index.</td></tr>
</tbody>
</table>
<p></details></p>
