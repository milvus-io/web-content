{"codeList":["$ kubectl get sc\n\nNAME                  PROVISIONER                  RECLAIMPOLICY    VOLUMEBIINDINGMODE    ALLOWVOLUMEEXPANSION     AGE\nstandard (default)    k8s.io/minikube-hostpath     Delete           Immediate             false \n","$ kubectl apply -f https://github.com/jetstack/cert-manager/releases/download/v1.5.3/cert-manager.yaml\n","customresourcedefinition.apiextensions.k8s.io/certificaterequests.cert-manager.io created\ncustomresourcedefinition.apiextensions.k8s.io/certificates.cert-manager.io created\ncustomresourcedefinition.apiextensions.k8s.io/challenges.acme.cert-manager.io created\ncustomresourcedefinition.apiextensions.k8s.io/clusterissuers.cert-manager.io created\ncustomresourcedefinition.apiextensions.k8s.io/issuers.cert-manager.io created\ncustomresourcedefinition.apiextensions.k8s.io/orders.acme.cert-manager.io created\nnamespace/cert-manager created\nserviceaccount/cert-manager-cainjector created\n...\nservice/cert-manager created\nservice/cert-manager-webhook created\ndeployment.apps/cert-manager-cainjector created\ndeployment.apps/cert-manager created\ndeployment.apps/cert-manager-webhook created\nmutatingwebhookconfiguration.admissionregistration.k8s.io/cert-manager-webhook created\nvalidatingwebhookconfiguration.admissionregistration.k8s.io/cert-manager-webhook created\n","$ kubectl get pods -n cert-manager\n\nNAME                                      READY   STATUS    RESTARTS   AGE\ncert-manager-848f547974-gccz8             1/1     Running   0          70s\ncert-manager-cainjector-54f4cc6b5-dpj84   1/1     Running   0          70s\ncert-manager-webhook-7c9588c76-tqncn      1/1     Running   0          70s\n","$ helm install milvus-operator \\\n  -n milvus-operator --create-namespace \\\n  --wait --wait-for-jobs \\\n  https://github.com/zilliztech/milvus-operator/releases/download/v1.0.1/milvus-operator-1.0.1.tgz\n","NAME: milvus-operator\nLAST DEPLOYED: Thu Jul  7 13:18:40 2022\nNAMESPACE: milvus-operator\nSTATUS: deployed\nREVISION: 1\nTEST SUITE: None\nNOTES:\nMilvus Operator Is Starting, use `kubectl get -n milvus-operator deploy/milvus-operator` to check if its successfully installed\nIf Operator not started successfully, check the checker's log with `kubectl -n milvus-operator logs job/milvus-operator-checker`\nFull Installation doc can be found in https://github.com/zilliztech/milvus-operator/blob/main/docs/installation/installation.md\nQuick start with `kubectl apply -f https://raw.githubusercontent.com/zilliztech/milvus-operator/main/config/samples/milvus_minimum.yaml`\nMore samples can be found in https://github.com/zilliztech/milvus-operator/tree/main/config/samples\nCRD Documentation can be found in https://github.com/zilliztech/milvus-operator/tree/main/docs/CRD\n","$ kubectl apply -f https://raw.githubusercontent.com/zilliztech/milvus-operator/main/deploy/manifests/deployment.yaml\n","namespace/milvus-operator created\ncustomresourcedefinition.apiextensions.k8s.io/milvusclusters.milvus.io created\nserviceaccount/milvus-operator-controller-manager created\nrole.rbac.authorization.k8s.io/milvus-operator-leader-election-role created\nclusterrole.rbac.authorization.k8s.io/milvus-operator-manager-role created\nclusterrole.rbac.authorization.k8s.io/milvus-operator-metrics-reader created\nclusterrole.rbac.authorization.k8s.io/milvus-operator-proxy-role created\nrolebinding.rbac.authorization.k8s.io/milvus-operator-leader-election-rolebinding created\nclusterrolebinding.rbac.authorization.k8s.io/milvus-operator-manager-rolebinding created\nclusterrolebinding.rbac.authorization.k8s.io/milvus-operator-proxy-rolebinding created\nconfigmap/milvus-operator-manager-config created\nservice/milvus-operator-controller-manager-metrics-service created\nservice/milvus-operator-webhook-service created\ndeployment.apps/milvus-operator-controller-manager created\ncertificate.cert-manager.io/milvus-operator-serving-cert created\nissuer.cert-manager.io/milvus-operator-selfsigned-issuer created\nmutatingwebhookconfiguration.admissionregistration.k8s.io/milvus-operator-mutating-webhook-configuration created\nvalidatingwebhookconfiguration.admissionregistration.k8s.io/milvus-operator-validating-webhook-configuration created\n","$ kubectl get pods -n milvus-operator\n\nNAME                               READY   STATUS    RESTARTS   AGE\nmilvus-operator-5fd77b87dc-msrk4   1/1     Running   0          46s\n","$ kubectl apply -f https://raw.githubusercontent.com/zilliztech/milvus-operator/main/config/samples/milvus_cluster_default.yaml\n","$ kubectl get milvus my-release -o yaml\n","apiVersion: milvus.io/v1alpha1\nkind: Milvus\nmetadata:\n...\nstatus:\n  conditions:\n  - lastTransitionTime: \"2021-11-02T05:59:41Z\"\n    reason: StorageReady\n    status: \"True\"\n    type: StorageReady\n  - lastTransitionTime: \"2021-11-02T06:06:23Z\"\n    message: Pulsar is ready\n    reason: PulsarReady\n    status: \"True\"\n    type: PulsarReady\n  - lastTransitionTime: \"2021-11-02T05:59:41Z\"\n    message: Etcd endpoints is healthy\n    reason: EtcdReady\n    status: \"True\"\n    type: EtcdReady\n  - lastTransitionTime: \"2021-11-02T06:12:36Z\"\n    message: All Milvus components are healthy\n    reason: MilvusClusterHealthy\n    status: \"True\"\n    type: MilvusReady\n  endpoint: my-release-milvus.default:19530\n  status: Healthy\n","$ kubectl get pods\n\nNAME                                            READY   STATUS      RESTARTS   AGE\nmy-release-etcd-0                               1/1     Running     0          14m\nmy-release-etcd-1                               1/1     Running     0          14m\nmy-release-etcd-2                               1/1     Running     0          14m\nmy-release-milvus-datanode-5c686bd65-wxtmf      1/1     Running     0          6m\nmy-release-milvus-indexnode-5b9787b54-xclbx     1/1     Running     0          6m\nmy-release-milvus-proxy-84f67cdb7f-pg6wf        1/1     Running     0          6m\nmy-release-milvus-querynode-5bcb59f6-nhqqw      1/1     Running     0          6m\nmy-release-milvus-mixcoord-fdcccfc84-9964g      1/1     Running     0          6m\nmy-release-minio-0                              1/1     Running     0          14m\nmy-release-minio-1                              1/1     Running     0          14m\nmy-release-minio-2                              1/1     Running     0          14m\nmy-release-minio-3                              1/1     Running     0          14m\nmy-release-pulsar-bookie-0                      1/1     Running     0          14m\nmy-release-pulsar-bookie-1                      1/1     Running     0          14m\nmy-release-pulsar-bookie-init-h6tfz             0/1     Completed   0          14m\nmy-release-pulsar-broker-0                      1/1     Running     0          14m\nmy-release-pulsar-broker-1                      1/1     Running     0          14m\nmy-release-pulsar-proxy-0                       1/1     Running     0          14m\nmy-release-pulsar-proxy-1                       1/1     Running     0          14m\nmy-release-pulsar-pulsar-init-d2t56             0/1     Completed   0          14m\nmy-release-pulsar-recovery-0                    1/1     Running     0          14m\nmy-release-pulsar-toolset-0                     1/1     Running     0          14m\nmy-release-pulsar-zookeeper-0                   1/1     Running     0          14m\nmy-release-pulsar-zookeeper-1                   1/1     Running     0          13m\nmy-release-pulsar-zookeeper-2                   1/1     Running     0          13m\n","$ kubectl get pod my-release-milvus-proxy-84f67cdb7f-pg6wf --template\n='{{(index (index .spec.containers 0).ports 0).containerPort}}{{\"\\n\"}}'\n19530\n","$ kubectl port-forward service/my-release-milvus 27017:19530\nForwarding from 127.0.0.1:27017 -> 19530\n","$ kubectl port-forward --address 0.0.0.0 service/my-release-milvus 27017:19530\nForwarding from 0.0.0.0:27017 -> 19530\n","$ kubectl delete milvus my-release\n","$ helm -n milvus-operator uninstall milvus-operator\n","$ kubectl delete -f https://raw.githubusercontent.com/zilliztech/milvus-operator/v1.0.1/deploy/manifests/deployment.yaml\n"],"headingContent":"Run Milvus in Kubernetes with Milvus Operator","anchorList":[{"label":"使用 Milvus Operator 在 Kubernetes 中运行 Milvus","href":"Run-Milvus-in-Kubernetes-with-Milvus-Operator","type":1,"isActive":false},{"label":"概述","href":"Overview","type":2,"isActive":false},{"label":"前提条件","href":"Prerequisites","type":2,"isActive":false},{"label":"安装 Milvus 操作符","href":"Install-Milvus-Operator","type":2,"isActive":false},{"label":"部署 Milvus","href":"Deploy-Milvus","type":2,"isActive":false},{"label":"卸载 Milvus","href":"Uninstall-Milvus","type":2,"isActive":false},{"label":"卸载 Milvus 操作符","href":"Uninstall-Milvus-Operator","type":2,"isActive":false},{"label":"下一步","href":"Whats-next","type":2,"isActive":false}]}