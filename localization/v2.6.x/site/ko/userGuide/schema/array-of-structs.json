{"codeList":["{\n    'id': 0,\n    'title': 'Walden',\n    'title_vector': [0.1, 0.2, 0.3, 0.4, 0.5],\n    'author': 'Henry David Thoreau',\n    'year_of_publication': 1845,\n    // highlight-start\n    'chunks': [\n        {\n            'text': 'When I wrote the following pages, or rather the bulk of them...',\n            'text_vector': [0.3, 0.2, 0.3, 0.2, 0.5],\n            'chapter': 'Economy',\n        },\n        {\n            'text': 'I would fain say something, not so much concerning the Chinese and...',\n            'text_vector': [0.7, 0.4, 0.2, 0.7, 0.8],\n            'chapter': 'Economy'\n        }\n    ]\n    // hightlight-end\n}\n","from pymilvus import MilvusClient, DataType\n\nclient = MilvusClient(\n    uri=\"http://localhost:19530\",\n    token=\"root:Milvus\"\n)\n\nschema = client.create_schema()\n\n# add the primary field to the collection\nschema.add_field(field_name=\"id\", datatype=DataType.INT64, is_primary=True, auto_id=True)\n\n# add some scalar fields to the collection\nschema.add_field(field_name=\"title\", datatype=DataType.VARCHAR, max_length=512)\nschema.add_field(field_name=\"author\", datatype=DataType.VARCHAR, max_length=512)\nschema.add_field(field_name=\"year_of_publication\", datatype=DataType.INT64)\n\n# add a vector field to the collection\nschema.add_field(field_name=\"title_vector\", datatype=DataType.FLOAT_VECTOR, dim=5)\n\n# highlight-start\n# Create a struct schema\nstruct_schema = client.create_struct_field_schema()\n\n# add a scalar field to the struct\nstruct_schema.add_field(\"text\", DataType.VARCHAR, max_length=65535)\nstruct_schema.add_field(\"chapter\", DataType.VARCHAR, max_length=512)\n\n# add a vector field to the struct with mmap enabled\nstruct_schema.add_field(\"text_vector\", DataType.FLOAT_VECTOR, mmap_enabled=True, dim=5)\n\n# reference the struct schema in an Array field with its \n# element type set to `DataType.STRUCT`\nschema.add_field(\"chunks\", datatype=DataType.ARRAY, element_type=DataType.STRUCT, \n                    struct_schema=struct_schema, max_capacity=1000)\n# highlight-end\n","import io.milvus.v2.common.DataType;\nimport io.milvus.v2.service.collection.request.AddFieldReq;\nimport io.milvus.v2.service.collection.request.CreateCollectionReq;\n\nCreateCollectionReq.CollectionSchema collectionSchema = CreateCollectionReq.CollectionSchema.builder()\n        .build();\ncollectionSchema.addField(AddFieldReq.builder()\n        .fieldName(\"id\")\n        .dataType(DataType.Int64)\n        .isPrimaryKey(true)\n        .autoID(true)\n        .build());\ncollectionSchema.addField(AddFieldReq.builder()\n        .fieldName(\"title\")\n        .dataType(DataType.VarChar)\n        .maxLength(512)\n        .build());\ncollectionSchema.addField(AddFieldReq.builder()\n        .fieldName(\"author\")\n        .dataType(DataType.VarChar)\n        .maxLength(512)\n        .build());\ncollectionSchema.addField(AddFieldReq.builder()\n        .fieldName(\"year_of_publication\")\n        .dataType(DataType.Int64)\n        .build());\ncollectionSchema.addField(AddFieldReq.builder()\n        .fieldName(\"title_vector\")\n        .dataType(DataType.FloatVector)\n        .dimension(5)\n        .build());\n\nMap<String, String> params = new HashMap<>();\nparams.put(\"mmap_enabled\", \"true\");\ncollectionSchema.addField(AddFieldReq.builder()\n        .fieldName(\"chunks\")\n        .dataType(DataType.Array)\n        .elementType(DataType.Struct)\n        .maxCapacity(1000)\n        .addStructField(AddFieldReq.builder()\n                .fieldName(\"text\")\n                .dataType(DataType.VarChar)\n                .maxLength(65535)\n                .build())\n        .addStructField(AddFieldReq.builder()\n                .fieldName(\"chapter\")\n                .dataType(DataType.VarChar)\n                .maxLength(512)\n                .build())\n        .addStructField(AddFieldReq.builder()\n                .fieldName(\"text_vector\")\n                .dataType(DataType.FloatVector)\n                .dimension(VECTOR_DIM)\n                .typeParams(params)\n                .build())\n        .build());\n","// go\n","import { MilvusClient, DataType } from \"@zilliz/milvus2-sdk-node\";\n\nconst milvusClient = new MilvusClient(\"http://localhost:19530\");\n\nconst schema = [\n  {\n    name: \"id\",\n    data_type: DataType.INT64,\n    is_primary_key: true,\n    auto_id: true,\n  },\n  {\n    name: \"title\",\n    data_type: DataType.VARCHAR,\n    max_length: 512,\n  },\n  {\n    name: \"author\",\n    data_type: DataType.VARCHAR,\n    max_length: 512,\n  },\n  {\n    name: \"year_of_publication\",\n    data_type: DataType.INT64,\n  },\n  {\n    name: \"title_vector\",\n    data_type: DataType.FLOAT_VECTOR,\n    dim: 5,\n  },\n  // highlight-start\n  {\n    name: \"chunks\",\n    data_type: DataType.ARRAY,\n    element_type: DataType.STRUCT,\n    fields: [\n      {\n        name: \"text\",\n        data_type: DataType.VARCHAR,\n        max_length: 65535,\n      },\n      {\n        name: \"chapter\",\n        data_type: DataType.VARCHAR,\n        max_length: 512,\n      },\n      {\n        name: \"text_vector\",\n        data_type: DataType.FLOAT_VECTOR,\n        dim: 5,\n        mmap_enabled: true,\n      },\n    ],\n    max_capacity: 1000,\n  },\n  // highlight-end\n];\n","# restful\nSCHEMA='{\n  \"autoID\": true,\n  \"fields\": [\n    {\n      \"fieldName\": \"id\",\n      \"dataType\": \"Int64\",\n      \"isPrimary\": true\n    },\n    {\n      \"fieldName\": \"title\",\n      \"dataType\": \"VarChar\",\n      \"elementTypeParams\": { \"max_length\": \"512\" }\n    },\n    {\n      \"fieldName\": \"author\",\n      \"dataType\": \"VarChar\",\n      \"elementTypeParams\": { \"max_length\": \"512\" }\n    },\n    {\n      \"fieldName\": \"year_of_publication\",\n      \"dataType\": \"Int64\"\n    },\n    {\n      \"fieldName\": \"title_vector\",\n      \"dataType\": \"FloatVector\",\n      \"elementTypeParams\": { \"dim\": \"5\" }\n    }\n  ],\n  \"structArrayFields\": [\n    {\n      \"name\": \"chunks\",\n      \"description\": \"Array of document chunks with text and vectors\",\n      \"elementTypeParams\":{\n         \"max_capacity\": 1000\n      },\n      \"fields\": [\n        {\n          \"fieldName\": \"text\",\n          \"dataType\": \"VarChar\",\n          \"elementTypeParams\": { \"max_length\": \"65535\" }\n        },\n        {\n          \"fieldName\": \"chapter\",\n          \"dataType\": \"VarChar\",\n          \"elementTypeParams\": { \"max_length\": \"512\" }\n        },\n        {\n          \"fieldName\": \"text_vector\",\n          \"dataType\": \"FloatVector\",\n          \"elementTypeParams\": {\n            \"dim\": \"5\",\n            \"mmap_enabled\": \"true\"\n          }\n        }\n      ]\n    }\n  ]\n}'\n","# Create index parameters\nindex_params = client.prepare_index_params()\n\n# Create an index for the vector field in the collection\nindex_params.add_index(\n    field_name=\"title_vector\",\n    index_type=\"AUTOINDEX\",\n    metric_type=\"L2\",\n)\n\n# highlight-start\n# Create an index for the vector field in the element Struct\nindex_params.add_index(\n    field_name=\"chunks[text_vector]\",\n    index_type=\"AUTOINDEX\",\n    metric_type=\"MAX_SIM_COSINE\",\n)\n# highlight-end\n","import io.milvus.v2.common.IndexParam;\n\nList<IndexParam> indexParams = new ArrayList<>();\nindexParams.add(IndexParam.builder()\n        .fieldName(\"title_vector\")\n        .indexType(IndexParam.IndexType.AUTOINDEX)\n        .metricType(IndexParam.MetricType.L2)\n        .build());\nindexParams.add(IndexParam.builder()\n        .fieldName(\"chunks[text_vector]\")\n        .indexType(IndexParam.IndexType.AUTOINDEX)\n        .metricType(IndexParam.MetricType.MAX_SIM_COSINE)\n        .build());\n","// go\n","await milvusClient.createCollection({\n  collection_name: \"books\",\n  fields: schema,\n});\n\nconst indexParams = [\n  {\n    field_name: \"title_vector\",\n    index_type: \"AUTOINDEX\",\n    metric_type: \"L2\",\n  },\n  // highlight-start\n  {\n    field_name: \"chunks[text_vector]\",\n    index_type: \"AUTOINDEX\",\n    metric_type: \"MAX_SIM_COSINE\",\n  },\n  // highlight-end\n];\n","# restful\nINDEX_PARAMS='[\n  {\n    \"fieldName\": \"title_vector\",\n    \"indexName\": \"title_vector_index\",\n    \"indexType\": \"AUTOINDEX\",\n    \"metricType\": \"L2\"\n  },\n  {\n    \"fieldName\": \"chunks[text_vector]\",\n    \"indexName\": \"chunks_text_vector_index\",\n    \"indexType\": \"AUTOINDEX\",\n    \"metricType\": \"MAX_SIM_COSINE\"\n  }\n]'\n","client.create_collection(\n    collection_name=\"my_collection\",\n    schema=schema,\n    index_params=index_params\n)\n","import io.milvus.v2.client.ConnectConfig;\nimport io.milvus.v2.client.MilvusClientV2;\nimport io.milvus.v2.service.collection.request.CreateCollectionReq;\n\nMilvusClientV2 client = new MilvusClientV2(ConnectConfig.builder()\n        .uri(\"http://localhost:19530\")\n        .token(\"root:Milvus\")\n        .build());\n\nCreateCollectionReq requestCreate = CreateCollectionReq.builder()\n        .collectionName(\"my_collection\")\n        .collectionSchema(collectionSchema)\n        .indexParams(indexParams)\n        .build();\nclient.createCollection(requestCreate);\n","// go\n","await milvusClient.createCollection({\n  collection_name: \"books\",\n  fields: schema,\n  indexes: indexParams,\n});\n","# restful\ncurl -X POST \"http://localhost:19530/v2/vectordb/collections/create\" \\\n  -H \"Content-Type: application/json\" \\\n  -d \"{\n    \\\"collectionName\\\": \\\"my_collection\\\",\n    \\\"description\\\": \\\"A collection for storing book information with struct array chunks\\\",\n    \\\"schema\\\": $SCHEMA,\n    \\\"indexParams\\\": $INDEX_PARAMS\n  }\"\n","# Sample data\ndata = {\n    'title': 'Walden',\n    'title_vector': [0.1, 0.2, 0.3, 0.4, 0.5],\n    'author': 'Henry David Thoreau',\n    'year_of_publication': 1845,\n    'chunks': [\n        {\n            'text': 'When I wrote the following pages, or rather the bulk of them...',\n            'text_vector': [0.3, 0.2, 0.3, 0.2, 0.5],\n            'chapter': 'Economy',\n        },\n        {\n            'text': 'I would fain say something, not so much concerning the Chinese and...',\n            'text_vector': [0.7, 0.4, 0.2, 0.7, 0.8],\n            'chapter': 'Economy'\n        }\n    ]\n}\n\n# insert data\nclient.insert(\n    collection_name=\"my_collection\",\n    data=[data]\n)\n","import com.google.gson.Gson;\nimport com.google.gson.JsonArray;\nimport com.google.gson.JsonObject;\n\nimport io.milvus.v2.service.vector.request.InsertReq;\nimport io.milvus.v2.service.vector.response.InsertResp;\n\nGson gson = new Gson();\nJsonObject row = new JsonObject();\nrow.addProperty(\"title\", \"Walden\");\nrow.add(\"title_vector\", gson.toJsonTree(Arrays.asList(0.1f, 0.2f, 0.3f, 0.4f, 0.5f)));\nrow.addProperty(\"author\", \"Henry David Thoreau\");\nrow.addProperty(\"year_of_publication\", 1845);\n\nJsonArray structArr = new JsonArray();\nJsonObject struct1 = new JsonObject();\nstruct1.addProperty(\"text\", \"When I wrote the following pages, or rather the bulk of them...\");\nstruct1.add(\"text_vector\", gson.toJsonTree(Arrays.asList(0.3f, 0.2f, 0.3f, 0.2f, 0.5f)));\nstruct1.addProperty(\"chapter\", \"Economy\");\nstructArr.add(struct1);\nJsonObject struct2 = new JsonObject();\nstruct2.addProperty(\"text\", \"I would fain say something, not so much concerning the Chinese and...\");\nstruct2.add(\"text_vector\", gson.toJsonTree(Arrays.asList(0.7f, 0.4f, 0.2f, 0.7f, 0.8f)));\nstruct2.addProperty(\"chapter\", \"Economy\");\nstructArr.add(struct2);\n\nrow.add(\"chunks\", structArr);\n\nInsertResp insertResp = client.insert(InsertReq.builder()\n        .collectionName(\"my_collection\")\n        .data(Collections.singletonList(row))\n        .build());\n","// go\n","  {\n    id: 0,\n    title: \"Walden\",\n    title_vector: [0.1, 0.2, 0.3, 0.4, 0.5],\n    author: \"Henry David Thoreau\",\n    \"year-of-publication\": 1845,\n    chunks: [\n      {\n        text: \"When I wrote the following pages, or rather the bulk of them...\",\n        text_vector: [0.3, 0.2, 0.3, 0.2, 0.5],\n        chapter: \"Economy\",\n      },\n      {\n        text: \"I would fain say something, not so much concerning the Chinese and...\",\n        text_vector: [0.7, 0.4, 0.2, 0.7, 0.8],\n        chapter: \"Economy\",\n      },\n    ],\n  },\n];\n\nawait milvusClient.insert({\n  collection_name: \"books\",\n  data: data,\n});\n","# restful\ncurl -X POST \"http://localhost:19530/v2/vectordb/entities/insert\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"collectionName\": \"my_collection\",\n    \"data\": [\n      {\n        \"title\": \"Walden\",\n        \"title_vector\": [0.1, 0.2, 0.3, 0.4, 0.5],\n        \"author\": \"Henry David Thoreau\",\n        \"year_of_publication\": 1845,\n        \"chunks\": [\n          {\n            \"text\": \"When I wrote the following pages, or rather the bulk of them...\",\n            \"text_vector\": [0.3, 0.2, 0.3, 0.2, 0.5],\n            \"chapter\": \"Economy\"\n          },\n          {\n            \"text\": \"I would fain say something, not so much concerning the Chinese and...\",\n            \"text_vector\": [0.7, 0.4, 0.2, 0.7, 0.8],\n            \"chapter\": \"Economy\"\n          }\n        ]\n      }\n    ]\n  }'\n","import json\nimport random\nfrom typing import List, Dict, Any\n\n# Real classic books (title, author, year)\nBOOKS = [\n    (\"Pride and Prejudice\", \"Jane Austen\", 1813),\n    (\"Moby Dick\", \"Herman Melville\", 1851),\n    (\"Frankenstein\", \"Mary Shelley\", 1818),\n    (\"The Picture of Dorian Gray\", \"Oscar Wilde\", 1890),\n    (\"Dracula\", \"Bram Stoker\", 1897),\n    (\"The Adventures of Sherlock Holmes\", \"Arthur Conan Doyle\", 1892),\n    (\"Alice's Adventures in Wonderland\", \"Lewis Carroll\", 1865),\n    (\"The Time Machine\", \"H.G. Wells\", 1895),\n    (\"The Scarlet Letter\", \"Nathaniel Hawthorne\", 1850),\n    (\"Leaves of Grass\", \"Walt Whitman\", 1855),\n    (\"The Brothers Karamazov\", \"Fyodor Dostoevsky\", 1880),\n    (\"Crime and Punishment\", \"Fyodor Dostoevsky\", 1866),\n    (\"Anna Karenina\", \"Leo Tolstoy\", 1877),\n    (\"War and Peace\", \"Leo Tolstoy\", 1869),\n    (\"Great Expectations\", \"Charles Dickens\", 1861),\n    (\"Oliver Twist\", \"Charles Dickens\", 1837),\n    (\"Wuthering Heights\", \"Emily Brontë\", 1847),\n    (\"Jane Eyre\", \"Charlotte Brontë\", 1847),\n    (\"The Call of the Wild\", \"Jack London\", 1903),\n    (\"The Jungle Book\", \"Rudyard Kipling\", 1894),\n]\n\n# Common chapter names for classics\nCHAPTERS = [\n    \"Introduction\", \"Prologue\", \"Chapter I\", \"Chapter II\", \"Chapter III\",\n    \"Chapter IV\", \"Chapter V\", \"Chapter VI\", \"Chapter VII\", \"Chapter VIII\",\n    \"Chapter IX\", \"Chapter X\", \"Epilogue\", \"Conclusion\", \"Afterword\",\n    \"Economy\", \"Where I Lived\", \"Reading\", \"Sounds\", \"Solitude\",\n    \"Visitors\", \"The Bean-Field\", \"The Village\", \"The Ponds\", \"Baker Farm\"\n]\n\n# Placeholder text snippets (mimicking 19th-century prose)\nTEXT_SNIPPETS = [\n    \"When I wrote the following pages, or rather the bulk of them...\",\n    \"I would fain say something, not so much concerning the Chinese and...\",\n    \"It is a truth universally acknowledged, that a single man in possession...\",\n    \"Call me Ishmael. Some years ago—never mind how long precisely...\",\n    \"It was the best of times, it was the worst of times...\",\n    \"All happy families are alike; each unhappy family is unhappy in its own way.\",\n    \"Whether I shall turn out to be the hero of my own life, or whether that station...\",\n    \"You will rejoice to hear that no disaster has accompanied the commencement...\",\n    \"The world is too much with us; late and soon, getting and spending...\",\n    \"He was an old man who fished alone in a skiff in the Gulf Stream...\"\n]\n\ndef random_vector() -> List[float]:\n    return [round(random.random(), 1) for _ in range(5)]\n\ndef generate_chunk() -> Dict[str, Any]:\n    return {\n        \"text\": random.choice(TEXT_SNIPPETS),\n        \"text_vector\": random_vector(),\n        \"chapter\": random.choice(CHAPTERS)\n    }\n\ndef generate_record(record_id: int) -> Dict[str, Any]:\n    title, author, year = random.choice(BOOKS)\n    num_chunks = random.randint(1, 5)  # 1 to 5 chunks per book\n    chunks = [generate_chunk() for _ in range(num_chunks)]\n    return {\n        \"title\": title,\n        \"title_vector\": random_vector(),\n        \"author\": author,\n        \"year_of_publication\": year,\n        \"chunks\": chunks\n    }\n\n# Generate 1000 records\ndata = [generate_record(i) for i in range(1000)]\n\n# Insert the generated data\nclient.insert(collection_name=\"my_collection\", data=data)\n","from pymilvus.client.embedding_list import EmbeddingList\n\n# each query embedding list triggers a single search\nembeddingList1 = EmbeddingList()\nembeddingList1.add([0.2, 0.9, 0.4, -0.3, 0.2])\n\nembeddingList2 = EmbeddingList()\nembeddingList2.add([-0.2, -0.2, 0.5, 0.6, 0.9])\nembeddingList2.add([-0.4, 0.3, 0.5, 0.8, 0.2])\n\n# a search with a single embedding list\nresults = client.search(\n    collection_name=\"my_collection\",\n    data=[ embeddingList1 ],\n    anns_field=\"chunks[text_vector]\",\n    search_params={\"metric_type\": \"MAX_SIM_COSINE\"},\n    limit=3,\n    output_fields=[\"chunks[text]\"]\n)\n","import io.milvus.v2.service.vector.request.data.EmbeddingList;\nimport io.milvus.v2.service.vector.request.data.FloatVec;\n\nEmbeddingList embeddingList1 = new EmbeddingList();\nembeddingList1.add(new FloatVec(new float[]{0.2f, 0.9f, 0.4f, -0.3f, 0.2f}));\n\nEmbeddingList embeddingList2 = new EmbeddingList();\nembeddingList2.add(new FloatVec(new float[]{-0.2f, -0.2f, 0.5f, 0.6f, 0.9f}));\nembeddingList2.add(new FloatVec(new float[]{-0.4f, 0.3f, 0.5f, 0.8f, 0.2f}));\n\nMap<String, Object> params = new HashMap<>();\nparams.put(\"metric_type\", \"MAX_SIM_COSINE\");\nSearchResp searchResp = client.search(SearchReq.builder()\n        .collectionName(\"my_collection\")\n        .annsField(\"chunks[text_vector]\")\n        .data(Collections.singletonList(embeddingList1))\n        .searchParams(params)\n        .limit(3)\n        .outputFields(Collections.singletonList(\"chunks[text]\"))\n        .build());\n","// go\n","const embeddingList1 = [[0.2, 0.9, 0.4, -0.3, 0.2]];\nconst embeddingList2 = [\n  [-0.2, -0.2, 0.5, 0.6, 0.9],\n  [-0.4, 0.3, 0.5, 0.8, 0.2],\n];\nconst results = await milvusClient.search({\n  collection_name: \"books\",\n  data: embeddingList1,\n  anns_field: \"chunks[text_vector]\",\n  search_params: { metric_type: \"MAX_SIM_COSINE\" },\n  limit: 3,\n  output_fields: [\"chunks[text]\"],\n});\n\n","# restful\nembeddingList1='[[0.2,0.9,0.4,-0.3,0.2]]'\nembeddingList2='[[-0.2,-0.2,0.5,0.6,0.9],[-0.4,0.3,0.5,0.8,0.2]]'\ncurl -X POST \"http://localhost:19530/v2/vectordb/entities/search\" \\\n  -H \"Content-Type: application/json\" \\\n  -d \"{\n    \\\"collectionName\\\": \\\"my_collection\\\",\n    \\\"data\\\": [$embeddingList1],\n    \\\"annsField\\\": \\\"chunks[text_vector]\\\",\n    \\\"searchParams\\\": {\\\"metric_type\\\": \\\"MAX_SIM_COSINE\\\"},\n    \\\"limit\\\": 3,\n    \\\"outputFields\\\": [\\\"chunks[text]\\\"]\n  }\"\n","# [\n#     [\n#         {\n#             'id': 461417939772144945,\n#             'distance': 0.9675756096839905,\n#             'entity': {\n#                 'chunks': [\n#                     {'text': 'The world is too much with us; late and soon, getting and spending...'},\n#                     {'text': 'All happy families are alike; each unhappy family is unhappy in its own way.'}\n#                 ]\n#             }\n#         },\n#         {\n#             'id': 461417939772144965,\n#             'distance': 0.9555778503417969,\n#             'entity': {\n#                 'chunks': [\n#                     {'text': 'Call me Ishmael. Some years ago—never mind how long precisely...'},\n#                     {'text': 'He was an old man who fished alone in a skiff in the Gulf Stream...'},\n#                     {'text': 'When I wrote the following pages, or rather the bulk of them...'},\n#                     {'text': 'It was the best of times, it was the worst of times...'},\n#                     {'text': 'The world is too much with us; late and soon, getting and spending...'}\n#                 ]\n#             }\n#         },\n#         {\n#             'id': 461417939772144962,\n#             'distance': 0.9469035863876343,\n#             'entity': {\n#                 'chunks': [\n#                     {'text': 'Call me Ishmael. Some years ago—never mind how long precisely...'},\n#                     {'text': 'The world is too much with us; late and soon, getting and spending...'},\n#                     {'text': 'He was an old man who fished alone in a skiff in the Gulf Stream...'},\n#                     {'text': 'Call me Ishmael. Some years ago—never mind how long precisely...'},\n#                     {'text': 'The world is too much with us; late and soon, getting and spending...'}\n#                 ]\n#             }\n#         }\n#     ]\n# ]\n","# a search with multiple embedding lists\nresults = client.search(\n    collection_name=\"my_collection\",\n    data=[ embeddingList1, embeddingList2 ],\n    anns_field=\"chunks[text_vector]\",\n    search_params={\"metric_type\": \"MAX_SIM_COSINE\"},\n    limit=3,\n    output_fields=[\"chunks[text]\"]\n)\n\nprint(results)\n","Map<String, Object> params = new HashMap<>();\nparams.put(\"metric_type\", \"MAX_SIM_COSINE\");\nSearchResp searchResp = client.search(SearchReq.builder()\n        .collectionName(\"my_collection\")\n        .annsField(\"chunks[text_vector]\")\n        .data(Arrays.asList(embeddingList1, embeddingList2))\n        .searchParams(params)\n        .limit(3)\n        .outputFields(Collections.singletonList(\"chunks[text]\"))\n        .build());\n        \nList<List<SearchResp.SearchResult>> searchResults = searchResp.getSearchResults();\nfor (int i = 0; i < searchResults.size(); i++) {\n    System.out.println(\"Results of No.\" + i + \" embedding list\");\n    List<SearchResp.SearchResult> results = searchResults.get(i);\n    for (SearchResp.SearchResult result : results) {\n        System.out.println(result);\n    }\n}\n","// go\n","const results2 = await milvusClient.search({\n  collection_name: \"books\",\n  data: [embeddingList1, embeddingList2],\n  anns_field: \"chunks[text_vector]\",\n  search_params: { metric_type: \"MAX_SIM_COSINE\" },\n  limit: 3,\n  output_fields: [\"chunks[text]\"],\n});\n","# restful\ncurl -X POST \"http://localhost:19530/v2/vectordb/entities/search\" \\\n  -H \"Content-Type: application/json\" \\\n  -d \"{\n    \\\"collectionName\\\": \\\"my_collection\\\",\n    \\\"data\\\": [$embeddingList1, $embeddingList2],\n    \\\"annsField\\\": \\\"chunks[text_vector]\\\",\n    \\\"searchParams\\\": {\\\"metric_type\\\": \\\"MAX_SIM_COSINE\\\"},\n    \\\"limit\\\": 3,\n    \\\"outputFields\\\": [\\\"chunks[text]\\\"]\n  }\"\n","# [\n#   [\n#     {\n#       'id': 461417939772144945,\n#       'distance': 0.9675756096839905,\n#       'entity': {\n#         'chunks': [\n#           {'text': 'The world is too much with us; late and soon, getting and spending...'},\n#           {'text': 'All happy families are alike; each unhappy family is unhappy in its own way.'}\n#         ]\n#       }\n#     },\n#     {\n#       'id': 461417939772144965,\n#       'distance': 0.9555778503417969,\n#       'entity': {\n#         'chunks': [\n#           {'text': 'Call me Ishmael. Some years ago—never mind how long precisely...'},\n#           {'text': 'He was an old man who fished alone in a skiff in the Gulf Stream...'},\n#           {'text': 'When I wrote the following pages, or rather the bulk of them...'},\n#           {'text': 'It was the best of times, it was the worst of times...'},\n#           {'text': 'The world is too much with us; late and soon, getting and spending...'}\n#         ]\n#       }\n#     },\n#     {\n#       'id': 461417939772144962,\n#       'distance': 0.9469035863876343,\n#       'entity': {\n#         'chunks': [\n#           {'text': 'Call me Ishmael. Some years ago—never mind how long precisely...'},\n#           {'text': 'The world is too much with us; late and soon, getting and spending...'},\n#           {'text': 'He was an old man who fished alone in a skiff in the Gulf Stream...'},\n#           {'text': 'Call me Ishmael. Some years ago—never mind how long precisely...'},\n#           {'text': 'The world is too much with us; late and soon, getting and spending...'}\n#         ]\n#       }\n#     }\n#   ],\n#   [\n#     {\n#       'id': 461417939772144663,\n#       'distance': 1.9761409759521484,\n#       'entity': {\n#         'chunks': [\n#           {'text': 'It was the best of times, it was the worst of times...'},\n#           {'text': 'It is a truth universally acknowledged, that a single man in possession...'},\n#           {'text': 'Whether I shall turn out to be the hero of my own life, or whether that station...'},\n#           {'text': 'He was an old man who fished alone in a skiff in the Gulf Stream...'}\n#         ]\n#       }\n#     },\n#     {\n#       'id': 461417939772144692,\n#       'distance': 1.974656581878662,\n#       'entity': {\n#         'chunks': [\n#           {'text': 'It is a truth universally acknowledged, that a single man in possession...'},\n#           {'text': 'Call me Ishmael. Some years ago—never mind how long precisely...'}\n#         ]\n#       }\n#     },\n#     {\n#       'id': 461417939772144662,\n#       'distance': 1.9406685829162598,\n#       'entity': {\n#         'chunks': [\n#           {'text': 'It is a truth universally acknowledged, that a single man in possession...'}\n#         ]\n#       }\n#     }\n#   ]\n# ]\n"],"headingContent":"Array of Structs","anchorList":[{"label":"구조체 배열Compatible with Milvus 2.6.4+","href":"Array-of-Structs","type":1,"isActive":false},{"label":"제한","href":"Limits","type":2,"isActive":false},{"label":"구조체 배열 추가","href":"Add-Array-of-Structs","type":2,"isActive":false},{"label":"인덱스 매개변수 설정","href":"Set-index-params","type":2,"isActive":false},{"label":"컬렉션 만들기","href":"Create-a-collection","type":2,"isActive":false},{"label":"데이터 삽입","href":"Insert-data","type":2,"isActive":false},{"label":"구조체 배열 필드에 대한 벡터 검색","href":"Vector-search-against-an-Array-of-Structs-field","type":2,"isActive":false},{"label":"다음 단계","href":"Next-steps","type":2,"isActive":false}]}