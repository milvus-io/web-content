{"codeList":["from pymilvus import Function, FunctionType\nimport time\n\n# Calculate current time\ncurrent_time = int(time.time())\n\n# Create a linear decay ranker for event listings\n# Note: All time parameters must use the same unit as your collection data\nranker = Function(\n    name=\"event_relevance\",               # Function identifier\n    input_field_names=[\"event_date\"],     # Numeric field to use\n    function_type=FunctionType.RERANK,    # Function type. Must be RERANK\n    params={\n        \"reranker\": \"decay\",              # Specify decay reranker\n        \"function\": \"linear\",             # Choose linear decay\n        \"origin\": current_time,           # Current time (seconds, matching collection data)\n        \"offset\": 12 * 60 * 60,           # 12 hour immediate events window (seconds)\n        \"decay\": 0.5,                     # Half score at scale distance\n        \"scale\": 7 * 24 * 60 * 60         # 7 days (in seconds, matching collection data)\n    }\n)\n","import io.milvus.common.clientenum.FunctionType;\nimport io.milvus.v2.service.collection.request.CreateCollectionReq;\n\nCreateCollectionReq.Function ranker = CreateCollectionReq.Function.builder()\n                       .functionType(FunctionType.RERANK)\n                       .name(\"event_relevance\")\n                       .inputFieldNames(Collections.singletonList(\"event_date\"))\n                       .param(\"reranker\", \"decay\")\n                       .param(\"function\", \"linear\")\n                       .param(\"origin\", String.valueOf(System.currentTimeMillis()/1000))\n                       .param(\"offset\", String.valueOf(12 * 60 * 60))\n                       .param(\"decay\", \"0.5\")\n                       .param(\"scale\", String.valueOf(7 * 24 * 60 * 60))\n                       .build();\n","import { FunctionType } from \"@zilliz/milvus2-sdk-node\";\n\nconst ranker = {\n  name: \"event_relevance\",\n  input_field_names: [\"event_date\"],\n  type: FunctionType.RERANK,\n  params: {\n    reranker: \"decay\",\n    function: \"linear\",\n    origin: new Date(2025, 1, 15).getTime(),\n    offset: 12 * 60 * 60,\n    decay: 0.5,\n    scale: 7 * 24 * 60 * 60,\n  },\n};\n","// go\n","# restful\n","# Apply decay ranker to vector search\nresult = milvus_client.search(\n    collection_name,\n    data=[your_query_vector],              # Replace with your query vector\n    anns_field=\"dense\",                   # Vector field to search\n    limit=10,                             # Number of results\n    output_fields=[\"title\", \"venue\", \"event_date\"], # Fields to return\n    #  highlight-next-line\n    ranker=ranker,                        # Apply the decay ranker\n    consistency_level=\"Strong\"\n)\n","import io.milvus.v2.common.ConsistencyLevel;\nimport io.milvus.v2.service.vector.request.SearchReq;\nimport io.milvus.v2.service.vector.response.SearchResp;\nimport io.milvus.v2.service.vector.request.data.FloatVec;\n\nSearchReq searchReq = SearchReq.builder()\n        .collectionName(COLLECTION_NAME)\n        .data(Collections.singletonList(new FloatVec(embedding)))\n        .annsField(\"dense\")\n        .limit(10)\n        .outputFields(Arrays.asList(\"title\", \"venue\", \"event_date\"))\n        .functionScore(FunctionScore.builder()\n                .addFunction(ranker)\n                .build())\n        .consistencyLevel(ConsistencyLevel.STRONG)\n        .build();\nSearchResp searchResp = client.search(searchReq);\n","const result = await milvusClient.search({\n  collection_name: \"collection_name\",\n  data: [your_query_vector], // Replace with your query vector\n  anns_field: \"dense\",\n  limit: 10,\n  output_fields: [\"title\", \"venue\", \"event_date\"],\n  rerank: ranker,\n  consistency_level: \"Strong\",\n});\n\n","// go\n","# restful\n","from pymilvus import AnnSearchRequest\n\n# Define dense vector search request\ndense = AnnSearchRequest(\n    data=[your_query_vector_1], # Replace with your query vector\n    anns_field=\"dense_vector\",\n    param={},\n    limit=10\n)\n\n# Define sparse vector search request\nsparse = AnnSearchRequest(\n    data=[your_query_vector_2], # Replace with your query vector\n    anns_field=\"sparse_vector\",\n    param={},\n    limit=10\n)\n\n# Apply decay ranker to hybrid search\nhybrid_results = milvus_client.hybrid_search(\n    collection_name,\n    [dense, sparse],                      # Multiple search requests\n    #  highlight-next-line\n    ranker=ranker,                        # Same decay ranker\n    limit=10,\n    output_fields=[\"title\", \"venue\", \"event_date\"]\n)\n","import io.milvus.v2.service.vector.request.AnnSearchReq;\nimport io.milvus.v2.service.vector.request.HybridSearchReq;\nimport io.milvus.v2.service.vector.request.data.EmbeddedText;\nimport io.milvus.v2.service.vector.request.data.FloatVec;\n        \nList<AnnSearchReq> searchRequests = new ArrayList<>();\nsearchRequests.add(AnnSearchReq.builder()\n        .vectorFieldName(\"dense_vector\")\n        .vectors(Collections.singletonList(new FloatVec(embedding)))\n        .limit(10)\n        .build());\nsearchRequests.add(AnnSearchReq.builder()\n        .vectorFieldName(\"sparse_vector\")\n        .vectors(Collections.singletonList(new EmbeddedText(\"music concerts\")))\n        .limit(10)\n        .build());\n\nHybridSearchReq hybridSearchReq = HybridSearchReq.builder()\n                .collectionName(COLLECTION_NAME)\n                .searchRequests(searchRequests)\n                .ranker(ranker)\n                .limit(10)\n                .outputFields(Arrays.asList(\"title\", \"venue\", \"event_date\"))\n                .build();\nSearchResp searchResp = client.hybridSearch(hybridSearchReq);\n","const dense = {\n    data: [your_query_vector_1], // Replace with your query vector\n    anns_field: \"dense_vector\",\n    limit: 10,\n    param: {}\n};\n\nconst sparse = {\n    data: [your_query_vector_2], // Replace with your query vector\n    anns_field: \"sparse_vector\",\n    limit: 10,\n    params: {}\n};\n\nconst hybrid = await milvusClient.search({\n    collection_name: \"collection_name\",\n    data: [dense, sparse],\n    rerank: ranker,\n    limit: 10,\n    output_fields: [\"title\", \"venue\", \"event_date\"],\n    consistency_level: \"Strong\",\n});\n","// go\n","# restful\n"],"headingContent":"Linear Decay","anchorList":[{"label":"선형 감쇠Compatible with Milvus 2.6.x","href":"Linear-Decay","type":1,"isActive":false},{"label":"선형 감쇠를 사용하는 경우","href":"When-to-use-linear-decay","type":2,"isActive":false},{"label":"꾸준한 감소 원칙","href":"Steady-decline-principle","type":2,"isActive":false},{"label":"공식","href":"Formula","type":2,"isActive":false},{"label":"선형 감쇠 사용","href":"Use-linear-decay","type":2,"isActive":false},{"label":"감쇠 랭커 생성하기","href":"Create-a-decay-ranker","type":3,"isActive":false},{"label":"표준 벡터 검색에 적용","href":"Apply-to-standard-vector-search","type":3,"isActive":false},{"label":"하이브리드 검색에 적용","href":"Apply-to-hybrid-search","type":3,"isActive":false}]}