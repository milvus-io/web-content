{"codeList":["from pymilvus import MilvusClient, Function, FunctionType\n\n# Connect to your Milvus server\nclient = MilvusClient(\n    uri=\"http://localhost:19530\"  # Replace with your Milvus server URI\n)\n\n# Create a model ranker function\nmodel_ranker = Function(\n    name=\"semantic_ranker\",  # Function identifier\n    input_field_names=[\"document\"],  # VARCHAR field to use for reranking\n    function_type=FunctionType.RERANK,  # Must be set to RERANK\n    params={\n        \"reranker\": \"model\",  # Specify model reranker. Must be \"model\"\n        \"provider\": \"tei\",  # Choose provider: \"tei\" or \"vllm\"\n        \"queries\": [\"machine learning for time series\"],  # Query text\n        \"endpoint\": \"http://model-service:8080\",  # Model service endpoint\n        # \"maxBatch\": 32  # Optional: batch size for processing\n    }\n)\n","# Use the model ranker in standard vector search\nresults = client.search(\n    collection_name,\n    data=[\"machine learning for time series\"], # Number of queries must match that specified in model_ranker.params[\"queries\"] \n    anns_field=\"vector_field\",\n    limit=10,\n    output_fields=[\"document\"],  # Include the text field in outputs\n    #  highlight-next-line\n    ranker=model_ranker,  # Apply the model ranker here\n    consistency_level=\"Strong\"\n)\n","from pymilvus import AnnSearchRequest\n\n# Define search requests for different vector fields\ndense_request = AnnSearchRequest(\n    data=[\"machine learning for time series\"],\n    anns_field=\"dense_vector\",\n    param={},\n    limit=20\n)\n\nsparse_request = AnnSearchRequest(\n    data=[\"machine learning for time series\"],\n    anns_field=\"sparse_vector\",\n    param={},\n    limit=20\n)\n\n# Apply model ranker to hybrid search\nhybrid_results = client.hybrid_search(\n    collection_name,\n    [dense_request, sparse_request],\n    #  highlight-next-line\n    ranker=model_ranker,  # Same model ranker works with hybrid search\n    limit=10,\n    output_fields=[\"document\"]\n)\n"],"headingContent":"Model Ranker Overview","anchorList":[{"label":"모델 랭커 개요Compatible with Milvus 2.6.x","href":"Model-Ranker-Overview","type":1,"isActive":false},{"label":"제한 사항","href":"Limits","type":2,"isActive":false},{"label":"작동 방식","href":"How-it-works","type":2,"isActive":false},{"label":"필요에 맞는 모델 제공업체 선택","href":"Choose-a-model-provider-for-your-needs","type":2,"isActive":false},{"label":"구현","href":"Implementation","type":2,"isActive":false}]}