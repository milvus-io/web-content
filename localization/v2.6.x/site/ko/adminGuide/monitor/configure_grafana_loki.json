{"codeList":["helm repo add grafana https://grafana.github.io/helm-charts\nhelm repo update\n","loki:\n  commonConfig:\n    replication_factor: 1\n  auth_enabled: false\n\nminio:\n  enabled: true\n","loki:\n  commonConfig:\n    replication_factor: 1\n  auth_enabled: false\n  storage:\n    bucketNames:\n      chunks: loki-chunks\n      ruler: loki-ruler\n      admin: loki-admin\n    type: 's3'\n    s3:\n      endpoint: s3.us-west-2.amazonaws.com\n      region: us-west-2\n      secretAccessKey: <accessKey>\n      accessKeyId: <keyId>\n","kubectl create ns loki\nhelm install --values loki.yaml loki grafana/loki -n loki\n","config:\n  clients:\n    - url: http://loki-gateway/loki/api/v1/push\n","helm install  --values promtail.yaml promtail grafana/promtail -n loki\n","kubectl create ns monitoring\nhelm install my-grafana grafana/grafana --namespace monitoring\n","kubectl get secret --namespace monitoring my-grafana -o jsonpath=\"{.data.admin-password}\" | base64 --decode ; echo\n","export POD_NAME=$(kubectl get pods --namespace monitoring -l \"app.kubernetes.io/name=grafana,app.kubernetes.io/instance=my-grafana\" -o jsonpath=\"{.items[0].metadata.name}\")\nkubectl --namespace monitoring port-forward $POD_NAME 3000\n"],"headingContent":"Configure Grafana Loki","anchorList":[{"label":"Configure Grafana Loki","href":"Configure-Grafana-Loki","type":1,"isActive":false},{"label":"Prerequisites","href":"Prerequisites","type":2,"isActive":false},{"label":"Deploy Loki","href":"Deploy-Loki","type":2,"isActive":false},{"label":"Deploy Promtail","href":"Deploy-Promtail","type":2,"isActive":false},{"label":"Query Logs with Grafana","href":"Query-Logs-with-Grafana","type":2,"isActive":false}]}