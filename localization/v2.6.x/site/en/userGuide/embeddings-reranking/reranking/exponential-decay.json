{"codeList":["from pymilvus import Function, FunctionType\nimport datetime\n\n# Create an exponential decay ranker for news recency\n# Note: All time parameters must use the same unit as your collection data\nranker = Function(\n    name=\"news_recency\",                  # Function identifier\n    input_field_names=[\"publish_time\"],   # Numeric field to use\n    function_type=FunctionType.RERANK,    # Function type. Must be RERANK\n    params={\n        \"reranker\": \"decay\",              # Specify decay reranker\n        \"function\": \"exp\",                # Choose exponential decay\n        \"origin\": int(datetime.datetime.now().timestamp()),  # Current time (seconds, matching collection data)\n        \"offset\": 3 * 60 * 60,            # 3 hour breaking news window (seconds)\n        \"decay\": 0.5,                     # Half score at scale distance\n        \"scale\": 24 * 60 * 60             # 24 hours (in seconds, matching collection data)\n    }\n)\n","import io.milvus.v2.service.vector.request.ranker.DecayRanker;\n\nDecayRanker ranker = DecayRanker.builder()\n        .name(\"news_recency\")\n        .inputFieldNames(Collections.singletonList(\"publish_time\"))\n        .function(\"exp\")\n        .origin(System.currentTimeMillis())\n        .offset(3 * 60 * 60)\n        .decay(0.5)\n        .scale(24 * 60 * 60)\n        .build();\n\n","\nimport { FunctionType } from \"@zilliz/milvus2-sdk-node\";\n\nconst ranker = {\n  name: \"news_recency\",\n  input_field_names: [\"publish_time\"],\n  type: FunctionType.RERANK,\n  params: {\n    reranker: \"decay\",\n    function: \"exp\",\n    origin: new Date(2025, 1, 15).getTime(),\n    offset: 3 * 60 * 60,\n    decay: 0.5,\n    scale: 24 * 60 * 60,\n  },\n};\n\n","// go\n","# restful\n","# Apply decay ranker to vector search\nresult = milvus_client.search(\n    collection_name,\n    data=[your_query_vector],             # Replace with your query vector\n    anns_field=\"dense\",                   # Vector field to search\n    limit=10,                             # Number of results\n    output_fields=[\"title\", \"publish_time\"], # Fields to return\n    #  highlight-next-line\n    ranker=ranker,                        # Apply the decay ranker\n    consistency_level=\"Strong\"\n)\n","import io.milvus.v2.common.ConsistencyLevel;\nimport io.milvus.v2.service.vector.request.SearchReq;\nimport io.milvus.v2.service.vector.response.SearchResp;\nimport io.milvus.v2.service.vector.request.data.EmbeddedText;\n\nSearchReq searchReq = SearchReq.builder()\n        .collectionName(COLLECTION_NAME)\n        .data(Collections.singletonList(new EmbeddedText(\"market analysis\")))\n        .annsField(\"vector_field\")\n        .limit(10)\n        .outputFields(Arrays.asList(\"title\", \"publish_time\"))\n        .functionScore(FunctionScore.builder()\n                .addFunction(ranker)\n                .build())\n        .consistencyLevel(ConsistencyLevel.STRONG)\n        .build();\nSearchResp searchResp = client.search(searchReq);\n","import { FunctionType MilvusClient } from \"@zilliz/milvus2-sdk-node\";\n\nconst milvusClient = new MilvusClient(\"http://localhost:19530\");\n\nconst result = await milvusClient.search({\n  collection_name: \"collection_name\",\n  data: [your_query_vector], // Replace with your query vector\n  anns_field: \"dense\",\n  limit: 10,\n  output_fields: [\"title\", \"publish_time\"],\n  rerank: ranker,\n  consistency_level: \"Strong\",\n});\n\n","// go\n","# restful\n"],"headingContent":"Exponential Decay","anchorList":[{"label":"Exponential Decay","href":"Exponential-Decay","type":1,"isActive":false},{"label":"When to use exponential decay","href":"When-to-use-exponential-decay","type":2,"isActive":false},{"label":"Sharp drop-off principle","href":"Sharp-drop-off-principle","type":2,"isActive":false},{"label":"Formula","href":"Formula","type":2,"isActive":false},{"label":"Use exponential decay","href":"Use-exponential-decay","type":2,"isActive":false},{"label":"Create a decay ranker","href":"Create-a-decay-ranker","type":3,"isActive":false},{"label":"Apply to standard vector search","href":"Apply-to-standard-vector-search","type":3,"isActive":false}]}