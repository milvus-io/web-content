{"codeList":["$ git clone https://github.com/prometheus-operator/kube-prometheus.git\n$ cd kube-prometheus\n$ kubectl apply --server-side -f manifests/setup\n$ kubectl wait \\\n        --for condition=Established \\\n        --all CustomResourceDefinition \\\n        --namespace=monitoring\n$ kubectl apply -f manifests/\n","kubectl patch clusterrole prometheus-k8s --type=json -p='[{\"op\": \"add\", \"path\": \"/rules/-\", \"value\": {\"apiGroups\": [\"\"], \"resources\": [\"pods\", \"services\", \"endpoints\"], \"verbs\": [\"get\", \"watch\", \"list\"]}}]'\n","$ kubectl --namespace monitoring --address 0.0.0.0 port-forward svc/prometheus-k8s 9090\n$ kubectl --namespace monitoring --address 0.0.0.0 port-forward svc/grafana 3000\n","$ kubectl edit milvus my-release\n","...\nspec:\n  components:\n    disableMetric: false # set to true to disable metrics\n...\n","$ kubectl get milvus my-release -o yaml\n","$ kubectl get servicemonitor\n","NAME                           AGE\nmy-release-milvus              54s\n"],"headingContent":"Deploying Monitoring Services on Kubernetes","anchorList":[{"label":"Deploying Monitoring Services on Kubernetes","href":"Deploying-Monitoring-Services-on-Kubernetes","type":1,"isActive":false},{"label":"Monitor metrics with Prometheus","href":"Monitor-metrics-with-Prometheus","type":2,"isActive":false},{"label":"Prerequisites","href":"Prerequisites","type":2,"isActive":false},{"label":"Deploy monitoring services on Kubernetes","href":"Deploy-monitoring-services-on-Kubernetes","type":2,"isActive":false},{"label":"1. Access the dashboards","href":"1-Access-the-dashboards","type":3,"isActive":false},{"label":"2. Enable ServiceMonitor","href":"2-Enable-ServiceMonitor","type":3,"isActive":false},{"label":"3. Check the metrics","href":"3-Check-the-metrics","type":3,"isActive":false},{"label":"4. Check the ServiceMonitor","href":"4-Check-the-ServiceMonitor","type":3,"isActive":false},{"label":"What's next","href":"Whats-next","type":2,"isActive":false}]}