{"codeList":["gcloud storage buckets create gs://milvus-testing-nonprod --project=milvus-testing-nonprod --default-storage-class=STANDARD --location=us-west1 --uniform-bucket-level-access\n","kubectl create serviceaccount milvus-gcs-access-sa\n","gcloud iam service-accounts create milvus-gcs-access-sa \\\n    --project=milvus-testing-nonprod\n","gcloud projects add-iam-policy-binding milvus-testing-nonprod \\\n    --member \"serviceAccount:milvus-gcs-access-sa@milvus-testing-nonprod.iam.gserviceaccount.com\" \\\n    --role \"roles/storage.admin\" \\\n    --condition='title=milvus-testing-nonprod,expression=resource.service == \"storage.googleapis.com\" && resource.name.startsWith(\"projects/_/buckets/milvus-testing-nonprod\")'\n","gcloud iam service-accounts add-iam-policy-binding milvus-gcs-access-sa@milvus-testing-nonprod.iam.gserviceaccount.com \\\n    --role \"roles/iam.workloadIdentityUser\" \\\n    --member \"serviceAccount:milvus-testing-nonprod.svc.id.goog[default/milvus-gcs-access-sa]\"\n","kubectl annotate serviceaccount milvus-gcs-access-sa \\\n    --namespace default \\\n    iam.gke.io/gcp-service-account=milvus-gcs-access-sa@milvus-testing-nonprod.iam.gserviceaccount.com\n","curl -H \"Metadata-Flavor: Google\" http://169.254.169.254/computeMetadata/v1/instance/service-accounts/default/email\n","helm install -f values.yaml my-release milvus/milvus\n","cluster:\n    enabled: true\n\nservice:\n    type: LoadBalancer\n\nminio:\n    enabled: false\n\nserviceAccount:\n    create: false\n    name: milvus-gcs-access-sa\n\nexternalS3:\n    enabled: true\n    host: storage.googleapis.com\n    port: 443\n    rootPath: milvus/my-release\n    bucketName: milvus-testing-nonprod\n    cloudProvider: gcp\n    useSSL: true\n    useIAM: true\n"],"headingContent":"Configure GCS Access by Workload Identity","anchorList":[{"label":"Configure GCS Access by Workload Identity","href":"Configure-GCS-Access-by-Workload-Identity","type":1,"isActive":false},{"label":"Before you start","href":"Before-you-start","type":2,"isActive":false},{"label":"Configure applications to use Workload Identity","href":"Configure-applications-to-use-Workload-Identity","type":2,"isActive":false},{"label":"Verify the Workload Identity setup","href":"Verify-the-Workload-Identity-setup","type":2,"isActive":false},{"label":"Deploy Milvus","href":"Deploy-Milvus","type":2,"isActive":false}]}