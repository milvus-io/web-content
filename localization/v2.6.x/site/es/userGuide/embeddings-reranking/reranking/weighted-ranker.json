{"codeList":["from pymilvus import Function, FunctionType\n\nrerank = Function(\n    name=\"weight\",\n    input_field_names=[], # Must be an empty list\n    function_type=FunctionType.RERANK,\n    params={\n        \"reranker\": \"weighted\", \n        \"weights\": [0.1, 0.9],\n        \"norm_score\": True  # Optional\n    }\n)\n","import io.milvus.common.clientenum.FunctionType;\nimport io.milvus.v2.service.collection.request.CreateCollectionReq;\n\nCreateCollectionReq.Function rerank = CreateCollectionReq.Function.builder()\n                .name(\"weight\")\n                .functionType(FunctionType.RERANK)\n                .param(\"strategy\", \"weighted\")\n                .param(\"params\", \"{\\\"weights\\\": [0.1, 0.6], \\\"norm_score\\\": true}\")\n                .build();\n","import { FunctionType } from '@zilliz/milvus2-sdk-node';\n\nconst rerank = {\n    name: \"weight\",\n    input_field_names: [],\n    function_type: FunctionType.RERANK,\n    params: {\n        reranker: \"weighted\",\n        weights: [0.1, 0.9],\n        norm_score: true\n    }\n};\n","// Go\n","# Restful\n","from pymilvus import MilvusClient, AnnSearchRequest\n\n# Connect to Milvus server\nmilvus_client = MilvusClient(uri=\"http://localhost:19530\")\n\n# Assume you have a collection setup\n\n# Define text vector search request\ntext_search = AnnSearchRequest(\n    data=[\"modern dining table\"],\n    anns_field=\"text_vector\",\n    param={},\n    limit=10\n)\n\n# Define image vector search request\nimage_search = AnnSearchRequest(\n    data=[image_embedding],  # Image embedding vector\n    anns_field=\"image_vector\",\n    param={},\n    limit=10\n)\n\n# Apply Weighted Ranker to product hybrid search\n# Text search has 0.8 weight, image search has 0.3 weight\nhybrid_results = milvus_client.hybrid_search(\n    collection_name,\n    [text_search, image_search],  # Multiple search requests\n    # highlight-next-line\n    ranker=rerank,  # Apply the weighted ranker\n    limit=10,\n    output_fields=[\"product_name\", \"price\", \"category\"]\n)\n","import io.milvus.v2.client.ConnectConfig;\nimport io.milvus.v2.client.MilvusClientV2;\nimport io.milvus.v2.service.vector.request.AnnSearchReq;\nimport io.milvus.v2.service.vector.request.HybridSearchReq;\nimport io.milvus.v2.service.vector.response.SearchResp;\nimport io.milvus.v2.service.vector.request.data.EmbeddedText;\nimport io.milvus.v2.service.vector.request.data.FloatVec;\n\nMilvusClientV2 client = new MilvusClientV2(ConnectConfig.builder()\n        .uri(\"http://localhost:19530\")\n        .build());\n        \nList<AnnSearchReq> searchRequests = new ArrayList<>();\nsearchRequests.add(AnnSearchReq.builder()\n        .vectorFieldName(\"text_vector\")\n        .vectors(Collections.singletonList(new EmbeddedText(\"\\\"modern dining table\\\"\")))\n        .limit(10)\n        .build());\nsearchRequests.add(AnnSearchReq.builder()\n        .vectorFieldName(\"image_vector\")\n        .vectors(Collections.singletonList(new FloatVec(imageEmbedding)))\n        .limit(10)\n        .build());\n        \nHybridSearchReq hybridSearchReq = HybridSearchReq.builder()\n                .collectionName(COLLECTION_NAME)\n                .searchRequests(searchRequests)\n                .ranker(ranker)\n                .limit(10)\n                .outputFields(Arrays.asList(\"product_name\", \"price\", \"category\"))\n                .build();\nSearchResp searchResp = client.hybridSearch(hybridSearchReq);\n","import { MilvusClient, FunctionType } from \"@zilliz/milvus2-sdk-node\";\n\nconst milvusClient = new MilvusClient({ address: \"http://localhost:19530\" });\n\nconst text_search = {\n  data: [\"modern dining table\"],\n  anns_field: \"text_vector\",\n  param: {},\n  limit: 10,\n};\n\nconst image_search = {\n  data: [image_embedding],\n  anns_field: \"image_vector\",\n  param: {},\n  limit: 10,\n};\n\nconst rerank = {\n  name: \"weight\",\n  input_field_names: [],\n  function_type: FunctionType.RERANK,\n  params: {\n    reranker: \"weighted\",\n    weights: [0.1, 0.9],\n    norm_score: true,\n  },\n};\n\nconst search = await milvusClient.search({\n  collection_name: collection_name,\n  limit: 10,\n  data: [text_search, image_search],\n  rerank: rerank,\n  output_fields = [\"product_name\", \"price\", \"category\"],\n});\n","// go\n","# restful\n"],"headingContent":"Weighted Ranker","anchorList":[{"label":"Clasificador ponderado","href":"Weighted-Ranker","type":1,"isActive":false},{"label":"Cuándo utilizar Weighted Ranker","href":"When-to-use-Weighted-Ranker","type":2,"isActive":false},{"label":"Mecanismo del Clasificador ponderado","href":"Mechanism-of-Weighted-Ranker","type":2,"isActive":false},{"label":"Ejemplo de clasificador ponderado","href":"Example-of-Weighted-Ranker","type":2,"isActive":false},{"label":"Uso de Weighted Ranker","href":"Usage-of-Weighted-Ranker","type":2,"isActive":false},{"label":"Creación de un clasificador ponderado","href":"Create-a-Weighted-Ranker","type":3,"isActive":false},{"label":"Aplicar a la búsqueda híbrida","href":"Apply-to-hybrid-search","type":3,"isActive":false}]}