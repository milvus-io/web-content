{"codeList":["kubectl patch milvus <your-release-name> --type='json' -p='[{\"op\": \"replace\", \"path\": \"/spec/components/proxy/replicas\", \"value\": -1}]'\n","kubectl get milvus <your-release-name> -o jsonpath='{.spec.components.proxy.replicas}'\n","apiVersion: milvus.io/v1beta1\nkind: Milvus\nmetadata:\n  name: <your-release-name>\nspec:\n  mode: cluster\n  components:\n    proxy:\n      replicas: -1\n","apiVersion: autoscaling/v2\nkind: HorizontalPodAutoscaler\nmetadata:\n  name: my-release-milvus-proxy-hpa\nspec:\n  scaleTargetRef:\n    apiVersion: apps/v1\n    kind: Deployment\n    name: my-release-milvus-proxy\n  minReplicas: 2\n  maxReplicas: 10\n  metrics:\n    - type: Resource\n      resource:\n        name: cpu\n        target:\n          type: Utilization\n          averageUtilization: 60\n    - type: Resource\n      resource:\n        name: memory\n        target:\n          type: Utilization\n          averageUtilization: 60\n  behavior:\n    scaleUp:\n      policies:\n        - type: Pods\n          value: 1\n          periodSeconds: 30\n    scaleDown:\n      stabilizationWindowSeconds: 300\n      policies:\n        - type: Pods\n          value: 1\n          periodSeconds: 60\n","kubectl apply -f hpa.yaml\n","kubectl get hpa\n","NAME                          REFERENCE                            TARGETS         MINPODS   MAXPODS   REPLICAS   AGE\nmy-release-milvus-proxy-hpa   Deployment/my-release-milvus-proxy   <some>/60%      2         10        2          <time>\n"],"headingContent":"Configure Horizontal Pod Autoscaling (HPA) for Milvus","anchorList":[{"label":"Настройка горизонтального автомасштабирования (HPA) для Milvus","href":"Configure-Horizontal-Pod-Autoscaling-HPA-for-Milvus","type":1,"isActive":false},{"label":"Обзор","href":"Overview","type":2,"isActive":false},{"label":"Необходимые условия","href":"Prerequisites","type":2,"isActive":false},{"label":"Настройка HPA с помощью Milvus Operator","href":"Configure-HPA-with-Milvus-Operator","type":2,"isActive":false},{"label":"Заключение","href":"Conclusion","type":2,"isActive":false}]}