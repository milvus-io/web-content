{"codeList":["# docker-compose.yaml (standalone service section)\nstandalone:\n  # ... other configurations ...\n  environment:\n    # ... other environment variables ...\n    # Set the environment variable pointing to the credential file path inside the container\n    MILVUSAI_GOOGLE_APPLICATION_CREDENTIALS: /milvus/configs/google_application_credentials.json\n  volumes:\n    # ... other mounts ...\n    # Mount the credential file from the host to the specified path inside the container\n    # Replace /path/to/your/credentials.json with the actual path\n    - /path/to/your/credentials.json:/milvus/configs/google_application_credentials.json:ro\n\n","kubectl create secret generic vertex-ai-secret \\\n  --from-file=credentials.json=/path/to/your/credentials.json \\\n  -n <your-milvus-namespace>\n\n","extraEnv:\n  - name: MILVUSAI_GOOGLE_APPLICATION_CREDENTIALS\n    value: /milvus/configs/credentials.json\nvolumes:\n  - name: vertex-ai-credentials-vol\n    secret:\n      secretName: vertex-ai-secret\nvolumeMounts:\n  - name: vertex-ai-credentials-vol\n    mountPath: /milvus/configs/credentials.json\n    subPath: credentials.json\n    readOnly: true\n\n","credential:\n  gcp1:\n    credential_json:  # base64 based gcp credential data\n\n# Any configuration related to functions\nfunction:\n  textEmbedding:\n    providers:\n      vertexai:\n        credential:  gcp1 # The name in the crendential configuration item\n        url:  # Your VertexAI embedding url\n\n","# Example (typically set in docker-compose.yaml or Kubernetes manifest)\n# docker-compose.yaml (standalone service section)\nstandalone:\n  # ... other configurations ...\n  environment:\n    # ... other environment variables ...\n    # Set the environment variable pointing to the credential file path inside the container\n    MILVUSAI_GOOGLE_APPLICATION_CREDENTIALS: /milvus/configs/google_application_credentials.json\n    \n#Add the following under the standalone or proxy/dataNode sections in values.yaml:    \nextraEnv:\n  - name: MILVUSAI_GOOGLE_APPLICATION_CREDENTIALS\n    value: /milvus/configs/credentials.json    \n    \n","from pymilvus import MilvusClient, DataType, Function, FunctionType, CollectionSchema, FieldSchema\n\n# Assume you have connected to Milvus\n# client = MilvusClient(uri=\"http://localhost:19530\")\n\n# 1. Create Schema\nschema = MilvusClient.create_schema()\n\n# 2. Add fields\nschema.add_field(\"id\", DataType.INT64, is_primary=True, auto_id=False)\nschema.add_field(\"document\", DataType.VARCHAR, max_length=9000) # Store text data\n# IMPORTANT: Set dim to match the output dimension of the model and parameters\nschema.add_field(\"dense_vector\", DataType.FLOAT_VECTOR, dim=768) # Store embedding vectors (example dimension)\n","# 3. Define Vertex AI embedding function\ntext_embedding_function = Function(\n    name=\"vert_func\",                           # Unique identifier for this embedding function\n    function_type=FunctionType.TEXTEMBEDDING,   # Indicates a text embedding function\n    input_field_names=[\"document\"],             # Scalar field(s) containing text data to embed\n    output_field_names=[\"dense_vector\"],        # Vector field(s) for storing embeddings\n    params={                                    # Vertex AI specific parameters (function-level)\n        \"provider\": \"vertexai\",                 # Must be set to \"vertexai\"\n        \"model_name\": \"text-embedding-005\",     # Required: Specifies the Vertex AI model to use\n        \"projectid\": \"your-gcp-project-id\",     # Required: Your Google Cloud project ID\n        # Optional parameters (include these only if necessary):\n        # \"location\": \"us-central1\",            # Optional: Vertex AI service region (default us-central1)\n        # \"task\": \"DOC_RETRIEVAL\",              # Optional: Embedding task type (default DOC_RETRIEVAL)\n        # \"dim\": 768                            # Optional: Output vector dimension (1-768)\n    }\n)\n\n# Add the configured embedding function to your existing collection schema\nschema.add_function(text_embedding_function)\n"],"headingContent":"Vertex AI","anchorList":[{"label":"Vertex AICompatible with Milvus 2.6.x","href":"Vertex-AI","type":1,"isActive":false},{"label":"Penerapan Vertex AI","href":"Vertex-AI-deployment","type":2,"isActive":false},{"label":"Konfigurasi di Milvus","href":"Configuration-in-Milvus","type":2,"isActive":false},{"label":"Gunakan fungsi penyematan","href":"Use-embedding-function","type":2,"isActive":false},{"label":"Langkah selanjutnya","href":"Next-steps","type":2,"isActive":false}]}