{"codeList":["normalized_score = 1.0 - (2 × arctan(score))/π\n","final_score = normalized_similarity_score × decay_score\n","final_score = max([normalized_score₁, normalized_score₂, ..., normalized_scoreₙ]) × decay_score\n","from pymilvus import Function, FunctionType\n\n# Create a decay function for timestamp-based decay\ndecay_ranker = Function(\n    name=\"time_decay\",                  # Function identifier\n    input_field_names=[\"timestamp\"],    # Numeric field to use for decay\n    function_type=FunctionType.RERANK,  # Must be set to RERANK for decay rankers\n    params={\n        \"reranker\": \"decay\",            # Specify decay reranker. Must be \"decay\"\n        \"function\": \"gauss\",            # Choose decay function type: \"gauss\", \"exp\", or \"linear\"\n        \"origin\": current_timestamp,    # Reference point (current time)\n        \"scale\": 7 * 24 * 60 * 60,      # 7 days in seconds\n        \"offset\": 24 * 60 * 60,         # 1 day no-decay zone\n        \"decay\": 0.5                    # Half score at scale distance\n    }\n)\n","# Use the decay function in standard vector search\nresults = milvus_client.search(\n    collection_name,\n    data=[\"search query\"],\n    anns_field=\"vector_field\",\n    limit=10,\n    output_fields=[\"document\", \"timestamp\"],  # Include the decay field in outputs to see values\n    #  highlight-next-line\n    ranker=decay_ranker,                      # Apply the decay ranker here\n    consistency_level=\"Strong\"\n)\n","from pymilvus import AnnSearchRequest\n\n# Define search requests for different vector fields\ndense_request = AnnSearchRequest(\n    data=[\"search query\"],\n    anns_field=\"dense_vector\",\n    param={},\n    limit=20\n)\n\nsparse_request = AnnSearchRequest(\n    data=[\"search query\"],\n    anns_field=\"sparse_vector\",\n    param={},\n    limit=20\n)\n\n# Apply decay ranker to hybrid search\nhybrid_results = milvus_client.hybrid_search(\n    collection_name,\n    [dense_request, sparse_request],\n    #  highlight-next-line\n    ranker=decay_ranker,                      # Same decay ranker works with hybrid search\n    limit=10,\n    output_fields=[\"document\", \"timestamp\"]\n)\n"],"headingContent":"Decay Ranker Overview","anchorList":[{"label":"نظرة عامة على مصنف التضاؤلCompatible with Milvus 2.6.x","href":"Decay-Ranker-Overview","type":1,"isActive":false},{"label":"الحدود","href":"Limits","type":2,"isActive":false},{"label":"كيف يعمل","href":"How-it-works","type":2,"isActive":false},{"label":"اختر مصنف الاضمحلال الصحيح","href":"Choose-the-right-decay-ranker","type":2,"isActive":false},{"label":"مثال على التنفيذ","href":"Implementation-example","type":2,"isActive":false}]}