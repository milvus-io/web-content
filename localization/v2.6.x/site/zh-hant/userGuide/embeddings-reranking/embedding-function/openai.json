{"codeList":["# milvus.yaml\ncredential:\n  apikey_dev:            # dev environment\n    apikey: <YOUR_DEV_KEY>\n  apikey_prod:           # production environment\n    apikey: <YOUR_PROD_KEY>    \n","function:\n  textEmbedding:\n    providers:\n      openai:\n        credential: apikey_dev      # ← choose any label you defined above\n        # url: https://api.openai.com/v1/embeddings   # (optional) custom url\n","# docker-compose.yaml (standalone service section)\nstandalone:\n  # ... other configurations ...\n  environment:\n    # ... other environment variables ...\n    # Set the environment variable pointing to the OpenAI API key inside the container\n    MILVUSAI_OPENAI_API_KEY: <MILVUSAI_OPENAI_API_KEY>\n","from pymilvus import MilvusClient, DataType, Function, FunctionType\n\n# Initialize Milvus client\nclient = MilvusClient(\n    uri=\"http://localhost:19530\",\n)\n\n# Create a new schema for the collection\nschema = client.create_schema()\n\n# Add primary field \"id\"\nschema.add_field(\"id\", DataType.INT64, is_primary=True, auto_id=False)\n\n# Add scalar field \"document\" for storing textual data\nschema.add_field(\"document\", DataType.VARCHAR, max_length=9000)\n\n# Add vector field \"dense\" for storing embeddings.\n# IMPORTANT: Set dim to match the exact output dimension of the embedding model.\n# For instance, OpenAI's text-embedding-3-small model outputs 1536-dimensional vectors.\nschema.add_field(\"dense\", DataType.FLOAT_VECTOR, dim=1536)\n","# Define embedding function (example: OpenAI provider)\ntext_embedding_function = Function(\n    name=\"openai_embedding\",                        # Unique identifier for this embedding function\n    function_type=FunctionType.TEXTEMBEDDING,       # Type of embedding function\n    input_field_names=[\"document\"],                 # Scalar field to embed\n    output_field_names=[\"dense\"],                   # Vector field to store embeddings\n    params={                                        # Provider-specific configuration (highest priority)\n        \"provider\": \"openai\",                       # Embedding model provider\n        \"model_name\": \"text-embedding-3-small\",     # Embedding model\n        # Optional parameters:\n        # \"credential\": \"apikey_dev\",               # Optional: Credential label specified in milvus.yaml\n        # \"dim\": \"1536\",                            # Optional: Shorten the output vector dimension\n        # \"user\": \"user123\"                         # Optional: identifier for API tracking\n    }\n)\n\n# Add the embedding function to your schema\nschema.add_function(text_embedding_function)\n"],"headingContent":"OpenAI","anchorList":[{"label":"OpenAICompatible with Milvus 2.6.x","href":"OpenAI","type":1,"isActive":false},{"label":"選擇嵌入模型","href":"Choose-an-embedding-model","type":2,"isActive":false},{"label":"配置憑證","href":"Configure-credentials","type":2,"isActive":false},{"label":"選項 1：組態檔案 (建議使用且優先順序較高)","href":"Option-1-Configuration-file-recommended--higher-priority","type":3,"isActive":false},{"label":"選項 2：環境變數","href":"Option-2-Environment-variable","type":3,"isActive":false},{"label":"使用嵌入功能","href":"Use-embedding-function","type":2,"isActive":false},{"label":"步驟 1：定義模式欄位","href":"Step-1-Define-schema-fields","type":3,"isActive":false},{"label":"步驟 2：在模式中加入嵌入函數","href":"Step-2-Add-embedding-function-to-schema","type":3,"isActive":false},{"label":"下一步","href":"Next-steps","type":2,"isActive":false}]}