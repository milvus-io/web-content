{"codeList":["from pymilvus import MilvusClient, DataType\n\nclient = MilvusClient(uri=\"http://localhost:19530\")\n\nschema = client.create_schema()\n\n# Define primary field with AutoID enabled\n# highlight-start\nschema.add_field(\n    field_name=\"id\", # Primary field name\n    is_primary=True,\n    auto_id=True,  # Milvus generates IDs automatically; Defaults to False\n    datatype=DataType.INT64\n)\n# highlight-end\n\n# Define the other fields\nschema.add_field(field_name=\"embedding\", datatype=DataType.FLOAT_VECTOR, dim=4) # Vector field\nschema.add_field(field_name=\"category\", datatype=DataType.VARCHAR, max_length=1000) # Scalar field of the VARCHAR type\n\n# Create the collection\nif client.has_collection(\"demo_autoid\"):\n    client.drop_collection(\"demo_autoid\")\nclient.create_collection(collection_name=\"demo_autoid\", schema=schema)\n","import io.milvus.v2.client.ConnectConfig;\nimport io.milvus.v2.client.MilvusClientV2;\nimport io.milvus.v2.service.collection.request.AddFieldReq;\nimport io.milvus.v2.service.collection.request.CreateCollectionReq;\nimport io.milvus.v2.service.collection.request.DropCollectionReq;\n\nMilvusClientV2 client = new MilvusClientV2(ConnectConfig.builder()\n        .uri(\"http://localhost:19530\")\n        .build());\n        \nCreateCollectionReq.CollectionSchema collectionSchema = CreateCollectionReq.CollectionSchema.builder()\n        .build();\ncollectionSchema.addField(AddFieldReq.builder()\n        .fieldName(\"id\")\n        .dataType(DataType.Int64)\n        .isPrimaryKey(true)\n        .autoID(true)\n        .build());\ncollectionSchema.addField(AddFieldReq.builder()\n        .fieldName(\"embedding\")\n        .dataType(DataType.FloatVector)\n        .dimension(4)\n        .build());\ncollectionSchema.addField(AddFieldReq.builder()\n        .fieldName(\"category\")\n        .dataType(DataType.VarChar)\n        .maxLength(1000)\n        .build());\n\nclient.dropCollection(DropCollectionReq.builder()\n        .collectionName(\"demo_autoid\")\n        .build());\n\nCreateCollectionReq requestCreate = CreateCollectionReq.builder()\n        .collectionName(\"demo_autoid\")\n        .collectionSchema(collectionSchema)\n        .build();\nclient.createCollection(requestCreate);\n","import { MilvusClient, DataType } from \"@zilliz/milvus2-sdk-node\";\n\nconst client = new MilvusClient({\n  address: \"localhost:19530\",\n});\n\n// Define schema fields\nconst schema = [\n  {\n    name: \"id\",\n    description: \"Primary field\",\n    data_type: DataType.Int64,\n    is_primary_key: true,\n    autoID: true, // Milvus generates IDs automatically\n  },\n  {\n    name: \"embedding\",\n    description: \"Vector field\",\n    data_type: DataType.FloatVector,\n    dim: 4,\n  },\n  {\n    name: \"category\",\n    description: \"Scalar field\",\n    data_type: DataType.VarChar,\n    max_length: 1000,\n  },\n];\n\n// Create the collection\nawait client.createCollection({\n  collection_name: \"demo_autoid\",\n  fields: schema,\n});\n\n","// go\n","# restful\nexport SCHEMA='{\n    \"autoID\": true,\n    \"fields\": [\n        {\n            \"fieldName\": \"id\",\n            \"dataType\": \"Int64\",\n            \"isPrimary\": true,\n            \"elementTypeParams\": {}\n        },\n        {\n            \"fieldName\": \"embedding\",\n            \"dataType\": \"FloatVector\",\n            \"isPrimary\": false,\n            \"elementTypeParams\": {\n                \"dim\": \"4\"\n            }\n        },\n        {\n            \"fieldName\": \"category\",\n            \"dataType\": \"VarChar\",\n            \"isPrimary\": false,\n            \"elementTypeParams\": {\n                \"max_length\": \"1000\"\n            }\n        }\n    ]\n}'\n\ncurl -X POST 'http://localhost:19530/v2/vectordb/collections/create' \\\n-H 'Content-Type: application/json' \\\n-d \"{\n    \\\"collectionName\\\": \\\"demo_autoid\\\",\n    \\\"schema\\\": $SCHEMA\n}\"\n","data = [\n    {\"embedding\": [0.1, 0.2, 0.3, 0.4], \"category\": \"book\"},\n    {\"embedding\": [0.2, 0.3, 0.4, 0.5], \"category\": \"toy\"},\n]\n\nres = client.insert(collection_name=\"demo_autoid\", data=data)\nprint(\"Generated IDs:\", res.get(\"ids\"))\n\n# Output example:\n# Generated IDs: [461526052788333649, 461526052788333650]\n","import com.google.gson.*;\nimport io.milvus.v2.service.vector.request.InsertReq;\nimport io.milvus.v2.service.vector.response.InsertResp;\n\nList<JsonObject> rows = new ArrayList<>();\nGson gson = new Gson();\nJsonObject row1 = new JsonObject();\nrow1.add(\"embedding\", gson.toJsonTree(new float[]{0.1f, 0.2f, 0.3f, 0.4f}));\nrow1.addProperty(\"category\", \"book\");\nrows.add(row1);\n\nJsonObject row2 = new JsonObject();\nrow2.add(\"embedding\", gson.toJsonTree(new float[]{0.2f, 0.3f, 0.4f, 0.5f}));\nrow2.addProperty(\"category\", \"toy\");\nrows.add(row2);\n\nInsertResp insertR = client.insert(InsertReq.builder()\n        .collectionName(\"demo_autoid\")\n        .data(rows)\n        .build());\nSystem.out.printf(\"Generated IDs: %s\\n\", insertR.getPrimaryKeys());\n","const data = [\n    {\"embedding\": [0.1, 0.2, 0.3, 0.4], \"category\": \"book\"},\n    {\"embedding\": [0.2, 0.3, 0.4, 0.5], \"category\": \"toy\"},\n];\n\nconst res = await client.insert({\n    collection_name: \"demo_autoid\",\n    fields_data: data,\n});\n\nconsole.log(res);\n","// go\n","# restful\nexport INSERT_DATA='[\n    {\n        \"embedding\": [0.1, 0.2, 0.3, 0.4],\n        \"category\": \"book\"\n    },\n    {\n        \"embedding\": [0.2, 0.3, 0.4, 0.5],\n        \"category\": \"toy\"\n    }\n]'\n\ncurl -X POST 'http://localhost:19530/v2/vectordb/entities/insert' \\\n-H 'Content-Type: application/json' \\\n-d \"{\n    \\\"collectionName\\\": \\\"demo_autoid\\\",\n    \\\"data\\\": $INSERT_DATA\n}\"\n","from pymilvus import MilvusClient, DataType\n\nclient = MilvusClient(uri=\"http://localhost:19530\")\n\nschema = client.create_schema()\n\n# Define the primary field without AutoID\n# highlight-start\nschema.add_field(\n    field_name=\"product_id\",\n    is_primary=True,\n    auto_id=False,  # You'll provide IDs manually at data ingestion\n    datatype=DataType.VARCHAR,\n    max_length=100 # Required when datatype is VARCHAR\n)\n# highlight-end\n\n# Define the other fields\nschema.add_field(field_name=\"embedding\", datatype=DataType.FLOAT_VECTOR, dim=4) # Vector field\nschema.add_field(field_name=\"category\", datatype=DataType.VARCHAR, max_length=1000) # Scalar field of the VARCHAR type\n\n# Create the collection\nif client.has_collection(\"demo_manual_ids\"):\n    client.drop_collection(\"demo_manual_ids\")\nclient.create_collection(collection_name=\"demo_manual_ids\", schema=schema)\n","import io.milvus.v2.client.ConnectConfig;\nimport io.milvus.v2.client.MilvusClientV2;\nimport io.milvus.v2.service.collection.request.AddFieldReq;\nimport io.milvus.v2.service.collection.request.CreateCollectionReq;\nimport io.milvus.v2.service.collection.request.DropCollectionReq;\n\nMilvusClientV2 client = new MilvusClientV2(ConnectConfig.builder()\n        .uri(\"http://localhost:19530\")\n        .build());\n        \nCreateCollectionReq.CollectionSchema collectionSchema = CreateCollectionReq.CollectionSchema.builder()\n        .build();\ncollectionSchema.addField(AddFieldReq.builder()\n        .fieldName(\"product_id\")\n        .dataType(DataType.VarChar)\n        .isPrimaryKey(true)\n        .autoID(false)\n        .maxLength(100)\n        .build());\ncollectionSchema.addField(AddFieldReq.builder()\n        .fieldName(\"embedding\")\n        .dataType(DataType.FloatVector)\n        .dimension(4)\n        .build());\ncollectionSchema.addField(AddFieldReq.builder()\n        .fieldName(\"category\")\n        .dataType(DataType.VarChar)\n        .maxLength(1000)\n        .build());\n\nclient.dropCollection(DropCollectionReq.builder()\n        .collectionName(\"demo_manual_ids\")\n        .build());\n\nCreateCollectionReq requestCreate = CreateCollectionReq.builder()\n        .collectionName(\"demo_manual_ids\")\n        .collectionSchema(collectionSchema)\n        .build();\nclient.createCollection(requestCreate);\n","\nimport { MilvusClient, DataType } from \"@zilliz/milvus2-sdk-node\";\n\nconst client = new MilvusClient({\n  address: \"localhost:19530\",\n  username: \"username\",\n  password: \"Aa12345!!\",\n});\n\nconst schema = [\n  {\n    name: \"product_id\",\n    data_type: DataType.VARCHAR,\n    is_primary_key: true,\n    autoID: false,\n  },\n  {\n    name: \"embedding\",\n    data_type: DataType.FLOAT_VECTOR,\n    dim: 4,\n  },\n  {\n    name: \"category\",\n    data_type: DataType.VARCHAR,\n    max_length: 1000,\n  },\n];\n\nconst res = await client.createCollection({\n  collection_name: \"demo_autoid\",\n  schema: schema,\n});\n\n","// go\n","# restful\nexport SCHEMA='{\n    \"autoID\": false,\n    \"fields\": [\n        {\n            \"fieldName\": \"product_id\",\n            \"dataType\": \"VarChar\",\n            \"isPrimary\": true,\n            \"elementTypeParams\": {\n                \"max_length\": \"100\"\n            }\n        },\n        {\n            \"fieldName\": \"embedding\",\n            \"dataType\": \"FloatVector\",\n            \"isPrimary\": false,\n            \"elementTypeParams\": {\n                \"dim\": \"4\"\n            }\n        },\n        {\n            \"fieldName\": \"category\",\n            \"dataType\": \"VarChar\",\n            \"isPrimary\": false,\n            \"elementTypeParams\": {\n                \"max_length\": \"1000\"\n            }\n        }\n    ]\n}'\n\ncurl -X POST 'http://localhost:19530/v2/vectordb/collections/create' \\\n-H 'Content-Type: application/json' \\\n-d \"{\n    \\\"collectionName\\\": \\\"demo_manual_ids\\\",\n    \\\"schema\\\": $SCHEMA\n}\"\n","# Each entity must contain the primary field `product_id`\ndata = [\n    {\"product_id\": \"PROD-001\", \"embedding\": [0.1, 0.2, 0.3, 0.4], \"category\": \"book\"},\n    {\"product_id\": \"PROD-002\", \"embedding\": [0.2, 0.3, 0.4, 0.5], \"category\": \"toy\"},\n]\n\nres = client.insert(collection_name=\"demo_manual_ids\", data=data)\nprint(\"Generated IDs:\", res.get(\"ids\"))\n\n# Output example:\n# Generated IDs: ['PROD-001', 'PROD-002']\n","import com.google.gson.*;\nimport io.milvus.v2.service.vector.request.InsertReq;\nimport io.milvus.v2.service.vector.response.InsertResp;\n\nList<JsonObject> rows = new ArrayList<>();\nGson gson = new Gson();\nJsonObject row1 = new JsonObject();\nrow1.addProperty(\"product_id\", \"PROD-001\");\nrow1.add(\"embedding\", gson.toJsonTree(new float[]{0.1f, 0.2f, 0.3f, 0.4f}));\nrow1.addProperty(\"category\", \"book\");\nrows.add(row1);\n\nJsonObject row2 = new JsonObject();\nrow2.addProperty(\"product_id\", \"PROD-002\");\nrow2.add(\"embedding\", gson.toJsonTree(new float[]{0.2f, 0.3f, 0.4f, 0.5f}));\nrow2.addProperty(\"category\", \"toy\");\nrows.add(row2);\n\nInsertResp insertR = client.insert(InsertReq.builder()\n        .collectionName(\"demo_manual_ids\")\n        .data(rows)\n        .build());\nSystem.out.printf(\"Generated IDs: %s\\n\", insertR.getPrimaryKeys());\n","\nconst data = [\n    {\"product_id\": \"PROD-001\", \"embedding\": [0.1, 0.2, 0.3, 0.4], \"category\": \"book\"},\n    {\"product_id\": \"PROD-002\", \"embedding\": [0.2, 0.3, 0.4, 0.5], \"category\": \"toy\"},\n];\n\nconst insert = await client.insert({\n    collection_name: \"demo_autoid\",\n    fields_data: data,\n});\n\nconsole.log(insert);\n","// go\n","# restful\nexport INSERT_DATA='[\n    {\n        \"product_id\": \"PROD-001\",\n        \"embedding\": [0.1, 0.2, 0.3, 0.4],\n        \"category\": \"book\"\n    },\n    {\n        \"product_id\": \"PROD-002\",\n        \"embedding\": [0.2, 0.3, 0.4, 0.5],\n        \"category\": \"toy\"\n    }\n]'\n\n# 插入数据\ncurl -X POST 'http://localhost:19530/v2/vectordb/entities/insert' \\\n-H 'Content-Type: application/json' \\\n-d \"{\n    \\\"collectionName\\\": \\\"demo_manual_ids\\\",\n    \\\"data\\\": $INSERT_DATA\n}\"\n","common:\n  clusterID: 3   # Must be unique across all clusters (Range: 0-7)\n","[sign_bit][cluster_id][physical_ts][logical_ts]\n"],"headingContent":"Primary Field & AutoID","anchorList":[{"label":"Campo primário e AutoID","href":"Primary-Field--AutoID","type":1,"isActive":false},{"label":"O que é um campo primário?","href":"What-is-a-primary-field","type":2,"isActive":false},{"label":"Tipos de dados suportados","href":"Supported-data-types","type":2,"isActive":false},{"label":"Escolha entre AutoID e IDs manuais","href":"Choose-between-AutoID-and-Manual-IDs","type":2,"isActive":false},{"label":"Início rápido: Usar AutoID","href":"Quickstart-Use-AutoID","type":2,"isActive":false},{"label":"Passo 1: Criar uma coleção com AutoID","href":"Step-1-Create-a-collection-with-AutoID","type":3,"isActive":false},{"label":"Etapa 2: Inserir dados","href":"Step-2-Insert-Data","type":3,"isActive":false},{"label":"Usar IDs manuais","href":"Use-manual-IDs","type":2,"isActive":false},{"label":"Etapa 1: criar uma coleção sem AutoID","href":"Step-1-Create-a-collection-without-AutoID","type":3,"isActive":false},{"label":"Etapa 2: inserir dados com suas IDs","href":"Step-2-Insert-data-with-your-IDs","type":3,"isActive":false},{"label":"Uso avançado","href":"Advanced-usage","type":2,"isActive":false},{"label":"Migrar dados com AutoIDs existentes","href":"Migrate-data-with-existing-AutoIDs","type":3,"isActive":false},{"label":"Garantir a exclusividade do AutoID global entre os clusters","href":"Ensure-global-AutoID-uniqueness-across-clusters","type":3,"isActive":false},{"label":"Referência: Como funciona o AutoID","href":"Reference-How-AutoID-works","type":2,"isActive":false}]}