{"codeList":["{\n  \"metadata\": { \n    \"category\": \"electronics\",\n    \"brand\": \"BrandA\",\n    \"in_stock\": true,\n    \"price\": 99.99,\n    \"string_price\": \"99.99\",\n    \"tags\": [\"clearance\", \"summer_sale\"],\n    \"supplier\": {\n      \"name\": \"SupplierX\",\n      \"country\": \"USA\",\n      \"contact\": {\n        \"email\": \"support@supplierx.com\",\n        \"phone\": \"+1-800-555-0199\"\n      }\n    }\n  }\n}\n","from pymilvus import MilvusClient, DataType\n\nclient = MilvusClient(uri=\"http://localhost:19530\") # Replace with your server address \n\n# Create schema\nschema = client.create_schema(auto_id=False, enable_dynamic_field=True)\n\nschema.add_field(field_name=\"product_id\", datatype=DataType.INT64, is_primary=True) # Primary field\nschema.add_field(field_name=\"vector\", datatype=DataType.FLOAT_VECTOR, dim=5) # Vector field\n# Define a JSON field that allows null values\n# highlight-next-line\nschema.add_field(field_name=\"metadata\", datatype=DataType.JSON, nullable=True)\n\nclient.create_collection(\n    collection_name=\"product_catalog\",\n    schema=schema\n)\n","entities = [\n    {\n        \"product_id\": 1,\n        \"vector\": [0.1, 0.2, 0.3, 0.4, 0.5],\n        # highlight-start\n        \"metadata\": { # JSON field\n            \"category\": \"electronics\",\n            \"brand\": \"BrandA\",\n            \"in_stock\": True,\n            \"price\": 99.99,\n            \"string_price\": \"99.99\",\n            \"tags\": [\"clearance\", \"summer_sale\"],\n            \"supplier\": {\n                \"name\": \"SupplierX\",\n                \"country\": \"USA\",\n                \"contact\": {\n                    \"email\": \"support@supplierx.com\",\n                    \"phone\": \"+1-800-555-0199\"\n                }\n            }\n        }\n        # highlight-end\n    }\n]\n\nclient.insert(collection_name=\"product_catalog\", data=entities)\n","index_params = client.prepare_index_params()\nindex_params.add_index(\n    field_name=\"vector\",\n    index_type=\"AUTOINDEX\",\n    index_name=\"vector_index\",\n    metric_type=\"COSINE\"\n)\n\nclient.create_index(collection_name=\"product_catalog\", index_params=index_params)\n\nclient.load_collection(collection_name=\"product_catalog\")\n","# Define filter expression\nfilter = 'metadata[\"category\"] == \"electronics\"'\n\nclient.search(\n    collection_name=\"product_catalog\",  # Collection name\n    data=[[0.1, 0.2, 0.3, 0.4, 0.5]],               # Query vector (must match collection's vector dim)\n    limit=5,                           # Max. number of results to return\n    # highlight-next-line\n    filter=filter,                    # Filter expression\n    output_fields=[\"product_id\", \"metadata\"]   # Fields to include in the search results\n)\n","# Define filter expression\nfilter = 'metadata[\"supplier\"][\"country\"] == \"USA\"'\n\nres = client.search(\n    collection_name=\"product_catalog\",  # Collection name\n    data=[[0.1, 0.2, 0.3, 0.4, 0.5]],               # Query vector (must match collection's vector dim)\n    limit=5,                           # Max. number of results to return\n    # highlight-next-line\n    filter=filter,                    # Filter expression\n    output_fields=[\"product_id\", \"metadata\"]   # Fields to include in the search results\n)\n\nprint(res)\n","# Define filter expression\nfilter = 'json_contains(metadata[\"tags\"], \"summer_sale\")'\n\nres = client.search(\n    collection_name=\"product_catalog\",  # Collection name\n    data=[[0.1, 0.2, 0.3, 0.4, 0.5]],               # Query vector (must match collection's vector dim)\n    limit=5,                           # Max. number of results to return\n    # highlight-next-line\n    filter=filter,                    # Filter expression\n    output_fields=[\"product_id\", \"metadata\"]   # Fields to include in the search results\n)\n\nprint(res)\n","# Define filter expression\nfilter = 'json_contains_any(metadata[\"tags\"], [\"electronics\", \"new\", \"clearance\"])'\n\nres = client.search(\n    collection_name=\"product_catalog\",  # Collection name\n    data=[[0.1, 0.2, 0.3, 0.4, 0.5]],               # Query vector (must match collection's vector dim)\n    limit=5,                           # Max. number of results to return\n    # highlight-next-line\n    filter=filter,                    # Filter expression\n    output_fields=[\"product_id\", \"metadata\"]   # Fields to include in the search results\n)\n\nprint(res)\n","\"a\\\"b\", \"a'b\", \"a\\\\b\"\n","'a\"b', 'a\\'b'\n"],"headingContent":"JSON Field Overview","anchorList":[{"label":"Aperçu des champs JSON","href":"JSON-Field-Overview","type":1,"isActive":false},{"label":"Qu'est-ce qu'un champ JSON ?","href":"What-is-a-JSON-field","type":2,"isActive":false},{"label":"Champ JSON et champ dynamique","href":"JSON-field-vs-dynamic-field","type":2,"isActive":false},{"label":"Opérations de base","href":"Basic-operations","type":2,"isActive":false},{"label":"Définir un champ JSON","href":"Define-a-JSON-field","type":3,"isActive":false},{"label":"Insérer des données","href":"Insert-data","type":3,"isActive":false},{"label":"Opérations de filtrage","href":"Filtering-operations","type":3,"isActive":false},{"label":"Suivant : Accélérer les requêtes JSON","href":"Next-Accelerate-JSON-queries","type":2,"isActive":false},{"label":"FAQ","href":"FAQ","type":2,"isActive":false},{"label":"Y a-t-il des limites à la taille d'un champ JSON ?","href":"Are-there-any-limitations-on-the-size-of-a-JSON-field","type":3,"isActive":false},{"label":"Un champ JSON permet-il de définir une valeur par défaut ?","href":"Does-a-JSON-field-support-setting-a-default-value","type":3,"isActive":false},{"label":"Existe-t-il des conventions de dénomination pour les clés des champs JSON ?","href":"Are-there-any-naming-conventions-for-JSON-field-keys","type":3,"isActive":false},{"label":"Comment Milvus traite-t-il les valeurs de chaîne dans les champs JSON ?","href":"How-does-Milvus-handle-string-values-in-JSON-fields","type":3,"isActive":false}]}