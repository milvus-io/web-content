---
id: metrics_dashboard.md
title: Milvus指標ダッシュボード
summary: このトピックでは、Milvus ダッシュボードに表示される監視メトリクスを紹介します。
---

<h1 id="Milvus-Metrics-Dashboard" class="common-anchor-header">Milvusメトリクスダッシュボード<button data-href="#Milvus-Metrics-Dashboard" class="anchor-icon" translate="no">
      <svg translate="no"
        aria-hidden="true"
        focusable="false"
        height="20"
        version="1.1"
        viewBox="0 0 16 16"
        width="16"
      >
        <path
          fill="#0092E4"
          fill-rule="evenodd"
          d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
        ></path>
      </svg>
    </button></h1><p>Milvusは実行時に詳細な時系列メトリクスのリストを出力します。<a href="https://prometheus.io/">Prometheusと</a> <a href="https://grafana.com/">Grafanaを</a>使用してメトリクスを可視化できます。このトピックでは、Grafana Milvusダッシュボードに表示される監視メトリクスを紹介します。</p>
<p>このトピックでの時間単位はミリ秒です。また、本トピックにおける「99パーセンタイル」とは、時間統計の99パーセントが一定値内に制御されていることを指します。</p>
<p>Prometheusのメトリクスを理解するために、まず<a href="/docs/ja/v2.4.x/monitor_overview.md">Milvusモニタリングフレームワークの概要を</a>読むことをお勧めします。</p>
<p><details><summary>プロキシ</summary></p>
<table>
<thead>
<tr><th>パネル</th><th>パネルの説明</th><th>PromQL（プロメテウス・クエリ言語）</th><th>使用するMilvusメトリクス</th><th>Milvusメトリクスの説明</th></tr>
</thead>
<tbody>
<tr><td>検索ベクトルカウント率</td><td>過去2分以内に各プロキシが1秒当たりにクエリしたベクターの平均数。</td><td><code translate="no">sum(increase(milvus_proxy_search_vectors_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (pod, node_id)</code></td><td><code translate="no">milvus_proxy_search_vectors_count</code></td><td>クエリされたベクターの累積数。</td></tr>
<tr><td>挿入ベクトル・カウント・レート</td><td>過去2分以内に各プロキシが1秒間に挿入したベクターの平均数。</td><td><code translate="no">sum(increase(milvus_proxy_insert_vectors_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (pod, node_id)</code></td><td><code translate="no">milvus_proxy_insert_vectors_count</code></td><td>挿入されたベクターの累積数。</td></tr>
<tr><td>検索待ち時間</td><td>過去2分以内に各プロキシが検索リクエストとクエリリリクエストを受信したレイテンシの平均と99パーセンタイル。</td><td>p99:<br/> <code translate="no">histogram_quantile(0.99, sum by (le, query_type, pod, node_id) (rate(milvus_proxy_sq_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg:<br/> <code translate="no">sum(increase(milvus_proxy_sq_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, query_type) / sum(increase(milvus_proxy_sq_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, query_type)</code></td><td><code translate="no">milvus_proxy_sq_latency</code></td><td>検索リクエストとクエリーリクエストの待ち時間。</td></tr>
<tr><td>コレクション検索の待ち時間</td><td>過去2分以内に各プロキシが特定のコレクションへの検索およびクエリ要求を受信した際の平均待ち時間と待ち時間の99パーセンタイル。</td><td>p99:<br/> <code translate="no">histogram_quantile(0.99, sum by (le, query_type, pod, node_id) (rate(milvus_proxy_collection_sq_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;, collection_name=~&quot;$collection&quot;}[2m])))</code> <br/> avg:<br/> <code translate="no">sum(increase(milvus_proxy_collection_sq_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;, collection_name=~&quot;$collection&quot;}[2m])) by (pod, node_id, query_type) / sum(increase(milvus_proxy_collection_sq_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;, collection_name=~&quot;$collection&quot;}[2m])) by (pod, node_id, query_type)</code></td><td><code translate="no">milvus_proxy_collection_sq_latency_sum</code></td><td>特定のコレクションへの検索リクエストとクエリーリクエストの待ち時間</td></tr>
<tr><td>変異待ち時間</td><td>過去2分以内に各プロキシが変異リクエストを受信したレイテンシの平均と99パーセンタイル。</td><td>p99:<br/> <code translate="no">histogram_quantile(0.99, sum by (le, msg_type, pod, node_id) (rate(milvus_proxy_mutation_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg:<br/> <code translate="no">sum(increase(milvus_proxy_mutation_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, msg_type) / sum(increase(milvus_proxy_mutation_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, msg_type)</code></td><td><code translate="no">milvus_proxy_mutation_latency_sum</code></td><td>変異リクエストの待ち時間。</td></tr>
<tr><td>コレクションミューテーションレイテンシ</td><td>過去2分以内に各プロキシが特定のコレクションへの変異リクエストを受信したときの平均待ち時間と待ち時間の99パーセンタイル。</td><td>p99:<br/> <code translate="no">histogram_quantile(0.99, sum by (le, query_type, pod, node_id) (rate(milvus_proxy_collection_sq_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;, collection_name=~&quot;$collection&quot;}[2m])))</code> <br/> avg:<br/> <code translate="no">sum(increase(milvus_proxy_collection_sq_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;, collection_name=~&quot;$collection&quot;}[2m])) by (pod, node_id, query_type) / sum(increase(milvus_proxy_collection_sq_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;, collection_name=~&quot;$collection&quot;}[2m])) by (pod, node_id, query_type)</code></td><td><code translate="no">milvus_proxy_collection_sq_latency_sum</code></td><td>特定のコレクションへの突然変異リクエストの待ち時間</td></tr>
<tr><td>検索結果待ち時間</td><td>過去2分以内にプロキシが検索およびクエリーリクエストを送信してから結果を受信するまでの待ち時間の平均値と99パーセンタイル。</td><td>p99:<br/> <code translate="no">histogram_quantile(0.99, sum by (le, query_type, pod, node_id) (rate(milvus_proxy_sq_wait_result_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg:<br/> <code translate="no">sum(increase(milvus_proxy_sq_wait_result_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, query_type) / sum(increase(milvus_proxy_sq_wait_result_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, query_type)</code></td><td><code translate="no">milvus_proxy_sq_wait_result_latency</code></td><td>検索およびクエリーリクエストを送信してから結果を受信するまでの待ち時間。</td></tr>
<tr><td>検索結果の待ち時間の短縮</td><td>過去 2 分間における、プロキシによる検索結果とクエリ結果の集計の平均待ち時間と待ち時間の 99 パーセンタイル。</td><td>P99:<br/> <code translate="no">histogram_quantile(0.99, sum by (le, query_type, pod, node_id) (rate(milvus_proxy_sq_reduce_result_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> 平均:<br/> <code translate="no">sum(increase(milvus_proxy_sq_reduce_result_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, query_type) / sum(increase(milvus_proxy_sq_reduce_result_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, query_type)</code></td><td><code translate="no">milvus_proxy_sq_reduce_result_latency</code></td><td>各クエリノードから返された検索結果とクエリ結果を集約する際の待ち時間。</td></tr>
<tr><td>検索結果のデコード待ち時間</td><td>過去2分以内にプロキシが検索結果とクエリ結果をデコードした際のレイテンシの平均値と99パーセンタイル。</td><td>P99:<br/> <code translate="no">histogram_quantile(0.99, sum by (le, query_type, pod, node_id) (rate(milvus_proxy_sq_decode_result_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> 平均:<br/> <code translate="no">sum(increase(milvus_proxy_sq_decode_result_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, query_type) / sum(increase(milvus_proxy_sq_decode_resultlatency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, query_type)</code></td><td><code translate="no">milvus_proxy_sq_decode_result_latency</code></td><td>各検索結果とクエリ結果のデコードの待ち時間。</td></tr>
<tr><td>Msg Stream Object Num</td><td>過去2分以内に各プロキシが対応する物理トピック上に作成したmsgstreamオブジェクトの平均数、最大数、最小数。</td><td><code translate="no">avg(milvus_proxy_msgstream_obj_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id) max(milvus_proxy_msgstream_obj_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id) min(milvus_proxy_msgstream_obj_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_proxy_msgstream_obj_num</code></td><td>各物理トピックに作成された msgstream オブジェクトの数。</td></tr>
<tr><td>変異送信待ち時間</td><td>過去2分以内に各プロキシが挿入または削除要求を送信した平均待ち時間と待ち時間の99パーセンタイル。</td><td>P99:<br/> <code translate="no">histogram_quantile(0.99, sum by (le, msg_type, pod, node_id) (rate(milvus_proxy_mutation_send_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> 平均値:<br/> <code translate="no">sum(increase(milvus_proxy_mutation_send_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, msg_type) / sum(increase(milvus_proxy_mutation_send_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, msg_type)</code></td><td><code translate="no">milvus_proxy_mutation_send_latency</code></td><td>挿入または削除リクエストの送信の待ち時間。</td></tr>
<tr><td>キャッシュヒット率</td><td>過去2分以内の<code translate="no">GeCollectionID</code> 、<code translate="no">GetCollectionInfo</code> 、<code translate="no">GetCollectionSchema</code> を含む操作の1秒あたりの平均キャッシュヒット率。</td><td><code translate="no">sum(increase(milvus_proxy_cache_hit_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;, cache_state=&quot;hit&quot;}[2m])/120) by(cache_name, pod, node_id) / sum(increase(milvus_proxy_cache_hit_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by(cache_name, pod, node_id)</code></td><td><code translate="no">milvus_proxy_cache_hit_count</code></td><td>各キャッシュ読み取り操作のヒット率と失敗率の統計。</td></tr>
<tr><td>キャッシュ更新待ち時間</td><td>過去2分以内のプロキシごとの平均待ち時間とキャッシュ更新待ち時間の99パーセンタイル。</td><td>p99:<br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_proxy_cache_update_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg:<br/> <code translate="no">sum(increase(milvus_proxy_cache_update_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id) / sum(increase(milvus_proxy_cache_update_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id)</code></td><td><code translate="no">milvus_proxy_cache_update_latency</code></td><td>毎回キャッシュを更新する際の待ち時間。</td></tr>
<tr><td>同期時間</td><td>各プロキシが対応する物理チャネルで同期したエポックタイムの平均、最大、最小数。</td><td><code translate="no">avg(milvus_proxy_sync_epoch_time{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id) max(milvus_proxy_sync_epoch_time{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id) min(milvus_proxy_sync_epoch_time{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_proxy_sync_epoch_time</code></td><td>各物理チャネルのエポック時間（Unix時間、1970年1月1日から経過したミリ秒）。    <br/>    物理チャネルとは別にデフォルトの<code translate="no">ChannelName</code> がある。</td></tr>
<tr><td>PKレイテンシーの適用</td><td>過去 2 分間の各プロキシによるプライマリキーの適用レイテンシの平均値と 99 パーセンタイル。</td><td>p99:<br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_proxy_apply_pk_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg:<br/> <code translate="no">sum(increase(milvus_proxy_apply_pk_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id) / sum(increase(milvus_proxy_apply_pk_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id)</code></td><td><code translate="no">milvus_proxy_apply_pk_latency</code></td><td>プライマリキーを適用する際の待ち時間。</td></tr>
<tr><td>タイムスタンプの適用待ち時間</td><td>過去 2 分間の、各プロキシによるタイムスタンプ適用待ち時間の平均値と 99 パーセンタイル。</td><td>p99:<br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_proxy_apply_timestamp_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg:<br/> <code translate="no">sum(increase(milvus_proxy_apply_timestamp_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id) / sum(increase(milvus_proxy_apply_timestamp_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id)</code></td><td><code translate="no">milvus_proxy_apply_timestamp_latency</code></td><td>タイムスタンプ適用待ち時間。</td></tr>
<tr><td>リクエスト成功率</td><td>各プロキシが1秒あたりに受け取った成功したリクエストの数で、 リクエストタイプごとの詳細な内訳を示す。可能なリクエストタイプは、DescribeCollection、DescribeIndex、GetCollectionStatistics、HasCollection、Search、Query、ShowPartitions、Insert など。</td></tr>
<tr><td><code translate="no">sum(increase(milvus_proxy_req_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;, status=&quot;success&quot;}[2m])/120) by(function_name, pod, node_id)</code></td><td><code translate="no">milvus_proxy_req_count</code></td><td>すべてのタイプの受信リクエスト数</td></tr>
<tr><td>リクエスト失敗率</td><td>各プロキシが毎秒受信する失敗したリクエストの数で、各リクエストタイプの詳細な内訳。可能なリクエストタイプは、DescribeCollection、DescribeIndex、GetCollectionStatistics、HasCollection、Search、Query、ShowPartitions、Insert など。</td></tr>
<tr><td><code translate="no">sum(increase(milvus_proxy_req_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;, status=&quot;fail&quot;}[2m])/120) by(function_name, pod, node_id)</code></td><td><code translate="no">milvus_proxy_req_count</code></td><td>すべてのタイプの受信リクエスト数</td></tr>
<tr><td>リクエストの待ち時間</td><td>各プロキシが受信した全リクエストの平均レイテンシと99パーセンタイル。</td><td>p99:<br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id, function_name) (rate(milvus_proxy_req_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg:<br/> <code translate="no">sum(increase(milvus_proxy_req_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, function_name) / sum(increase(milvus_proxy_req_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (pod, node_id, function_name)</code></td><td><code translate="no">milvus_proxy_req_latency</code></td><td>すべての種類のリクエスト受信の待ち時間</td></tr>
<tr><td>挿入/削除リクエストバイトレート</td><td>過去2分間にプロキシが1秒間に受信した挿入リクエストと削除リクエストのバイト数。</td><td><code translate="no">sum(increase(milvus_proxy_receive_bytes_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by(pod, node_id)</code></td><td><code translate="no">milvus_proxy_receive_bytes_count</code></td><td>挿入リクエストと削除リクエストのカウント。</td></tr>
<tr><td>送信バイトレート</td><td>各プロキシが過去2分以内に検索リクエストとクエリリリクエストに応答している間にクライアントに送り返された1秒あたりのバイト数。</td><td><code translate="no">sum(increase(milvus_proxy_send_bytes_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by(pod, node_id)</code></td><td><code translate="no">milvus_proxy_send_bytes_count</code></td><td>各プロキシが検索リクエストとクエリリクエストに応答している間にクライアントに送り返されたバイト数。</td></tr>
</tbody>
</table>
<p></details></p>
<p><details><summary>ルートコーディネータ</summary></p>
<table>
<thead>
<tr><th>パネル</th><th>パネルの説明</th><th>PromQL（プロメテウス・クエリ言語）</th><th>使用されるMilvusメトリクス</th><th>Milvusメトリクスの説明</th></tr>
</thead>
<tbody>
<tr><td>プロキシ・ノード数</td><td>作成されたプロキシの数。</td><td><code translate="no">sum(milvus_rootcoord_proxy_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_rootcoord_proxy_num</code></td><td>プロキシの数。</td></tr>
<tr><td>同期時間</td><td>各物理チャネル（PChannel）の各ルート・コーダが同期したエポック・タイムの平均値、最大値、最小値。</td><td><code translate="no">avg(milvus_rootcoord_sync_epoch_time{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance) max(milvus_rootcoord_sync_epoch_time{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance) min(milvus_rootcoord_sync_epoch_time{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_rootcoord_sync_epoch_time</code></td><td>各物理チャネルのエポック時間（Unix時間、1970年1月1日以降に経過したミリ秒）。</td></tr>
<tr><td>DDL リクエスト率</td><td>過去 2 分間の 1 秒あたりの DDL 要求のステータスと数。</td><td><code translate="no">sum(increase(milvus_rootcoord_ddl_req_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (status, function_name)</code></td><td><code translate="no">milvus_rootcoord_ddl_req_count</code></td><td><code translate="no">CreateCollection</code>,<code translate="no">DescribeCollection</code>,<code translate="no">DescribeSegments</code>,<code translate="no">HasCollection</code>,<code translate="no">ShowCollections</code>,<code translate="no">ShowPartitions</code>,<code translate="no">ShowSegments</code> を含む DDL 要求の総数。</td></tr>
<tr><td>DDL リクエストの待ち時間</td><td>過去 2 分間の平均待ち時間と DDL 要求待ち時間の 99 パーセンタイル。</td><td>P99:<br/> <code translate="no">histogram_quantile(0.99, sum by (le, function_name) (rate(milvus_rootcoord_ddl_req_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> 平均:<br/> <code translate="no">sum(increase(milvus_rootcoord_ddl_req_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (function_name) / sum(increase(milvus_rootcoord_ddl_req_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by (function_name)</code></td><td><code translate="no">milvus_rootcoord_ddl_req_latency</code></td><td>すべてのタイプの DDL 要求の待ち時間。</td></tr>
<tr><td>同期タイムティック・レイテンシ</td><td>ルートコーディネータが過去2分以内にすべてのタイムスタンプをPChannelに同期するために使用した時間の平均レイテンシと99パーセンタイル。</td><td>p99:<br/> <code translate="no">histogram_quantile(0.99, sum by (le) (rate(milvus_rootcoord_sync_timetick_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg:<br/> <code translate="no">sum(increase(milvus_rootcoord_sync_timetick_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) / sum(increase(milvus_rootcoord_sync_timetick_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m]))</code></td><td><code translate="no">milvus_rootcoord_sync_timetick_latency</code></td><td>ルートコーディネータがすべてのタイムスタンプをPCチャネルに同期するために使用した時間。</td></tr>
<tr><td>ID割り当て率</td><td>過去2分間にroot coordが割り当てたIDの数。</td><td><code translate="no">sum(increase(milvus_rootcoord_id_alloc_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120)</code></td><td><code translate="no">milvus_rootcoord_id_alloc_count</code></td><td>root coordが割り当てたIDの累積数。</td></tr>
<tr><td>タイムスタンプ</td><td>root coordの最新のタイムスタンプ。</td><td><code translate="no">milvus_rootcoord_timestamp{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}</code></td><td><code translate="no">milvus_rootcoord_timestamp</code></td><td>ルートコーデックの最新のタイムスタンプ。</td></tr>
<tr><td>保存されたタイムスタンプ</td><td>root coordがメタストレージに保存する、事前に割り当てられたタイムスタンプ。</td><td><code translate="no">milvus_rootcoord_timestamp_saved{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}</code></td><td><code translate="no">milvus_rootcoord_timestamp_saved</code></td><td>root coordがメタストレージに保存する事前に割り当てられたタイムスタンプ。     <br/>    タイムスタンプは3秒前に割り当てられる。そしてタイムスタンプは50ミリ秒ごとに更新され、メタストレージに保存される。</td></tr>
<tr><td>コレクション数</td><td>コレクションの総数。</td><td><code translate="no">sum(milvus_rootcoord_collection_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_rootcoord_collection_num</code></td><td>現在Milvusに存在するコレクションの総数。</td></tr>
<tr><td>パーティション数</td><td>パーティションの総数。</td><td><code translate="no">sum(milvus_rootcoord_partition_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_rootcoord_partition_num</code></td><td>現在Milvusに存在するパーティションの総数。</td></tr>
<tr><td>DMLチャンネル数</td><td>DMLチャンネルの総数。</td><td><code translate="no">sum(milvus_rootcoord_dml_channel_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_rootcoord_dml_channel_num</code></td><td>現在Milvusに存在するDMLチャンネルの総数。</td></tr>
<tr><td>Msgstream Num</td><td>Msgstreamの総数。</td><td><code translate="no">sum(milvus_rootcoord_msgstream_obj_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_rootcoord_msgstream_obj_num</code></td><td>現在Milvusに存在するMsgstreamの総数。</td></tr>
<tr><td>クレデンシャル数</td><td>クレデンシャルの総数。</td><td><code translate="no">sum(milvus_rootcoord_credential_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_rootcoord_credential_num</code></td><td>現在のMilvusにおけるクレデンシャルの総数。</td></tr>
<tr><td>時間ティック遅延</td><td>すべてのDataNodesおよびQueryNodes上のフローグラフの最大時間刻み遅延の合計。</td><td><code translate="no">sum(milvus_rootcoord_time_tick_delay{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_rootcoord_time_tick_delay</code></td><td>各DataNodeとQueryNodeのフローグラフの最大時間刻み遅延。</td></tr>
</tbody>
</table>
<p></details></p>
<p><details><summary>クエリ・コーディネータ</summary></p>
<table>
<thead>
<tr><th>パネル</th><th>パネルの説明</th><th>PromQL（プロメテウス・クエリ言語）</th><th>使用されるMilvusメトリクス</th><th>Milvusメトリクスの説明</th></tr>
</thead>
<tbody>
<tr><td>コレクション・ロード数</td><td>現在メモリにロードされているコレクションの数。</td><td><code translate="no">sum(milvus_querycoord_collection_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_querycoord_collection_num</code></td><td>Milvusによって現在ロードされているコレクションの数。</td></tr>
<tr><td>エンティティのロード数</td><td>現在メモリにロードされているエンティティの数。</td><td><code translate="no">sum(milvus_querycoord_entity_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_querycoord_entitiy_num</code></td><td>Milvusによって現在ロードされているエンティティの数。</td></tr>
<tr><td>ロード要求レート</td><td>過去2分間の1秒あたりのロードリクエスト数。</td><td><code translate="no">sum(increase(milvus_querycoord_load_req_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])120) by (status)</code></td><td><code translate="no">milvus_querycoord_load_req_count</code></td><td>累積ロードリクエスト数。</td></tr>
<tr><td>リリース要求率</td><td>過去2分以内の1秒あたりのリリース要求数。</td><td><code translate="no">sum(increase(milvus_querycoord_release_req_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (status)</code></td><td><code translate="no">milvus_querycoord_release_req_count</code></td><td>累積リリースリクエスト数。</td></tr>
<tr><td>負荷要求待ち時間</td><td>過去2分以内の負荷要求待ち時間の平均と99パーセンタイル。</td><td>p99:<br/> <code translate="no">histogram_quantile(0.99, sum by (le) (rate(milvus_querycoord_load_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg:<br/> <code translate="no">sum(increase(milvus_querycoord_load_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) / sum(increase(milvus_querycoord_load_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m]))</code></td><td><code translate="no">milvus_querycoord_load_latency</code></td><td>負荷要求を完了するのに使用される時間。</td></tr>
<tr><td>リリース要求待ち時間</td><td>過去2分以内の平均待ち時間とリリース要求待ち時間の99パーセンタイル。</td><td>p99:<br/> <code translate="no">histogram_quantile(0.99, sum by (le) (rate(milvus_querycoord_release_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg:<br/> <code translate="no">sum(increase(milvus_querycoord_release_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) / sum(increase(milvus_querycoord_release_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m]))</code></td><td><code translate="no">milvus_querycoord_release_latency</code></td><td>リリース要求の完了に使用された時間。</td></tr>
<tr><td>サブロードタスク</td><td>サブロードタスクの数。</td><td><code translate="no">sum(milvus_querycoord_child_task_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_querycoord_child_task_num</code></td><td>サブロードタスクの数。    <br/>    クエリコーデックは負荷要求を複数のサブ負荷タスクに分割する。</td></tr>
<tr><td>親ロードタスク</td><td>親ロードタスクの数。</td><td><code translate="no">sum(milvus_querycoord_parent_task_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_querycoord_parent_task_num</code></td><td>サブ負荷タスクの数。    <br/>    各負荷要求はタスクキュー内の親タスクに対応する。</td></tr>
<tr><td>サブ負荷タスクの待ち時間</td><td>過去2分以内のサブロードタスクの平均待ち時間と待ち時間の99パーセンタイル。</td><td>p99:<br/> <code translate="no">histogram_quantile(0.99, sum by (le) (rate(milvus_querycoord_child_task_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg:<br/> <code translate="no">sum(increase(milvus_querycoord_child_task_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) / sum(increase(milvus_querycoord_child_task_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) namespace&quot;}[2m])))</code></td><td><code translate="no">milvus_querycoord_child_task_latency</code></td><td>サブロードタスクを完了するまでの待ち時間。</td></tr>
<tr><td>クエリノード数</td><td>クエリ・コーデックが管理するクエリ・ノードの数。</td><td><code translate="no">sum(milvus_querycoord_querynode_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_querycoord_querynode_num</code></td><td>クエリコーデックが管理するクエリノードの数。</td></tr>
</tbody>
</table>
<p></details></p>
<p><details><summary>クエリノード</summary></p>
<table>
<thead>
<tr><th>パネル</th><th>パネルの説明</th><th>PromQL（プロメテウス・クエリ言語）</th><th>使用されるMilvusメトリクス</th><th>Milvus メトリクスの説明</th></tr>
</thead>
<tbody>
<tr><td>コレクション・ロード数</td><td>各クエリ・ノードがメモリにロードしたコレクションの数。</td><td><code translate="no">sum(milvus_querynode_collection_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_querynode_collection_num</code></td><td>各クエリ・ノードによってロードされたコレクションの数。</td></tr>
<tr><td>パーティション・ロード数</td><td>各クエリ・ノードがメモリにロードしたパーティションの数。</td><td><code translate="no">sum(milvus_querynode_partition_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_querynode_partition_num</code></td><td>各クエリ・ノードによってロードされたパーティションの数。</td></tr>
<tr><td>セグメント・ロード数</td><td>各クエリ・ノードがメモリにロードしたセグメントの数。</td><td><code translate="no">sum(milvus_querynode_segment_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_querynode_segment_num</code></td><td>各クエリノードがロードしたセグメントの数。</td></tr>
<tr><td>クエリ可能なエンティティ数</td><td>各クエリノードで検索可能なエンティティの数。</td><td><code translate="no">sum(milvus_querynode_entity_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_querynode_entity_num</code></td><td>各クエリ・ノードでクエリ可能および検索可能なエンティティの数。</td></tr>
<tr><td>DML仮想チャネル</td><td>各クエリ・ノードが監視している DML 仮想チャネルの数。</td><td><code translate="no">sum(milvus_querynode_dml_vchannel_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_querynode_dml_vchannel_num</code></td><td>各クエリ・ノードが監視している DML 仮想チャネルの数。</td></tr>
<tr><td>デルタ仮想チャネル</td><td>各クエリ・ノードが監視しているデルタ・チャネルの数。</td><td><code translate="no">sum(milvus_querynode_delta_vchannel_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_querynode_delta_vchannel_num</code></td><td>各クエリ・ノードが監視するデルタ・チャネルの数。</td></tr>
<tr><td>コンシューマ数</td><td>各クエリ・ノードのコンシューマの数。</td><td><code translate="no">sum(milvus_querynode_consumer_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_querynode_consumer_num</code></td><td>各クエリノードのコンシューマの数。</td></tr>
<tr><td>検索リクエスト率</td><td>各クエリノードが1秒間に受信した検索およびクエリ要求の総数と、過去2分以内に成功した検索およびクエリ要求の数。</td><td><code translate="no">sum(increase(milvus_querynode_sq_req_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (query_type, status, pod, node_id)</code></td><td><code translate="no">milvus_querynode_sq_req_count</code></td><td>検索およびクエリーリクエストの累積数。</td></tr>
<tr><td>検索リクエストの待ち時間</td><td>各クエリ・ノードが過去2分以内に検索およびクエリ・リクエストに使用した時間の平均待ち時間と99パーセンタイル。    <br/>    このパネルには、ステータスが &quot;success &quot;または &quot;total &quot;の検索およびクエリーリクエストの待ち時間が表示されます。</td><td>P99:<br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_querynode_sq_req_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> 平均値:<br/> <code translate="no">sum(increase(milvus_querynode_sq_req_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id, query_type) / sum(increase(milvus_querynode_sq_req_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id, query_type)</code></td><td><code translate="no">milvus_querynode_sq_req_latency</code></td><td>クエリノードの検索リクエストの待ち時間。</td></tr>
<tr><td>キュー内検索待ち時間</td><td>過去2分以内のキュー内の検索リクエストとクエリーリクエストの平均待ち時間と待ち時間の99パーセンタイル。</td><td>p99:<br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id, query_type) (rate(milvus_querynode_sq_queue_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg:<br/> <code translate="no">sum(increase(milvus_querynode_sq_queue_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id, query_type) / sum(increase(milvus_querynode_sq_queue_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id, query_type)</code></td><td><code translate="no">milvus_querynode_sq_queue_latency</code></td><td>クエリノードが受信した検索リクエストとクエリリリクエストの待ち時間。</td></tr>
<tr><td>検索セグメントの待ち時間</td><td>各クエリ・ノードが過去2分以内にセグメントの検索とクエリに要した時間の平均レイテンシと99パーセンタイル。    <br/>    セグメントのステータスは、sealed または growing のいずれか。</td><td>p99:<br/> <code translate="no">histogram_quantile(0.99, sum by (le, query_type, segment_state, pod, node_id) (rate(milvus_querynode_sq_segment_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg:<br/> <code translate="no">sum(increase(milvus_querynode_sq_segment_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id, query_type, segment_state) / sum(increase(milvus_querynode_sq_segment_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id, query_type, segment_state)</code></td><td><code translate="no">milvus_querynode_sq_segment_latency</code></td><td>各クエリノードが各セグメントの検索とクエリにかかる時間。</td></tr>
<tr><td>セグコア・リクエスト・レイテンシー</td><td>各クエリノードが過去2分以内にセグコアの検索とクエリに要した時間の平均レイテンシと99パーセンタイル。</td><td>p99:<br/> <code translate="no">histogram_quantile(0.99, sum by (le, query_type, pod, node_id) (rate(milvus_querynode_sq_core_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg:<br/> <code translate="no">sum(increase(milvus_querynode_sq_core_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id, query_type) / sum(increase(milvus_querynode_sq_core_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id, query_type)</code></td><td><code translate="no">milvus_querynode_sq_core_latency</code></td><td>各クエリノードが segcore での検索とクエリにかかる時間。</td></tr>
<tr><td>検索削減レイテンシー</td><td>過去2分以内に各クエリノードが検索やクエリのリデュースステージで使用した時間の平均レイテンシと99パーセンタイル。</td><td>p99:<br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id, query_type) (rate(milvus_querynode_sq_reduce_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg:<br/> <code translate="no">sum(increase(milvus_querynode_sq_reduce_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id, query_type) / sum(increase(milvus_querynode_sq_reduce_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id, query_type)</code></td><td><code translate="no">milvus_querynode_sq_reduce_latency</code></td><td>各クエリがリデュースの段階で費やす時間。</td></tr>
<tr><td>ロードセグメントの待ち時間</td><td>各クエリノードが過去2分間にセグメントをロードするのに要した時間の平均レイテンシと99パーセンタイル。</td><td>p99:<br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_querynode_load_segment_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg:<br/> <code translate="no">sum(increase(milvus_querynode_load_segment_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_querynode_load_segment_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td><code translate="no">milvus_querynode_load_segment_latency_bucket</code></td><td>各クエリノードがセグメントをロードするのにかかる時間。</td></tr>
<tr><td>フローグラフ数</td><td>各クエリ・ノードのフローグラフの数。</td><td><code translate="no">sum(milvus_querynode_flowgraph_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_querynode_flowgraph_num</code></td><td>各クエリ・ノードのフローグラフの数。</td></tr>
<tr><td>未解決読み取りタスクの長さ</td><td>各クエリ・ノードにおける未解決の読み取り要求のキューの長さ。</td><td><code translate="no">sum(milvus_querynode_read_task_unsolved_len{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_querynode_read_task_unsolved_len</code></td><td>未解決の読み取り要求のキューの長さ。</td></tr>
<tr><td>レディ・リード・タスクの長さ</td><td>各クエリノードで実行される読み込み要求のキューの長さ。</td><td><code translate="no">sum(milvus_querynode_read_task_ready_len{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_querynode_read_task_ready_len</code></td><td>実行される読み込み要求のキューの長さ。</td></tr>
<tr><td>並列読み取りタスク数</td><td>各クエリ・ノードで現在実行されている同時並行読み取り要求の数。</td><td><code translate="no">sum(milvus_querynode_read_task_concurrency{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_querynode_read_task_concurrency</code></td><td>現在実行されている同時読み取り要求の数。</td></tr>
<tr><td>推定CPU使用率</td><td>スケジューラが推定した各クエリノードのCPU使用率。</td><td><code translate="no">sum(milvus_querynode_estimate_cpu_usage{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_querynode_estimate_cpu_usage</code></td><td>スケジューラが推定した各クエリノードのCPU使用率。     <br/>    値が100の場合、仮想CPU(vCPU)全体が使用されていることを意味する。</td></tr>
<tr><td>検索グループサイズ</td><td>過去 2 分間の検索グループサイズ（各クエリノードが実行した検索リクエストを合計したオリジナル検索リクエストの総数）の平均値と 99 パーセンタイル。</td><td>p99:<br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_querynode_search_group_size_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg:<br/> <code translate="no">sum(increase(milvus_querynode_search_group_size_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_querynode_search_group_size_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td><code translate="no">milvus_querynode_load_segment_latency_bucket</code></td><td>異なるバケツからの検索タスクのうち、オリジナルの検索タスクの数（検索グループサイズ）。</td></tr>
<tr><td>検索 NQ</td><td>各クエリノードが過去2分間に検索リクエストを実行したクエリ数(NQ)の平均値と99パーセンタイル。</td><td>p99:<br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_querynode_search_group_size_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg:<br/> <code translate="no">sum(increase(milvus_querynode_search_group_size_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_querynode_search_group_size_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td>milvus_querynode_load_segment_latency_bucket</td><td>検索リクエストのクエリー数（NQ）。</td></tr>
<tr><td>検索グループ NQ</td><td>各クエリーノードが過去2分以内に実行した検索リクエストの平均数とNQの99パーセンタイル。</td><td>p99:<br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_querynode_search_group_nq_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg:<br/> <code translate="no">sum(increase(milvus_querynode_search_group_nq_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_querynode_search_group_nq_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td><code translate="no">milvus_querynode_load_segment_latency_bucket</code></td><td>異なるバケツからの検索リクエストを合計した NQ。</td></tr>
<tr><td>検索トップ</td><td>各クエリノードが過去2分以内に実行した検索リクエストの<code translate="no">Top_K</code> の平均数と99パーセンタイル。</td><td>p99:<br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_querynode_search_topk_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg:<br/> <code translate="no">sum(increase(milvus_querynode_search_topk_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_querynode_search_topk_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td><code translate="no">milvus_querynode_load_segment_latency_bucket</code></td><td><code translate="no">Top_K</code> 検索リクエストの数。</td></tr>
<tr><td>検索グループ Top_K</td><td>過去2分以内に各クエリーノードが実行した検索リクエストの<code translate="no">Top_K</code> を合計した平均数と99パーセンタイル。</td><td>p99:<br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_querynode_search_group_topk_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg:<br/> <code translate="no">sum(increase(milvus_querynode_search_group_topk_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_querynode_search_group_topk_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td><code translate="no">milvus_querynode_load_segment_latency_bucket</code></td><td><code translate="no">Top_K</code> 異なるバケツからの検索リクエストの組み合わせ。</td></tr>
<tr><td>退避された読み込みリクエスト数</td><td>過去2分以内に各クエリノードが1秒間に退避させた読み込みリクエスト数。</td><td><code translate="no">sum(increase(milvus_querynode_read_evicted_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (pod, node_id)</code></td><td><code translate="no">milvus_querynode_sq_req_count</code></td><td>トラフィック制限のためにクエリノードが退避させた読み込みリクエストの累積数。</td></tr>
</tbody>
</table>
<p></details></p>
<p><details><summary>データコーディネータ</summary></p>
<table>
<thead>
<tr><th>パネル</th><th>パネルの説明</th><th>PromQL（プロメテウス・クエリ言語）</th><th>使用されるMilvusメトリクス</th><th>Milvusメトリクスの説明</th></tr>
</thead>
<tbody>
<tr><td>データノード数</td><td>データ・コーディネータが管理するデータ・ノードの数。</td><td><code translate="no">sum(milvus_datacoord_datanode_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_datacoord_datanode_num</code></td><td>データ・コーデックが管理するデータ・ノードの数。</td></tr>
<tr><td>セグメント数</td><td>data coordataによってメタデータに記録されたすべてのタイプのセグメントの数。</td><td><code translate="no">sum(milvus_datacoord_segment_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (segment_state)</code></td><td><code translate="no">milvus_datacoord_segment_num</code></td><td>データ・コーディネータによってメタデータに記録されたすべてのタイプのセグメントの数。    <br/>    セグメントの種類には、ドロップ、フラッシュ、フラッシング、グロース、シーリングが含まれる。</td></tr>
<tr><td>コレクション数</td><td>メタデータに記録されたコレクションの数。</td><td><code translate="no">sum(milvus_datacoord_collection_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_datacoord_collection_num</code></td><td>データ・コーデックによってメタデータに記録されたコレクションの数。</td></tr>
<tr><td>蓄積行数</td><td>データ・コーデック内の有効およびフラッシュされたデータの累積行数。</td><td><code translate="no">sum(milvus_datacoord_stored_rows_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_datacoord_stored_rows_num</code></td><td>データ・コーデック内の有効なデータとフラッシュされたデータの累積行数。</td></tr>
<tr><td>保存行数レート</td><td>過去2分間にフラッシュされた1秒あたりの平均行数。</td><td><code translate="no">sum(increase(milvus_datacoord_stored_rows_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (pod, node_id)</code></td><td><code translate="no">milvus_datacoord_stored_rows_count</code></td><td>データ・コーデックでフラッシュされた行の累積数。</td></tr>
<tr><td>同期時間</td><td>各物理チャネルの data coord で同期されたエポック・タイムの平均、最大、最小。</td><td><code translate="no">avg(milvus_datacoord_sync_epoch_time{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance) max(milvus_datacoord_sync_epoch_time{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance) min(milvus_datacoord_sync_epoch_time{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_datacoord_sync_epoch_time</code></td><td>各物理チャネルのエポック時間（Unix時間、1970年1月1日以降に経過したミリ秒）。</td></tr>
<tr><td>保存ビンログサイズ</td><td>保存されているビンログの合計サイズ。</td><td><code translate="no">sum(milvus_datacoord_stored_binlog_size{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_datacoord_stored_binlog_size</code></td><td>Milvusに保存されているbinlogの合計サイズ。</td></tr>
</tbody>
</table>
<p></details></p>
<p><details><summary>データノード</summary></p>
<table>
<thead>
<tr><th>パネル</th><th>パネルの説明</th><th>PromQL（プロメテウス・クエリー言語）</th><th>使用されるMilvusメトリクス</th><th>Milvusメトリクスの説明</th></tr>
</thead>
<tbody>
<tr><td>フローグラフ数</td><td>各データ・ノードに対応するフローグラフ・オブジェクトの数。</td><td><code translate="no">sum(milvus_datanode_flowgraph_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_datanode_flowgraph_num</code></td><td>フローグラフ・オブジェクトの数。     <br/>    コレクション内の各シャードはフローグラフ・オブジェクトに対応する。</td></tr>
<tr><td>Msg行消費率</td><td>各データ・ノードが過去2分間に1秒間に消費したストリーミング・メッセージの行数。</td><td><code translate="no">sum(increase(milvus_datanode_msg_rows_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (msg_type, pod, node_id)</code></td><td><code translate="no">milvus_datanode_msg_rows_count</code></td><td>消費されたストリーミング・メッセージの行数。     <br/>    現在、データ・ノードごとにカウントされるストリーミング・メッセージには、挿入メッセージと削除メッセージのみが含まれます。</td></tr>
<tr><td>フラッシュ・データ・サイズ・レート</td><td>過去2分間に各データノードが1秒間に記録した各フラッシュ・メッセージのサイズ。</td><td><code translate="no">sum(increase(milvus_datanode_flushed_data_size{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (msg_type, pod, node_id)</code></td><td><code translate="no">milvus_datanode_flushed_data_size</code></td><td>各フラッシュ・メッセージのサイズ。    <br/>    現在、データ・ノードごとにカウントされるストリーミング・メッセージには、挿入メッセージと削除メッセージのみが含まれます。</td></tr>
<tr><td>コンシューマー数</td><td>各データ・ノードで作成されたコンシューマの数。</td><td><code translate="no">sum(milvus_datanode_consumer_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_datanode_consumer_num</code></td><td>各データ・ノードに作成されたコンシューマの数。     <br/>    各フローグラフがコンシューマに対応する。</td></tr>
<tr><td>プロデューサー数</td><td>各データ・ノードに作成されたプロデューサの数。</td><td><code translate="no">sum(milvus_datanode_producer_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_datanode_producer_num</code></td><td>各データ・ノードに作成されたコンシューマの数。     <br/>    コレクション内の各シャードは、デルタ・チャネル・プロデューサーとタイムティック・チャネル・プロデューサーに対応する。</td></tr>
<tr><td>同期時間</td><td>すべての物理トピックで各データ・ノードが同期したエポック・タイムの平均、最大、最小数。</td><td><code translate="no">avg(milvus_datanode_sync_epoch_time{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id) max(milvus_datanode_sync_epoch_time{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id) min(milvus_datanode_sync_epoch_time{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_datanode_sync_epoch_time</code></td><td>データ・ノード上の各物理トピックのエポック時間（Unix時間、1970年1月1日以降に経過したミリ秒）。</td></tr>
<tr><td>未フラッシュセグメント数</td><td>各データ・ノードで作成された未フラッシュ・セグメントの数。</td><td><code translate="no">sum(milvus_datanode_unflushed_segment_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (pod, node_id)</code></td><td><code translate="no">milvus_datanode_unflushed_segment_num</code></td><td>各データノードで作成されたフラッシュされていないセグメントの数。</td></tr>
<tr><td>エンコード・バッファ・レイテンシ</td><td>過去2分以内に各データノードがバッファのエンコードに使用した時間の平均レイテンシと99パーセンタイル。</td><td>p99:<br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_datanode_encode_buffer_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg:<br/> <code translate="no">sum(increase(milvus_datanode_encode_buffer_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_datanode_encode_buffer_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td><code translate="no">milvus_datanode_encode_buffer_latency</code></td><td>各データノードがバッファをエンコードするのにかかる時間。</td></tr>
<tr><td>セーブデータレイテンシ</td><td>各データノードが過去2分以内にストレージレイヤーにバッファを書き込むのに要した時間の平均レイテンシと99パーセンタイル。</td><td>p99:<br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_datanode_save_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg:<br/> <code translate="no">sum(increase(milvus_datanode_save_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_datanode_save_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td><code translate="no">milvus_datanode_save_latency</code></td><td>各データノードがストレージレイヤーにバッファを書き込むのにかかる時間。</td></tr>
<tr><td>フラッシュオペレート</td><td>各データノードが過去2分以内に1秒間にバッファをフラッシュした回数。</td><td><code translate="no">sum(increase(milvus_datanode_flush_buffer_op_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (status, pod, node_id)</code></td><td><code translate="no">milvus_datanode_flush_buffer_op_count</code></td><td>データ・ノードがバッファをフラッシュした累積回数。</td></tr>
<tr><td>オートフラッシュ・オペレート</td><td>各データノードが過去2分以内に1秒間にバッファを自動フラッシュした回数。</td><td><code translate="no">sum(increase(milvus_datanode_autoflush_buffer_op_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (status, pod, node_id)</code></td><td><code translate="no">milvus_datanode_autoflush_buffer_op_count</code></td><td>データ・ノードがバッファを自動フラッシュする累積回数。</td></tr>
<tr><td>フラッシュ要求レート</td><td>各データ・ノードが過去2分以内に1秒間にバッファ・フラッシュ要求を受信した回数。</td><td><code translate="no">sum(increase(milvus_datanode_flush_req_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (status, pod, node_id)</code></td><td><code translate="no">milvus_datanode_flush_req_count</code></td><td>データ・ノードがデータ・コーデックからフラッシュ要求を受信した累積回数。</td></tr>
<tr><td>コンパクション・レイテンシ</td><td>各データノードが過去2分以内にコンパクションタスクを実行するのにかかった時間の平均レイテンシと99パーセンタイル。</td><td>p99:<br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_datanode_compaction_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg:<br/> <code translate="no">sum(increase(milvus_datanode_compaction_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_datanode_compaction_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td><code translate="no">milvus_datanode_compaction_latency</code></td><td>各データノードがコンパクションタスクを実行するのにかかる時間。</td></tr>
</tbody>
</table>
<p></details></p>
<p><details><summary>インデックス・コーディネータ</summary></p>
<table>
<thead>
<tr><th>パネル</th><th>パネルの説明</th><th>PromQL（プロメテウス・クエリ言語）</th><th>使用されるMilvusメトリクス</th><th>Milvusメトリクスの説明</th></tr>
</thead>
<tbody>
<tr><td>インデックス要求率</td><td>過去2分間に受信したインデックス構築リクエストの1秒あたりの平均数。</td><td><code translate="no">sum(increase(milvus_indexcoord_indexreq_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (status)</code></td><td><code translate="no">milvus_indexcoord_indexreq_count</code></td><td>受信したインデックス構築リクエスト数。</td></tr>
<tr><td>インデックス・タスク数</td><td>インデックス・メタデータに記録されたすべてのインデックス作成タスクの数。</td><td><code translate="no">sum(milvus_indexcoord_indextask_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (index_task_status)</code></td><td><code translate="no">milvus_indexcoord_indextask_count</code></td><td>インデックスメタデータに記録されているすべてのインデックス作成タスクの数。</td></tr>
<tr><td>インデックスノード数</td><td>管理インデックスノードの数。</td><td><code translate="no">sum(milvus_indexcoord_indexnode_num{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}) by (app_kubernetes_io_instance)</code></td><td><code translate="no">milvus_indexcoord_indexnode_num</code></td><td>管理インデックスノードの数。</td></tr>
</tbody>
</table>
<p></details></p>
<p><details><summary>インデックス・ノード</summary></p>
<table>
<thead>
<tr><th>パネル</th><th>パネルの説明</th><th>PromQL（プロメテウス・クエリ言語）</th><th>使用されるMilvusメトリクス</th><th>Milvusメトリクスの説明</th></tr>
</thead>
<tbody>
<tr><td>インデックスタスクレート</td><td>過去2分間に各インデックスノードが受信したインデックス作成タスクの1秒あたりの平均数。</td><td><code translate="no">sum(increase(milvus_indexnode_index_task_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])/120) by (status, pod, node_id)</code></td><td><code translate="no">milvus_indexnode_index_task_count</code></td><td>受信したインデックス構築タスクの数。</td></tr>
<tr><td>負荷フィールドの待ち時間</td><td>過去 2 分間に各インデックス・ノードがセグメント・フィールド・データをロードするために使用した時間の平均レイテンシと 99 パーセンタイル。</td><td>P99:<br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_indexnode_load_field_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> 平均:<br/> <code translate="no">sum(increase(milvus_indexnode_load_field_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_indexnode_load_field_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td><code translate="no">milvus_indexnode_load_field_latency</code></td><td>インデックスノードがセグメントフィールドデータのロードに使用した時間。</td></tr>
<tr><td>デコードフィールドレイテンシー</td><td>過去 2 分間に各インデックスノードがフィールドデータをエンコードするために使用した時間の平均 レイテンシと 99 パーセンタイル。</td><td>p99:<br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_indexnode_decode_field_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg:<br/> <code translate="no">sum(increase(milvus_indexnode_decode_field_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_indexnode_decode_field_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td><code translate="no">milvus_indexnode_decode_field_latency</code></td><td>フィールドデータのデコードに使用された時間。</td></tr>
<tr><td>インデックスの構築待ち時間</td><td>各インデックスノードが過去2分以内にインデックスを構築するために使用した時間の平均待ち時間と99パーセンタイル。</td><td>p99:<br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_indexnode_build_index_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg:<br/> <code translate="no">sum(increase(milvus_indexnode_build_index_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_indexnode_build_index_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td><code translate="no">milvus_indexnode_build_index_latency</code></td><td>インデックスの構築に使用された時間。</td></tr>
<tr><td>エンコード・インデックスの待ち時間</td><td>各インデックスノードが過去2分以内にインデックスファイルのエンコードに使用した時間の平均待ち時間と99パーセンタイル。</td><td>P99:<br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_indexnode_encode_index_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> 平均:<br/> <code translate="no">sum(increase(milvus_indexnode_encode_index_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_indexnode_encode_index_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td><code translate="no">milvus_indexnode_encode_index_latency</code></td><td>インデックスファイルのエンコードに使用された時間。</td></tr>
<tr><td>インデックスの保存待ち時間</td><td>各インデックスノードが過去2分以内にインデックスファイルを保存するために使用した時間の平均待ち時間と99パーセンタイル。</td><td>p99:<br/> <code translate="no">histogram_quantile(0.99, sum by (le, pod, node_id) (rate(milvus_indexnode_save_index_latency_bucket{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])))</code> <br/> avg:<br/> <code translate="no">sum(increase(milvus_indexnode_save_index_latency_sum{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id) / sum(increase(milvus_indexnode_save_index_latency_count{app_kubernetes_io_instance=~&quot;$instance&quot;, app_kubernetes_io_name=&quot;$app_name&quot;, namespace=&quot;$namespace&quot;}[2m])) by(pod, node_id)</code></td><td><code translate="no">milvus_indexnode_save_index_latency</code></td><td>インデックスファイルの保存に使用された時間。</td></tr>
</tbody>
</table>
<p></details></p>
