---
displayed_sidebar: restfulSidebar
sidebar_positition: 42
slug: /restful/upsert (v1)
title: "Upsert | RESTful"
description: "Upserts one or more entities into a collection. | RESTful"
hide_table_of_contents: true
sidebar_label: "Upsert"
sidebar_custom_props: { badges: ['post']}
---

# Upsert

import RestSpecs from '@site/src/components/RestSpecs';

<RestSpecs specs={specs} endpoint={endpoint} method={method} target="zilliz" lang="zh-CN" />

export const specs = {"summary":"Upsert","deprecated":false,"description":"Upserts one or more entities into a collection.","x-i18n":{"zh-CN":{"summary":"Upsert","description":"本接口可在指定 Collection 中插入或更新一条或多条记录。"}},"tags":["Vector Operations"],"parameters":[{"name":"Authorization","in":"header","description":"The authentication token should be <include target=\"zilliz\">an API key with appropriate privileges or </include>a pair of colon-joined username and password, like `username:password`.","x-i18n":{"zh-CN":{"description":"认证令牌。应为<include target=\"zilliz\">具备适当权限的 API 密钥或</include>用冒号分隔的用户名和密码，如 `username:password`。"}},"required":true,"example":"Bearer {{TOKEN}}","schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":false,"properties":{"dbName":{"type":"string","description":"The name of the database.","x-i18n":{"zh-CN":{"description":"数据库名称。"}},"x-include-target":["milvus"]},"collectionName":{"type":"string","description":"The name of the collection to which entities will be upserted.","x-i18n":{"zh-CN":{"description":"待插入或更新记录的目标 Collection 名称。"}}},"data":{"description":"An entity object or an array of entity objects. Note that the keys in an entity object should match the collection schema","x-i18n":{"zh-CN":{"description":"Entity 对象或 Entity 对象数组。注意，Entity 对象的结构应与 Collection Schema 一致。"}},"oneOf":[{"type":"object","description":"A single entity, whose structure should match the schema of the target collection.","x-i18n":{"zh-CN":{"description":"单个 Entity 对象，其结构应与目标 Collection 的 Schema 一致。"}},"properties":{}},{"type":"array","description":"A list of entities, each of which should match the schema of the target collection.","x-i18n":{"zh-CN":{"description":"Entity 对象列表，每个对象应与目标 Collection 的 Schema 一致。"}},"items":{"type":"object","description":"An entity that matches the schema of the target collection.","x-i18n":{"zh-CN":{"description":"一个 Entity 对象，应与目标 Collection 的 Schema 一致。"}},"properties":{}}}]}},"required":["collectionName","data"]},"example":{"data":[{"id":0,"vector":[0.3580376395471989,-0.6023495712049978,0.18414012509913835,-0.26286205330961354,0.9029438446296592],"color":"pink_8682"},{"id":1,"vector":[0.19886812562848388,0.06023560599112088,0.6976963061752597,0.2614474506242501,0.838729485096104],"color":"red_7025"},{"id":2,"vector":[0.43742130801983836,-0.5597502546264526,0.6457887650909682,0.7894058910881185,0.20785793220625592],"color":"orange_6781"},{"id":3,"vector":[0.3172005263489739,0.9719044792798428,-0.36981146090600725,-0.4860894583077995,0.95791889146345],"color":"pink_9298"},{"id":4,"vector":[0.4452349528804562,-0.8757026943054742,0.8220779437047674,0.46406290649483184,0.30337481143159106],"color":"red_4794"},{"id":5,"vector":[0.985825131989184,-0.8144651566660419,0.6299267002202009,0.1206906911183383,-0.1446277761879955],"color":"yellow_4222"},{"id":6,"vector":[0.8371977790571115,-0.015764369584852833,-0.31062937026679327,-0.562666951622192,-0.8984947637863987],"color":"red_9392"},{"id":7,"vector":[-0.33445148015177995,-0.2567135004164067,0.8987539745369246,0.9402995886420709,0.5378064918413052],"color":"grey_8510"},{"id":8,"vector":[0.39524717779832685,0.4000257286739164,-0.5890507376891594,-0.8650502298996872,-0.6140360785406336],"color":"white_9381"},{"id":9,"vector":[0.5718280481994695,0.24070317428066512,-0.3737913482606834,-0.06726932177492717,-0.6980531615588608],"color":"purple_4976"}],"collectionName":"quick_setup"}}}},"responses":{"200":{"description":"Returns the number of inserted entities and an array of their IDs.","x-i18n":{"zh-CN":{"description":"返回已插入的实体数量和其 ID 数组。"}},"content":{"application/json":{"schema":{"anyOf":[{"x-tab-label":"success","type":"object","properties":{"code":{"type":"integer","description":"Response code.","x-i18n":{"zh-CN":{"description":"响应码。"}}},"data":{"type":"object","description":"Response payload.","x-i18n":{"zh-CN":{"description":"响应载荷。"}},"properties":{"upsertCount":{"type":"integer","example":4,"description":"The number of upserted entities.","x-i18n":{"zh-CN":{"description":"插入或更新的 Entity 数量。"}}},"upsertIds":{"type":"array","items":{"type":"string","description":"An ID of an upserted entity.","x-i18n":{"zh-CN":{"description":"一个插入或更新的 Entity ID。"}}},"description":"An array of the IDs of inserted entities.","x-i18n":{"zh-CN":{"description":"插入或更新的 Entity ID 数组。"}}}}}}},{"x-tab-label":"failure","description":"Returns an error message.","x-i18n":{"zh-CN":{"description":"返回错误消息。"}},"x-i18n-langs":["zh-CN"],"type":"object","properties":{"code":{"type":"integer","description":"Response code.","x-i18n":{"zh-CN":{"description":"响应码。"}}},"message":{"type":"string","description":"Error message.","x-i18n":{"zh-CN":{"description":"错误描述。"}}}}}]},"examples":{"1":{"summary":"success","x-target-response":"OPTION 1","value":{"code":200,"data":{"upsertCount":10,"upsertIds":[0,1,2,3,4,5,6,7,8,9]}}},"2":{"summary":"failure","x-target-response":"OPTION 2","value":{"code":200,"message":"The token is illegal."}}}}}}},"security":[]}
export const endpoint = "/v1/vector/upsert"
export const method = "post"
